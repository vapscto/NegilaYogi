<section class="content">
    <form class="form-horizontal ng-pristine ng-valid" name="myForm" role="form" novalidate>
        <div data-ng-init="BindData()">
            <div class="box box-primary">
                <div class="box-header with-border">
                    <h3 class="box-title">Sports Report{{yearname}}</h3>
                    <div class="box-tools pull-right">
                        <button type="button" class="btn btn-box-tool" data-widget="collapse"><i class="fa fa-minus"></i></button>
                    </div>
                </div>
                <div class="box-body">
                    <div class="row">
                        <div class="col-sm-12">
                            <div class="col-sm-6">

                                <div class="form-group">
                                    <label class="control-label col-sm-4">Academic Year:<strong style="color:red;display:inline; font-weight: bolder; margin-left: 1px;">*</strong></label>
                                    <div class="col-sm-8">
                                        <select class="form-control" id="sm" name="yeardd" ng-model="asmaY_Id" ng-change="RepeatDta()" ng-disabled="spccetM_Id > 0" required>
                                            <option value="">Select Academic Year</option>
                                            <option ng-repeat="year in yearlt" value="{{year.asmaY_Id}}" ng-selected="year.asmaY_Id == ASMAY_Id">
                                                {{year.asmaY_Year}}
                                            </option>
                                        </select>
                                        <div class="error-messages" ng-if="interacted(myForm.yeardd)" ng-messages="myForm.yeardd.$error">
                                            <div ng-message="required">Please Select Academic Year</div>
                                        </div>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label class="control-label col-sm-4">Event:<strong style="color:red;display:inline; font-weight: bolder; margin-left: 1px;">*</strong></label>
                                    <div class="col-sm-8">
                                        <select class="form-control" id="sm" name="Event" ng-model="obj.spccE_Id" required>
                                            <option value="">Select Event</option>
                                            <option ng-repeat="event in MasterEvent" value="{{event.spccE_Id}}" ng-selected="event.spccE_Id == obj.spccE_Id">
                                                {{event.spccmE_EventName}}
                                            </option>--
                                        </select>
                                        <div class="error-messages" ng-if="interacted(myForm.Event)" ng-messages="myForm.Event.$error">
                                            <div ng-message="required">Please Select Academic Year</div>
                                        </div>
                                    </div>
                                </div>

                                <div class="form-group">
                                    <label class="control-label col-sm-4">Competetion Level:<span style="color:Red">*</span></label>
                                    <div class="col-sm-8">
                                        <select class="form-control" ng-model="obj.spccmcL_Id" name="categoryyyyy" required>
                                            <option value="">--Select--</option>
                                            <option ng-repeat="val in CompetetionLevel" value="{{val.spccmcL_Id}}" ng-selected="val.spccmcL_Id==obj.spccmcL_Id">
                                                {{val.spccmcL_CompitionLevel}}
                                            </option>
                                        </select>
                                        <div class="error-messages" ng-if="interacted(myForm.categoryyyyy)" ng-messages="myForm.categoryyyyy.$error">
                                            <div ng-message="required">Select Competetion Level</div>
                                        </div>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label class="control-label col-sm-4">Team Name:<span style="color:red;">*</span></label>
                                    <div class="col-sm-8">
                                        <input type="text" name="name" ng-model="spccetM_TeamName" class="form-control" maxlength="30" allow-pattern="(\s|[a-zA-Z0-9]|-)" placeholder="Enter Team Name..." required />
                                        <div class="error-messages" ng-if="interacted(myForm.name)" ng-messages="myForm.name.$error" required>
                                            <div ng-message="required">Enter the Team Name</div>
                                        </div>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label class="control-label col-sm-4">No.Of Participants:<span style="color:Red">*</span></label>
                                    <div class="col-sm-8">
                                        <input type="text" name="member" ng-model="spccetM_NoOfParticipants" ng-disabled="true" class="form-control" maxlength="8" allow-pattern="\d" placeholder="Enter No.Of Participants..." required />
                                        <div class="error-messages" ng-if="interacted(myForm.member)" ng-messages="myForm.member.$error">
                                            <div ng-message="required">Please fill No.Of Participants</div>
                                        </div>
                                    </div>
                                </div>

                            </div>
                            <div class="col-sm-6">
                                <div class="form-group">
                                    <label class="control-label col-sm-4">Competition Category:<span style="color:Red">*</span></label>
                                    <div class="col-sm-8">
                                        <select class="form-control" ng-model="spccmcC_Id" name="Outdoor" required>
                                            <option value="">--Select--</option>
                                            <option ng-repeat="val in categoryList" value="{{val.spccmcC_Id}}" ng-selected="val.spccmcC_Id == spccmcC_Id">
                                                {{val.spccmcC_CompitionCategory}}
                                            </option>
                                        </select>
                                        <div class="error-messages" ng-if="interacted(myForm.Outdoor)" ng-messages="myForm.Outdoor.$error">
                                            <div ng-message="required">Select Competition Category</div>
                                        </div>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label class="control-label col-sm-4">Sports Name:<span style="color:Red">*</span></label>
                                    <div class="col-sm-8">
                                        <select class="form-control" id="sport" ng-model="spccmscC_Id" ng-change="SportsQuata()" name="SName" required>
                                            <option value="">--Select Sport Name--</option>
                                            <option ng-repeat="val in SportsName" value="{{val.spccmscC_Id}}" ng-selected="val.spccmscC_Id == spccmscC_Id">
                                                {{val.spccmscC_SportsCCName}}
                                            </option>
                                        </select>
                                        <div class="error-messages" ng-if="interacted(myForm.SName)" ng-messages="myForm.SName.$error">
                                            <div ng-message="required">Select Competition Category</div>
                                        </div>
                                    </div>
                                </div>

                                <!--<div class="form-group">
                                    <label class="control-label col-sm-4">Class :<span style="color:red">*</span></label>
                                    <div class="col-sm-8">
                                        <select class="form-control" id="sel1" data-ng-model="asmcL_Id" data-ng-change="get_student()" name="cls" required>
                                            <option value="">Select Class:</option>
                                            <option ng-repeat="class in classDrpDwn" value="{{class.asmcL_Id}}" ng-selected="class.asmcL_Id==asmcL_Id">{{class.asmcL_ClassName}}</option>
                                        </select>
                                        <div class="error-messages" ng-if="interacted(myForm.cls)" ng-messages="myForm.cls.$error">
                                            <div ng-message="required" style="color:red">Please Select class</div>
                                        </div>
                                    </div>
                                </div>-->

                                <div class="form-group">
                                    <label class="control-label col-sm-4">Student Name :<span style="color:red">*</span></label>
                                    <div class="multiselect col-sm-8">
                                        <input class="form-control" ng-model="searchchkbx" type="text" placeholder="search here...">
                                        <label>
                                            <input name="stdd" value="1" ng-model="usercheck" type="checkbox" ng-click="all_check()">
                                            <span class="lbl padding-8">
                                                All
                                            </span>
                                        </label>
                                        <label data-ng-model="amsT_Id" ng-repeat="student in studentList |filter:searchchkbx" value="{{student.amsT_Id}}">
                                            <input name="stdt" ng-model="student.stud" type="checkbox" ng-click="togchkbx();">
                                            <span class="lbl padding-8">
                                                {{student.amsT_FirstName}} &nbsp; : &nbsp; {{student.amsT_AdmNo}}  &nbsp; : &nbsp;
                                            </span>
                                        </label>
                                    </div>
                                    <div class="error-messages col-sm-offset-4" ng-if="interacted(myForm.stdt)" ng-messages="myForm.stdt.$error">
                                        <div ng-message="required">Please Select Any One Student</div>
                                    </div>
                                </div>
                                <div class="form-group text-center">
                                    <md-button class="md-raised md-primary" ng-click="Mapstudent()" id="save-btn">
                                        <i class="fa fa-floppy-o" aria-hidden="true"></i>
                                        Add
                                    </md-button>
                                </div>
                            </div>
                        </div>
                        <div class="col-sm-12" ng-if="studentdetails.length > 0">
                            <div class="box-header with-border">
                                <h3 class="box-title">Student List</h3>
                                <div class="box-tools pull-right">
                                    <button type="button" class="btn btn-box-tool" data-widget="collapse" data-placement="bottom" data-toggle="tooltip" title="collapsible"><i class="fa fa-minus"></i></button>
                                </div>
                            </div>
                            <table class="table table-bordered">
                                <thead>
                                    <tr>
                                        <th>sl No</th>
                                        <th> Name</th>
                                        <th>Adm No.</th>
                                        <th>Class</th>
                                        <th>Section</th>
                                        <th>Action</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr ng-repeat="dd  in  studentdetails">
                                        <td>{{$index+1}}</td>
                                        <td>{{dd.amsT_FirstName}}</td>
                                        <td>{{dd.amsT_AdmNo}}</td>
                                        <td>{{dd.asmcL_ClassName}}</td>
                                        <td>{{dd.asmC_SectionName}}</td>
                                        <td class="text-center">
                                            <span class="">
                                                <a href="javascript:void(0)" ng-click="delete(user,$index);">
                                                    <i class="fa fa-trash text-danger"></i>
                                                </a>
                                            </span>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
                <hr />
                <div class="text-center">
                    <input type="hidden" ng-model="spccetM_Id" value="{{spccetM_Id"}}" />
                    <md-button type="submit" class="md-raised md-primary" ng-click="savedata()">
                        <i class="fa fa-floppy-o" aria-hidden="true"></i>
                        Save
                    </md-button>
                    <md-button type="button" class="md-raised md-warn" ng-click="cancel()">
                        <i class="fa fa-times" aria-hidden="true"></i>
                        Cancel
                    </md-button>
                </div>
            </div>
        </div>
    </form>







    <div class="box box-primary" ng-show="alldata.length>0">
        <div class="box-header with-border">
            <h3 class="box-title">Student Report List</h3>
            <div class="box-tools pull-right">
                <button type="button" class="btn btn-box-tool" data-widget="collapse" data-placement="bottom" data-toggle="tooltip" title="collapsible"><i class="fa fa-minus"></i></button>
            </div>
        </div>

        <div class="box-body">
            <div class="row">
                <div class="col-sm-4">
                    <div class="form-group">
                        <label class="control-label">
                            <b> Total Grid Records :</b>
                            <label class="badge">
                                {{alldata.length}}
                            </label>
                        </label>
                    </div>
                </div>
                <div class="col-sm-4">
                    <div class="form-group" ng-if="searchValue!=''">
                        <label class="control-label">
                            <b>Total Records Searched : </b>
                            <label class="badge">
                                {{filterValue1.length}}
                            </label>
                        </label>
                    </div>
                </div>
                <div class="col-sm-4 pull-right">
                    <div class="form-group">
                        <div class="input-group">
                            <span class="input-group-addon">
                                <i class="fa fa-search"></i>
                            </span>
                            <input class="form-control" type="text" ng-model="searchValue" placeholder="search here...">
                        </div>
                    </div>
                </div>
            </div>
            <table class="table table-bordered text-center">
                <thead>
                    <tr>
                        <th style="text-align:center">
                            SL. No.
                        </th>
                        <td>
                            <a href="" ng-click="sort('ASMAY_Year')">Year</a>
                        </td>
                        <th style="text-align:center">
                            <a href="" ng-click="sort('SPCCME_EventName')"> Event</a>
                        </th>
                        <th style="text-align:center">
                            <a href="" ng-click="sort('SPCCMCL_CompitionLevel')">Competetion Level</a>
                        </th>
                        <th style="text-align:center">
                            <a href="" ng-click="sort('SPCCETM_TeamName')"> Team Name</a>
                        </th>
                        <th style="text-align:center">
                            <a href="" ng-click="sort('SPCCETM_NoOfParticipants')">No.Of Participants:</a>
                        </th>

                        <th style="text-align:center">
                            <a href="" ng-click="sort('SPCCMCC_CompitionCategory')"> Competition Category</a>
                        </th>
                        <th style="text-align:center">
                            <a href="" ng-click="sort('SPCCMSCC_SportsCCName')">Sports Name</a>
                        </th>
                        <!--<th style="text-align:center">
                            <a href="" ng-click="sort('ASMCL_ClassName')"> Class </a>
                        </th>-->
                        <th>Student Name</th>
                        <th>Action</th>
                    </tr>
                </thead>
                <tbody>
                    <tr ng-repeat="newuser1 in filterValue1 = (alldata | filter : searchValue) ">
                        <td>{{$index+1}}</td>
                        <td>{{newuser1.ASMAY_Year}}</td>
                        <td>{{newuser1.SPCCME_EventName}}</td>
                        <td>{{newuser1.SPCCMCL_CompitionLevel}}</td>
                        <td>{{newuser1.SPCCETM_TeamName}}</td>
                        <td>{{newuser1.SPCCETM_NoOfParticipants}}</td>
                        <td>{{newuser1.SPCCMCC_CompitionCategory}}</td>
                        <td>{{newuser1.SPCCMSCC_SportsCCName}}</td>
                        <td>
                            <span>
                                <a href="javascript:void(0)" class="text-primary" data-placement="bottom" data-toggle="modal" title="Sponsor details" data-ng-model="buspassdetails" data-target="#mysponsorlist" ng-click="onmodelclick(newuser1)">
                                    <i class="fa fa-eye fa-1x" aria-hidden="true">View Student</i>
                                </a>
                            </span>
                        </td>
                        <td>
                            <!--<a href="javascript:void(0)" ng-click="Editrecord(newuser1)" class="text-primary" data-placement="bottom" data-toggle="tooltip" title="Edit">   <i class="fa fa-pencil-square-o" aria-hidden="true"></i></a>-->
                            <a href="javascript:void(0)" ng-click="Editrecord(newuser1)" data-toggle="tooltip" title="Edit"><i class="fa fa-pencil-square-o text-primary" aria-hidden="true"></i></a>
                            <span ng-if="!newuser1.SPCCETM_ActiveFlag">
                                <a href="" ng-click="deactivate(newuser1)"
                                   class="text-green" data-placement="bottom" data-toggle="tooltip" title="Activate">
                                    Activate
                                </a>
                            </span>
                            <span ng-if="newuser1.SPCCETM_ActiveFlag">
                                <a href="" ng-click="deactivate(newuser1)"
                                   class="text-danger" data-placement="bottom" data-toggle="tooltip" title="Deactivate">
                                    Deactivate
                                </a>
                            </span>
                        </td>
                    </tr>
                </tbody>
            </table>
            <dir-pagination-controls max-size="5"
                                     direction-links="true"
                                     boundary-links="true">
            </dir-pagination-controls>
        </div>
    </div>

    <div id="mysponsorlist" class="modal fade" role="dialog" data-backdrop="false">
        <div class="modal-dialog modal-lg" style="width: 80%;">
            <div class="modal-content">
                <div class="model-header custom-header">
                    <center><h4 class="modal-title custom">Student Details</h4></center>
                </div>
                <div class="modal-body">
                    <div class="col-sm-4">
                        <div class="form-group">
                            <label class="control-label">
                                <b> Total Grid Records :</b>
                                <label class="badge">
                                    {{modalsportslist.length}}
                                </label>
                            </label>
                        </div>
                    </div>

                    <div class="col-sm-4">
                        <div class="form-group" ng-if="search3!=''">
                            <label class="control-label">
                                <b>Total Records Searched : </b>
                                <label class="badge">
                                    {{filterValue3.length}}
                                </label>
                            </label>
                        </div>
                    </div>

                    <div class="col-sm-4 pull-right">
                        <div class="form-group">
                        </div>
                    </div>
                    <div class="text-center">

                        <table class="table table-bordered table-hover table-responsive text-center">
                            <thead>
                                <tr>
                                    <th>
                                        SL.No.
                                    </th>
                                    <th>
                                        <a href="" ng-click="sort('StudentName')">Student Name</a>
                                    </th>
                                    <th>
                                        <a href="" ng-click="sort('ASMCL_ClassName')">Class Name</a>
                                    </th>
                                    <th>
                                        <a href="" ng-click="sort('ASMC_SectionName')">Section Name</a>
                                    </th>
                                    <th>
                                        <a href="" ng-click="sort('ASMAY_Year')">Year</a>
                                    </th>
                                </tr>
                            </thead>

                            <tbody>
                                <tr ng-repeat=" user in modalsponsorlist">
                                    <td>{{$index+1}}</td>
                                    <td>{{user.StudentName}}</td>
                                    <td>{{user.ASMCL_ClassName}}</td>
                                    <td>{{user.ASMC_SectionName}}</td>
                                    <td>{{user.ASMAY_Year}}</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div class="modal-footer custom-footer">
                        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>






