<Style>
    .custom-control {
        display: block;
        width: 100%;
        height: 30px;
        padding: 3px 12px;
        font-size: 13px;
        line-height: 1.42857143;
        color: #000;
        background-color: green;
        background-image: none;
        border: 1px solid #5cb7ff;
        border-radius: 0px;
    }

    .border {
        border: thick double #32a1ce;
    }

    .LMS_SubjectName {
    }
</Style>

<section class="content">

    <div data-ng-init="loaddata()">

        <form class="form-horizontal ng-pristine ng-valid" role="form" name="myForm" novalidate>

            <div class="box box-primary">
                <div class="box-header with-border">
                    <h3 class="box-title">Book Circulation Report</h3>
                    <div class="box-tools pull-right">
                        <button type="button" class="btn btn-box-tool" data-widget="collapse"><i class="fa fa-minus"></i></button>
                    </div>
                </div>

                <div class="box-body">
                    <div class="col-sm-6">
                        <div class="col-sm-12">
                            <div class="form-group">
                                <label class="control-label col-sm-3">Library Name:<span style="color:red;">*</span></label>
                                <div class="col-sm-7">
                                    <select class="form-control" id="sm" name="year11" ng-model="LMAL_Id" ng-change="onSelectlibrary(LMAL_Id)" required>
                                        <option value="">Select</option>
                                        <option ng-repeat="year in lib_list" value="{{year.lmaL_Id}}" ng-selected="LMAL_Id == year.lmaL_Id">
                                            {{year.lmaL_LibraryName}}
                                        </option>
                                    </select>
                                </div>
                                <div class="col-sm-8 col-sm-offset-5 error-messages" ng-if="interacted(myForm.year11)" ng-messages="myForm.year11.$error">
                                    <div ng-message="required">Select Library</div>
                                </div>
                            </div>
                        </div>
                        <div class="col-sm-12">
                            <div class="text-center well">
                                <div class="">
                                    <div class="radio  text-center well" ng-init="AGType='Student'">

                                        <label>
                                            <input name="optradio2" type="radio" value="Student" data-ng-model="AGType" required>

                                            <span class="lbl padding-8">Student</span>
                                        </label>
                                        <label>
                                            <input name="optradio2" type="radio" value="Staff" data-ng-model="AGType" required>
                                            <span class="lbl padding-8">Staff</span>
                                        </label>
                                        <label>
                                            <input name="optradio2" type="radio" value="Guest" data-ng-model="AGType" required>
                                            <span class="lbl padding-8">Guest</span>
                                        </label>

                                        <label>
                                            <input name="optradio2" type="radio" value="Department" data-ng-model="AGType" required>
                                            <span class="lbl padding-8">Department</span>
                                        </label>

                                    </div>
                                    <div class="error-messages" ng-if="interacted(myForm.optradio2)" ng-messages="myForm.optradio2.$error">
                                        <div ng-message="required">Select any one of the radio button</div>
                                    </div>
                                </div>
                                <div class="">
                                    <div class="header">
                                        <h5>Book Type</h5>
                                    </div>
                                    <hr />
                                    <div class="radio text-center well" ng-init="Type='all'">
                                        <label>
                                            <input name="optradio3" type="radio" value="all" data-ng-model="Type" required>
                                            <!--ng-click="alltstatus()"-->
                                            <span class="lbl padding-8">ALL</span>
                                        </label>
                                        <label>
                                            <input name="optradio3" type="radio" value="Issue" data-ng-model="Type" required>
                                            <span class="lbl padding-8">Issue</span>
                                        </label>

                                        <label>
                                            <input name="optradio3" type="radio" value="Reference" data-ng-model="Type" required>
                                            <span class="lbl padding-8">Reference</span>
                                        </label>
                                    </div>
                                    <div class="error-messages" ng-if="interacted(myForm.optradio3)" ng-messages="myForm.optradio3.$error">
                                        <div ng-message="required">Select any one of the radio button</div>
                                    </div>

                                </div>
                                <div class="">
                                    <div class="header">
                                        <h5>TRANSACTION STATUS</h5>
                                    </div>
                                    <hr />
                                    <div class="radio text-center well" ng-init="TrnType='all'">
                                        <label>
                                            <input name="optradio" type="radio" value="all" data-ng-model="TrnType" required>
                                            <!--ng-click="alltstatus()"-->
                                            <span class="lbl padding-8">ALL</span>
                                        </label>
                                        <label>
                                            <input name="optradio" type="radio" value="Issue" data-ng-model="TrnType" required>
                                            <span class="lbl padding-8">Issue</span>
                                        </label>

                                        <label>
                                            <input name="optradio" type="radio" value="Return" data-ng-model="TrnType" required>
                                            <span class="lbl padding-8">Return</span>
                                        </label>
                                    </div>
                                    <div class="error-messages" ng-if="interacted(myForm.optradio)" ng-messages="myForm.optradio.$error">
                                        <div ng-message="required">Select any one of the radio button</div>
                                    </div>
                                </div>

                            </div>


                        </div>


                    </div>
                    <div class="col-sm-6">
                        <div class="col-sm-12">



                            <div class="form-group" ng-show="AGType=='Student'">
                                <label class="control-label col-sm-3">Class Name :<strong style="color:red;display:inline; font-weight: bolder; margin-left: 1px;">*</strong></label>
                                <div class="multiselect col-sm-8" style="height:122px !important">
                                    <input class="form-control" ng-model="searchchkbx" type="text" placeholder="search here...">
                                    <label>
                                        <input name="stdd" value="1" ng-model="usercheck" type="checkbox" data-ng-click="all_check()">
                                        <span class="lbl padding-8">
                                            All
                                        </span>
                                    </label>
                                    <label data-ng-model="ASMCL_Id" ng-repeat="class in classList |filter:filterchkbx" value="{{class.asmcL_Id}}">
                                        <input name="clsss" value="1" data-ng-model="class.select" type="checkbox" ng-click="togchkbx();" ng-required="Type=='CS'">
                                        <!--ng-required="isOptionsRequired()"-->
                                        <span class="lbl padding-8">
                                            {{class.asmcL_ClassName}}
                                        </span>
                                    </label>
                                </div>

                                <div class="error-messages" ng-if="interacted(myForm.clsss)" ng-messages="myForm.clsss.$error">
                                    <div ng-message="required" style="color:red">Select Class</div>
                                </div>

                            </div>


                            <div class="form-group" ng-show="AGType=='Student'">
                                <label class="control-label col-sm-3">Section Name :<strong style="color:red;display:inline; font-weight: bolder; margin-left: 1px;">*</strong></label>
                                <div class="multiselect col-sm-8" style="height:122px !important">
                                    <input class="form-control" ng-model="searchchkbx23" type="text" placeholder="search here...">
                                    <label>
                                        <input name="stdd" value="1" ng-model="usercheck23" type="checkbox" data-ng-click="all_check23()">
                                        <span class="lbl padding-8">
                                            All
                                        </span>
                                    </label>
                                    <label data-ng-model="ASMS_Id" ng-repeat="sectn in sectionList |filter:filterchkbx23" value="{{sectn.asmS_Id}}">
                                        <input name="sectionnam" value="1" data-ng-model="sectn.select" type="checkbox" ng-click="togchkbx23();" ng-required="Type=='CS'">
                                        <!--ng-required="isOptionsRequired23()"-->
                                        <span class="lbl padding-8">
                                            {{sectn.sectionName}}
                                        </span>
                                    </label>
                                </div>

                                <div class="error-messages" ng-if="interacted(myForm.sectionnam)" ng-messages="myForm.sectionnam.$error">
                                    <div ng-message="required" style="color:red">Select Section</div>
                                </div>

                            </div>

                        </div>

                    </div>



                    <div class="col-sm-12">

                        <div class="col-sm-6">


                            <div class="form-group ">
                                <!--<label class="control-label col-sm-3">&nbsp;&nbsp;</label>-->
                                <div class="col-sm-4">
                                    <label class="checkbox">
                                        <input type="checkbox" data-ng-model="Issuecount">
                                        <span class="lbl padding-8">Issue Date</span>
                                    </label>
                                </div>

                            </div>
                            <div class="form-group">
                                <div class="">
                                    <label class="control-label">
                                        Date Between
                                        <md-datepicker name="sch_date" onkeydown="return false" ng-model="IssueFromDate" md-max-date="maxDatemf" md-placeholder="Enter From date" ng-required="Issuecount==true" ng-disabled="Issuecount!=1"></md-datepicker>
                                        <!--ng-required="DueFromdate==null || DueFromdate=='' || DueFromdate==undefined || DueTodate==null || DueTodate=='' || DueTodate==undefined"-->
                                        <label class="control-label">AND</label>
                                        <md-datepicker name="sch_date11" onkeydown="return false" ng-model="IssueToDate" md-placeholder="Enter To date" ng-required="Issuecount==true" ng-disabled="Issuecount!=1" md-min-date="minDatemf" md-max-date="maxDatemf" ng-click="gettodate()"></md-datepicker>
                                    </label>
                                </div>
                                <!--<div class="error-messages" ng-if="interacted(myForm.sch_date)" ng-messages="myForm.sch_date.$error">
                                    <div ng-message="required">Select From date </div>
                                </div>-->
                                <div class="error-messages" ng-if="interacted(myForm.sch_date11)" ng-messages="myForm.sch_date11.$error">
                                    <div ng-message="required">Select Search date</div>
                                </div>
                            </div>
                        </div>

                        <div class="col-sm-6">
                            <div class="form-group ">
                                <!--<label class="control-label col-sm-3">&nbsp;&nbsp;</label>-->
                                <div class="col-sm-4">
                                    <label class="checkbox">
                                        <input type="checkbox" data-ng-model="Duecount">
                                        <span class="lbl padding-8">Due Date</span>
                                    </label>
                                </div>

                            </div>
                            <div class="form-group">
                                <div class="">
                                    <label class="control-label">
                                        Date Between
                                        <md-datepicker name="sch_date2" onkeydown="return false" ng-model="DueFromdate" md-placeholder="Enter From date" ng-required="Duecount==true" ng-disabled="Duecount!=1" md-max-date="maxDatemf"></md-datepicker>
                                        <!--ng-required="IssueFromDate==null || IssueFromDate=='' || IssueFromDate==undefined || IssueToDate==null || IssueToDate=='' || IssueToDate==undefined"-->
                                        <label class="control-label">AND</label>
                                        <md-datepicker name="sch_date211" onkeydown="return false" ng-model="DueTodate" md-placeholder="Enter To date" ng-required="Duecount==true" ng-disabled="Duecount!=1" md-min-date="minDatemf" md-max-date="maxDatemf" ng-click="gettodate23()"></md-datepicker>
                                    </label>
                                </div>
                                <!--<div class="error-messages" ng-if="interacted(myForm.sch_date2)" ng-messages="myForm.sch_date2.$error">
                                    <div ng-message="required">Select From date</div>
                                </div>-->
                                <div class="error-messages" ng-if="interacted(myForm.sch_date211)" ng-messages="myForm.sch_date211.$error">
                                    <div ng-message="required">Select Search date</div>
                                </div>
                            </div>




                        </div>
                    </div>


                    <div class="col-sm-12">
                        <div class="col-sm-6">
                            <div class="form-group">
                                <label class="col-sm-3">First Summary  </label>
                                <div class="col-sm-8">
                                    <select class="form-control" name="sbclss" id="clss" ng-model="lmS_Id" ng-change="OnselctSummary()" required>
                                        <option value="">--Select--</option>
                                        <option value="10000123">All</option>
                                        <option ng-repeat="option in sublistone" value="{{option.LMS_Id}}" ng-selected="{{option.LMS_Id == lmS_Id}}">
                                            {{option.LMS_SubjectName}}/{{option.LMS_SubjectNo}}
                                        </option>
                                    </select>
                                    <div class="error-messages" ng-if="interacted(myForm.sbclss)" ng-messages="myForm.sbclss.$error">
                                        <div ng-message="required">Select Subject Name</div>
                                    </div>
                                </div>
                            </div>
                            <div class="form-group" ng-if="lmS_Id > 0 && lmS_Id !=10000123 ">
                                <label class="control-label col-sm-5">
                                    <input name="allcheck" value="" ng-model="obj.alls" type="checkbox" ng-click="OnClickAlltwo()">
                                    <span class="lbl padding-8">
                                        Second Summary:({{sublistwo.length}})
                                    </span><span style="color:Red">*</span>
                                </label>
                                <div class="multiselect col-sm-8">
                                    <input class="form-control" ng-model="searchchkbxxx" type="text" placeholder="search here...">
                                    <label ng-repeat="termdetails in sublistwo | filter :searchchkbxxx">
                                        <input name="option1" value="{{termdetails.LMS_Id}}" type="checkbox"
                                               ng-required="isOptionsRequired2();" ng-model="termdetails.lmS_Idss" ng-click="OnselctSummarytwo()">
                                        <span class="lbl padding-8">{{termdetails.LMS_SubjectName}}/{{termdetails.LMS_SubjectNo}}</span>
                                    </label>
                                </div>

                                <div class="col-sm-8 error-messages" ng-if="interacted(myForm.option1)" ng-messages="myForm.option1.$error">
                                    <div ng-message="required">Select Atleast One Second Summary</div>
                                </div>
                            </div>
                        </div>
                        <div class="col-sm-6" ng-if="lmS_Id > 0 && lmS_Id !=10000123 ">
                            <div class="form-group">
                                <label class="control-label col-sm-4">
                                    <input name="allcheck" value="" ng-model="obj.all" type="checkbox" ng-click="OnClickAll()">
                                    <span class="lbl padding-8">
                                        Third Summary:
                                    </span><span style="color:Red">*</span>
                                </label>
                                <div class="multiselect col-sm-8">
                                    <input class="form-control" ng-model="searchchkbx" type="text" placeholder="search here...">
                                    <label ng-repeat="termdetails in sublist | filter :searchchkbx">
                                        <input name="option1" value="{{termdetails.lmS_Id}}" type="checkbox"
                                               ng-required="isOptionsRequired1();" ng-model="termdetails.lmS_Ids">
                                        <span class="lbl padding-8">{{termdetails.lmS_SubjectName}}/{{termdetails.lmS_SubjectNo}}</span>
                                    </label>
                                </div>

                                <div class="col-sm-8 error-messages" ng-if="interacted(myForm.option1)" ng-messages="myForm.option1.$error">
                                    <div ng-message="required">Select Atleast One Third Summary</div>
                                </div>
                            </div>
                        </div>

                    </div>
                    <div class="col-sm-12">
                        <div class="text-center">
                            <hr />
                            <div class="">
                                <div class="text-center">
                                    <md-button type="button" class="md-raised md-primary" ng-click="get_report()" id="save-btn">
                                        <i class="fa fa-list-alt" aria-hidden="true"></i>
                                        Report
                                    </md-button>
                                    <md-button type="button" class="md-raised md-warn" ng-click="Clearid()">
                                        <i class="fa fa-times" aria-hidden="true"></i>
                                        Cancel
                                    </md-button>
                                    <md-button type="button" class="md-raised md-primary" ng-click="printData()" ng-show="printflag">
                                        <i class="fa fa-print" aria-hidden="true"></i>
                                        Print
                                    </md-button>
                                    <md-button type="button" class="md-raised md-primary" ng-disabled="form.$invalid" id="excel-btn" ng-click="ExportToExcel()" ng-show="reportlist.length > 0">
                                        <i class="fa fa-file-excel-o" aria-hidden="true"></i>
                                        Export to Excel
                                    </md-button>
                                    <!--<button type="button" class="btn btn-default" value="certificate" data-dismiss="modal" ng-click="printData();">Print</button>-->
                                </div>
                            </div>
                        </div>
                    </div>


                </div>

            </div>
        </form>


        <!-------All Data Display-->
        <div class="" ng-show="allgrid==true && AGType=='all'">
            <!--ng-show="boxfalg"-->
            <div class="box box-primary">
                <div class="box-header with-border">
                    <h3 class="box-title">Book Circulation Reports</h3>
                    <div class="box-tools pull-right">
                        <button type="button" class="btn btn-box-tool" data-widget="collapse"><i class="fa fa-minus"></i></button>
                    </div>
                </div>


                <div class="box-body">

                    <div class="col-sm-4">
                        <div class="form-group">
                            <label class="control-label">
                                <b> Total Grid Records :</b>
                                <label class="badge">
                                    {{reportlist.length}}
                                </label>
                            </label>
                        </div>
                    </div>

                    <div class="col-sm-4">
                        <div class="form-group" ng-if="search!=''">
                            <label class="control-label">
                                <b>Total Records Searched : </b>
                                <label class="badge">
                                    {{filterValue.length}}
                                </label>
                            </label>
                        </div>
                    </div>

                    <div class="col-sm-4 pull-right">
                        <div class="form-group">
                            <div class="input-group">
                                <span class="input-group-addon">
                                    <i class="fa fa-search"></i>
                                </span>
                                <input class="form-control" type="text" ng-model="search" placeholder="search here...">
                            </div>
                        </div>
                    </div>
                    <div id="printtable">
                        <table class="table table-bordered table-hover table-responsive text-center">
                            <thead>
                                <tr>
                                    <th>
                                        SL.No.
                                    </th>
                                    <th>
                                        <a href="" ng-click="sort('LMB_BookTitle')">Book Title</a>
                                    </th>
                                    <th>
                                        <a href="" ng-click="sort('LMBANO_AccessionNo')">Accession No</a>
                                    </th>
                                    <th>
                                        First Summary
                                    </th>
                                    <th>
                                        Second Summary
                                    </th>
                                    <th>
                                        Third Summary
                                    </th>
                                    <th>
                                        <a href="" ng-click="sort('LBTR_Status')">Transaction Status</a>
                                    </th>
                                    <th>
                                        <a href="" ng-click="sort('LBTR_IssuedDate')">Issue Date</a>
                                    </th>
                                    <th>
                                        <a href="" ng-click="sort('LBTR_DueDate')">Due Date</a>
                                    </th>
                                    <th>
                                        <a href="" ng-click="sort('LBTR_ReturnedDate')">ReturnDate</a>
                                    </th>
                                    <th>
                                        <a href="" ng-click="sort('LBTR_FineCollected')">Fine Collected </a>
                                    </th>
                                    <th>
                                        <a href="" ng-click="sort('LBTR_TotalFine')">Total Fine</a>
                                    </th>
                                    <th>
                                        <a href="" ng-click="sort('LMB_BookType')">BookType</a>
                                    </th>

                                    <!--<th>Action</th>-->
                                </tr>
                            </thead>

                            <tbody>
                                <tr dir-paginate="user in filterValue=(reportlist | filter : search) | orderBy:sortKey:reverse |itemsPerPage:itemsPerPage" current-page="currentPage">
                                    <td>{{itemsPerPage *(currentPage-1)+$index+1}}</td>
                                    <td>{{user.LMB_BookTitle}}</td>
                                    <td>{{user.LMBANO_AccessionNo}}</td>
                                    <td>
                                        <span ng-repeat="dd in sublistone" ng-if="user.LMS_ParentIdtwo==dd.LMS_Id">
                                            {{dd.LMS_SubjectName}} | {{dd.LMS_SubjectNo}}

                                        </span>

                                    </td>
                                    <td>
                                        {{user.lmS_SubjectName_II}}

                                    </td>
                                    <td>{{user.LMS_SubjectName}} | {{user.LMS_SubjectNo}} </td>
                                    <td>{{user.LBTR_Status}}</td>
                                    <td>{{user.LBTR_IssuedDate | date:'dd/MM/yyyy'}}</td>
                                    <td>{{user.LBTR_DueDate | date:'dd/MM/yyyy'}}</td>
                                    <td>{{user.LBTR_ReturnedDate | date:'dd/MM/yyyy'}}</td>
                                    <td>{{user.LBTR_FineCollected}}</td>
                                    <td>{{user.LBTR_TotalFine}}</td>
                                    <td>{{user.LMB_BookType}}</td>

                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <dir-pagination-controls max-size="5"
                                             direction-links="true"
                                             boundary-links="true">
                    </dir-pagination-controls>
                </div>
            </div>

        </div>
        <!------End- -All Data Display-->
        <!-------Student  Data Display-->
        <div class="" ng-show="allgrid==true && AGType=='Student'">
            <!--ng-show="boxfalg"-->
            <div class="box box-primary">
                <div class="box-header with-border">
                    <h3 class="box-title">Book Circulation Reports</h3>
                    <div class="box-tools pull-right">
                        <button type="button" class="btn btn-box-tool" data-widget="collapse"><i class="fa fa-minus"></i></button>
                    </div>
                </div>


                <div class="box-body">

                    <div class="col-sm-4">
                        <div class="form-group">
                            <label class="control-label">
                                <b> Total Grid Records :</b>
                                <label class="badge">
                                    {{reportlist.length}}
                                </label>
                            </label>
                        </div>
                    </div>

                    <div class="col-sm-4">
                        <div class="form-group" ng-if="search!=''">
                            <label class="control-label">
                                <b>Total Records Searched : </b>
                                <label class="badge">
                                    {{filterValue.length}}
                                </label>
                            </label>
                        </div>
                    </div>

                    <div class="col-sm-4 pull-right">
                        <div class="form-group">
                            <div class="input-group">
                                <span class="input-group-addon">
                                    <i class="fa fa-search"></i>
                                </span>
                                <input class="form-control" type="text" ng-model="search" placeholder="search here...">
                            </div>
                        </div>
                    </div>
                    <div id="">
                        <table class="table table-bordered table-hover table-responsive text-center">
                            <thead>
                                <tr>
                                    <th>
                                        SL.No.
                                    </th>
                                    <th>
                                        <a href="" ng-click="sort('LMB_BookTitle')">Book Title</a>
                                    </th>
                                    <th>
                                        <a href="" ng-click="sort('LMBANO_AccessionNo')">Accession No</a>
                                    </th>
                                    <th>
                                        First Summary
                                    </th>
                                    <th>
                                        Second Summary
                                    </th>
                                    <th>
                                        Third Summary
                                    </th>
                                    <th>
                                        <a href="" ng-click="sort('LMB_BookType')">BookType</a>
                                    </th>
                                    <th>
                                        <a href="" ng-click="sort('AMST_AdmNo')">Adm No.</a>
                                    </th>
                                    <th>
                                        <a href="" ng-click="sort('AMST_Name')">Student Name</a>
                                    </th>
                                    <th>
                                        <a href="" ng-click="sort('ASMCL_ClassName')">Class</a>
                                    </th>
                                    <th>
                                        <a href="" ng-click="sort('ASMC_SectionName')">Section</a>
                                    </th>
                                    <th>
                                        <a href="" ng-click="sort('AMAY_RollNo')">Roll No.</a>
                                    </th>
                                    <th>
                                        <a href="" ng-click="sort('LBTR_Status')">Transaction Status</a>
                                    </th>
                                    <th>
                                        <a href="" ng-click="sort('LBTR_IssuedDate')">Issue Date</a>
                                    </th>
                                    <th>
                                        <a href="" ng-click="sort('LBTR_DueDate')">Due Date</a>
                                    </th>
                                    <th>
                                        <a href="" ng-click="sort('LBTR_ReturnedDate')">ReturnDate</a>
                                    </th>
                                    <th>
                                        <a href="" ng-click="sort('LBTR_ReturnedDate')">Late Return Date </a>
                                    </th>
                                    <th>
                                        <a href="" ng-click="sort('latedays')">Late Return Days </a>
                                    </th>
                                    <th>
                                        <a href="" ng-click="sort('LBTR_FineCollected')">Fine Collected </a>
                                    </th>
                                    <th>
                                        <a href="" ng-click="sort('LBTR_TotalFine')">Total Fine</a>
                                    </th>

                                    <!--<th>Action</th>-->
                                </tr>
                            </thead>

                            <tbody>
                                <tr dir-paginate="user in filterValue=(reportlist | filter : search) | orderBy:sortKey:reverse |itemsPerPage:itemsPerPage" current-page="currentPage">
                                    <td>{{itemsPerPage *(currentPage-1)+$index+1}}</td>
                                    <td>{{user.LMB_BookTitle}}</td>
                                    <td>{{user.LMBANO_AccessionNo}}</td>
                                    <td>
                                        <span ng-repeat="dd in sublistone" ng-if="user.LMS_ParentIdtwo==dd.LMS_Id">
                                            {{dd.LMS_SubjectName}} | {{dd.LMS_SubjectNo}}

                                        </span>

                                    </td>
                                    <td>
                                        {{user.lmS_SubjectName_II}}

                                    </td>
                                    <td>{{user.LMS_SubjectName}} | {{user.LMS_SubjectNo}} </td>
                                    <td>{{user.LMB_BookType}}</td>
                                    <td>{{user.AMST_AdmNo}}</td>
                                    <td>{{user.AMST_Name}}</td>
                                    <td>{{user.ASMCL_ClassName}}</td>
                                    <td>{{user.ASMC_SectionName}}</td>
                                    <td>{{user.AMAY_RollNo}}</td>
                                    <td>{{user.LBTR_Status}}</td>
                                    <td>{{user.LBTR_IssuedDate | date:'dd/MM/yyyy'}}</td>
                                    <td>{{user.LBTR_DueDate | date:'dd/MM/yyyy'}}</td>
                                    <td>{{user.LBTR_ReturnedDate | date:'dd/MM/yyyy'}}</td>
                                    <td>
                                        <span ng-if="user.latedays>0">
                                            {{user.LBTR_ReturnedDate | date:'dd/MM/yyyy'}}
                                        </span>
                                        <span ng-if="user.latedays==0">
                                            --
                                        </span>

                                    </td>
                                    <td>
                                        <span ng-if="user.latedays>0">
                                            {{user.latedays}}
                                        </span>
                                        <span ng-if="user.latedays==0">
                                            --
                                        </span>

                                    </td>
                                    <td>{{user.LBTR_FineCollected}}</td>
                                    <td>{{user.LBTR_TotalFine}}</td>

                                    <!--<td>
                                     <a href="javascript:void(0)" class="text-primary padding-right-5" data-placement="bottom" data-toggle="modal" title="Print Receipt" data-ng-model="receiptdetails" data-target="#myModal3" data-ng-click="showmodaldetails()">
                                      <i class="fa fa-eye" aria-hidden="true"></i>
                                     </a>
                                    </td>-->
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <dir-pagination-controls max-size="5"
                                             direction-links="true"
                                             boundary-links="true">
                    </dir-pagination-controls>
                </div>
            </div>

        </div>

        <div id="printtable1" ng-hide="true">
            <div class="box box-primary">
                <div class="box-header with-border">
                    <div class="baldwin text-center">
                        <img src="{{imgname}}" class="img-responsive" alt="baldwin">
                    </div>
                    <h4 class="text-center">BOOK CIRCULATION REPORT</h4>

                </div>
                <div class="box-body">
                    <div>
                        <table class="table table-bordered table-hover table-responsive text-center">
                            <thead>
                                <tr>
                                    <th width="5%">
                                        SL.No.
                                    </th>
                                    <th>
                                        Accession No
                                    </th>
                                    <th>
                                        First Summary
                                    </th>
                                    <th>
                                        Second Summary
                                    </th>
                                    <th>
                                        Third Summary
                                    </th>
                                    <th style="width:12%">
                                        Student Name
                                    </th>
                                    <th style="width:12%">
                                        Book Title
                                    </th>
                                    <th>
                                        BookType
                                    </th>
                                    <th>
                                        Class
                                    </th>
                                    <th>
                                        Section
                                    </th>
                                    <th>
                                        Roll No.
                                    </th>
                                    <th>
                                        Transaction Status
                                    </th>
                                    <th>
                                        Issue Date
                                    </th>
                                    <!--<th>
                                        Due Date
                                    </th>-->
                                    <th>
                                        ReturnDate
                                    </th>
                                    <th>
                                        Late Return Date
                                    </th>
                                    <th>
                                        Late Return Days
                                    </th>
                                    <th>
                                        Fine
                                    </th>
                                    <th>
                                        Fine Collected
                                    </th>
                                    <th>
                                        Total Fine
                                    </th>

                                    <!--<th>Action</th>-->
                                </tr>
                            </thead>

                            <tbody>
                                <tr ng-repeat="user in filterValue">
                                    <td>{{itemsPerPage *(currentPage-1)+$index+1}}</td>
                                    <td>{{user.LMBANO_AccessionNo}}</td>

                                    <td>
                                        <span ng-repeat="dd in sublistone" ng-if="user.LMS_ParentIdtwo==dd.LMS_Id">
                                            {{dd.LMS_SubjectName}} | {{dd.LMS_SubjectNo}}

                                        </span>

                                    </td>
                                    <td>
                                        {{user.lmS_SubjectName_II}}

                                    </td>
                                    <td>{{user.LMS_SubjectName}} | {{user.LMS_SubjectNo}} </td>
                                    <td>{{user.AMST_Name}}</td>
                                    <td>{{user.LMB_BookTitle}}</td>
                                    <td>{{user.LMB_BookType}}</td>
                                    <td>{{user.ASMCL_ClassName}}</td>
                                    <td>{{user.ASMC_SectionName}}</td>
                                    <td>{{user.AMAY_RollNo}}</td>
                                    <td>{{user.LBTR_Status}}</td>
                                    <td>{{user.LBTR_IssuedDate | date:'dd/MM/yyyy'}}</td>
                                    <!--<td>{{user.LBTR_DueDate | date:'dd/MM/yyyy'}}</td>-->
                                    <td>{{user.LBTR_ReturnedDate | date:'dd/MM/yyyy'}}</td>
                                    <td>
                                        <span ng-if="user.latedays>0">
                                            {{user.LBTR_ReturnedDate | date:'dd/MM/yyyy'}}
                                        </span>
                                        <span ng-if="user.latedays==0">
                                            --
                                        </span>

                                    </td>
                                    <td>
                                        <span ng-if="user.latedays>0">
                                            {{user.latedays}}
                                        </span>
                                        <span ng-if="user.latedays==0">
                                            --
                                        </span>

                                    </td>
                                    <td>{{user.LBTR_FineCollected}}</td>
                                    <td>{{user.LBTR_TotalFine}}</td>

                                </tr>
                            </tbody>
                            <tfoot>
                                <tr>
                                    <td colspan="14" class="text-center">
                                        <label>
                                            Date:{{ddate|date:'dd/MM/yyyy'}} &nbsp;&nbsp; UserName: {{usrname}}  {{coptyright}}
                                        </label>
                                    </td>
                                </tr>
                            </tfoot>
                        </table>
                    </div>
                </div>
            </div>

        </div>

        <!------END--Student  Data Display-->
        <!-------Staff  Data Display-->
        <div class="" ng-show="allgrid==true && AGType=='Staff'">
            <!--ng-show="boxfalg"-->
            <div class="box box-primary">
                <div class="box-header with-border">
                    <h3 class="box-title">Book Circulation Reports</h3>
                    <div class="box-tools pull-right">
                        <button type="button" class="btn btn-box-tool" data-widget="collapse"><i class="fa fa-minus"></i></button>
                    </div>
                </div>


                <div class="box-body">

                    <div class="col-sm-4">
                        <div class="form-group">
                            <label class="control-label">
                                <b> Total Grid Records :</b>
                                <label class="badge">
                                    {{reportlist.length}}
                                </label>
                            </label>
                        </div>
                    </div>

                    <div class="col-sm-4">
                        <div class="form-group" ng-if="search!=''">
                            <label class="control-label">
                                <b>Total Records Searched : </b>
                                <label class="badge">
                                    {{filterValue.length}}
                                </label>
                            </label>
                        </div>
                    </div>

                    <div class="col-sm-4 pull-right">
                        <div class="form-group">
                            <div class="input-group">
                                <span class="input-group-addon">
                                    <i class="fa fa-search"></i>
                                </span>
                                <input class="form-control" type="text" ng-model="search" placeholder="search here...">
                            </div>
                        </div>
                    </div>
                    <div>
                        <table class="table table-bordered table-hover table-responsive text-center">
                            <thead>
                                <tr>
                                    <th>
                                        SL.No.
                                    </th>
                                    <th>
                                        <a href="" ng-click="sort('LMB_BookTitle')">Book Title</a>
                                    </th>
                                    <th>
                                        <a href="" ng-click="sort('LMBANO_AccessionNo')">Accession No</a>
                                    </th>
                                    <th>
                                        First Summary
                                    </th>
                                    <th>
                                        Second Summary
                                    </th>
                                    <th>
                                        Third Summary
                                    </th>
                                    <th>
                                        <a href="" ng-click="sort('EmpName')">Staff Name</a>
                                    </th>
                                    <th>
                                        <a href="" ng-click="sort('HRME_EmployeeCode')">Staff Code</a>
                                    </th>
                                    <th>
                                        <a href="" ng-click="sort('LBTR_Status')">Transaction Status</a>
                                    </th>
                                    <th>
                                        <a href="" ng-click="sort('LBTR_IssuedDate')">Issue Date</a>
                                    </th>
                                    <th>
                                        <a href="" ng-click="sort('LBTR_DueDate')">Due Date</a>
                                    </th>
                                    <th>
                                        <a href="" ng-click="sort('LBTR_ReturnedDate')">ReturnDate</a>
                                    </th>
                                    <th>
                                        <a href="" ng-click="sort('LBTR_FineCollected')">Fine Collected </a>
                                    </th>
                                    <th>
                                        <a href="" ng-click="sort('LBTR_TotalFine')">Total Fine</a>
                                    </th>
                                    <th>
                                        <a href="" ng-click="sort('LMB_BookType')">BookType</a>
                                    </th>

                                    <!--<th>Action</th>-->
                                </tr>
                            </thead>

                            <tbody>
                                <tr dir-paginate="user in filterValue=(reportlist | filter : search) | orderBy:sortKey:reverse |itemsPerPage:itemsPerPage" current-page="currentPage">
                                    <td>{{itemsPerPage *(currentPage-1)+$index+1}}</td>
                                    <td>{{user.LMB_BookTitle}}</td>
                                    <td>{{user.LMBANO_AccessionNo}}</td>
                                    <td>
                                        <span ng-repeat="dd in sublistone" ng-if="user.LMS_ParentIdtwo==dd.LMS_Id">
                                            {{dd.LMS_SubjectName}} | {{dd.LMS_SubjectNo}}

                                        </span>

                                    </td>
                                    <td>
                                        {{user.lmS_SubjectName_II}}

                                    </td>
                                    <td>{{user.LMS_SubjectName}} | {{user.LMS_SubjectNo}} </td>

                                    <td>{{user.EmpName}}</td>
                                    <td>{{user.HRME_EmployeeCode}}</td>
                                    <td>{{user.LBTR_Status}}</td>
                                    <td>{{user.LBTR_IssuedDate | date:'dd/MM/yyyy'}}</td>
                                    <td>{{user.LBTR_DueDate | date:'dd/MM/yyyy'}}</td>
                                    <td>{{user.LBTR_ReturnedDate | date:'dd/MM/yyyy'}}</td>
                                    <td>{{user.LBTR_FineCollected}}</td>
                                    <td>{{user.LBTR_TotalFine}}</td>
                                    <td>{{user.LMB_BookType}}</td>

                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <dir-pagination-controls max-size="5"
                                             direction-links="true"
                                             boundary-links="true">
                    </dir-pagination-controls>
                </div>
            </div>

        </div>

        <div id="printtable2" ng-hide="true">
            <div class="box box-primary">
                <div class="box-header with-border">
                    <div class="baldwin text-center">
                        <img src="{{imgname}}" class="img-responsive" alt="baldwin">
                    </div>
                    <h4 class="text-center">BOOK CIRCULATION REPORT</h4>

                </div>
                <div class="box-body">
                    <div>
                        <table class="table table-bordered table-hover table-responsive text-center">
                            <thead>
                                <tr>
                                    <th style="width:5%">
                                        SL.No.
                                    </th>
                                    <th>
                                        Staff Name
                                    </th>
                                    <th>
                                        Staff Code
                                    </th>
                                    <th style="width:20%">
                                        Book Title
                                    </th>
                                    <th>
                                        Accession No
                                    </th>
                                    <th>
                                        First Summary
                                    </th>
                                    <th>
                                        Second Summary
                                    </th>
                                    <th>
                                        Third Summary
                                    </th>
                                    <th>
                                        Transaction Status
                                    </th>
                                    <th>
                                        Issue Date
                                    </th>
                                    <th>
                                        Due Date
                                    </th>
                                    <th>
                                        ReturnDate
                                    </th>
                                    <th>
                                        Fine Collected
                                    </th>
                                    <th>
                                        Total Fine
                                    </th>
                                    <th>
                                        BookType
                                    </th>

                                    <!--<th>Action</th>-->
                                </tr>
                            </thead>

                            <tbody>
                                <tr dir-paginate="user in filterValue=(reportlist | filter : search) | orderBy:sortKey:reverse |itemsPerPage:itemsPerPage" current-page="currentPage">
                                    <td>{{itemsPerPage *(currentPage-1)+$index+1}}</td>
                                    <td>{{user.EmpName}}</td>
                                    <td>{{user.HRME_EmployeeCode}}</td>
                                    <td>{{user.LMB_BookTitle}}</td>
                                    <td>{{user.LMBANO_AccessionNo}}</td>
                                    <td>
                                        <span ng-repeat="dd in sublistone" ng-if="user.LMS_ParentIdtwo==dd.LMS_Id">
                                            {{dd.LMS_SubjectName}} | {{dd.LMS_SubjectNo}}

                                        </span>

                                    </td>
                                    <td>
                                        {{user.lmS_SubjectName_II}}

                                    </td>
                                    <td>{{user.LMS_SubjectName}} | {{user.LMS_SubjectNo}} </td>
                                    <td>{{user.LBTR_Status}}</td>
                                    <td>{{user.LBTR_IssuedDate | date:'dd/MM/yyyy'}}</td>
                                    <td>{{user.LBTR_DueDate | date:'dd/MM/yyyy'}}</td>
                                    <td>{{user.LBTR_ReturnedDate | date:'dd/MM/yyyy'}}</td>
                                    <td>{{user.LBTR_FineCollected}}</td>
                                    <td>{{user.LBTR_TotalFine}}</td>
                                    <td>{{user.LMB_BookType}}</td>

                                </tr>
                            </tbody>
                            <tfoot>
                                <tr>
                                    <td colspan="11" class="text-center">
                                        <label>
                                            Date:{{ddate|date:'dd/MM/yyyy'}} &nbsp;&nbsp; UserName: {{usrname}}  {{coptyright}}
                                        </label>
                                    </td>
                                </tr>
                            </tfoot>
                        </table>
                    </div>
                </div>
            </div>

        </div>

        <!------END--Staff  Data Display-->
        <!-------------------------------------------------------------------------------------------------------------------------->
        <!-------Guest  Data Display-->
        <div class="" ng-show="allgrid==true && AGType=='Guest'">
            <!--ng-show="boxfalg"-->
            <div class="box box-primary">
                <div class="box-header with-border">
                    <h3 class="box-title">Book Circulation Reports</h3>
                    <div class="box-tools pull-right">
                        <button type="button" class="btn btn-box-tool" data-widget="collapse"><i class="fa fa-minus"></i></button>
                    </div>
                </div>


                <div class="box-body">

                    <div class="col-sm-4">
                        <div class="form-group">
                            <label class="control-label">
                                <b> Total Grid Records :</b>
                                <label class="badge">
                                    {{reportlist.length}}
                                </label>
                            </label>
                        </div>
                    </div>

                    <div class="col-sm-4">
                        <div class="form-group" ng-if="search!=''">
                            <label class="control-label">
                                <b>Total Records Searched : </b>
                                <label class="badge">
                                    {{filterValue.length}}
                                </label>
                            </label>
                        </div>
                    </div>

                    <div class="col-sm-4 pull-right">
                        <div class="form-group">
                            <div class="input-group">
                                <span class="input-group-addon">
                                    <i class="fa fa-search"></i>
                                </span>
                                <input class="form-control" type="text" ng-model="search" placeholder="search here...">
                            </div>
                        </div>
                    </div>
                    <div id="">
                        <table class="table table-bordered table-hover table-responsive text-center">
                            <thead>
                                <tr>
                                    <th>
                                        SL.No.
                                    </th>
                                    <th>
                                        <a href="" ng-click="sort('LMB_BookTitle')">Book Title</a>
                                    </th>
                                    <th>
                                        <a href="" ng-click="sort('LMBANO_AccessionNo')">Accession No</a>
                                    </th>
                                    <th>
                                        First Summary
                                    </th>
                                    <th>
                                        Second Summary
                                    </th>
                                    <th>
                                        Third Summary
                                    </th>
                                    <th>
                                        <a href="" ng-click="sort('LBTR_GuestName')">Guest Name</a>
                                    </th>
                                    <th>
                                        <a href="" ng-click="sort('LBTR_GuestEmailId')">Mail</a>
                                    </th>
                                    <th>
                                        <a href="" ng-click="sort('LBTR_GuestContactNo')">Contact</a>
                                    </th>
                                    <th>
                                        <a href="" ng-click="sort('LBTR_Status')">Transaction Status</a>
                                    </th>
                                    <th>
                                        <a href="" ng-click="sort('LBTR_IssuedDate')">Issue Date</a>
                                    </th>
                                    <th>
                                        <a href="" ng-click="sort('LBTR_DueDate')">Due Date</a>
                                    </th>
                                    <th>
                                        <a href="" ng-click="sort('LBTR_ReturnedDate')">ReturnDate</a>
                                    </th>
                                    <th>
                                        <a href="" ng-click="sort('LBTR_FineCollected')">Fine Collected </a>
                                    </th>
                                    <th>
                                        <a href="" ng-click="sort('LBTR_TotalFine')">Total Fine</a>
                                    </th>
                                    <th>
                                        <a href="" ng-click="sort('LMB_BookType')">BookType</a>
                                    </th>


                                </tr>
                            </thead>

                            <tbody>
                                <tr dir-paginate="user in filterValue=(reportlist | filter : search) | orderBy:sortKey:reverse |itemsPerPage:itemsPerPage" current-page="currentPage">
                                    <td>{{itemsPerPage *(currentPage-1)+$index+1}}</td>
                                    <td>{{user.LMB_BookTitle}}</td>
                                    <td>{{user.LMBANO_AccessionNo}}</td>
                                    <td>
                                        <span ng-repeat="dd in sublistone" ng-if="user.LMS_ParentIdtwo==dd.LMS_Id">
                                            {{dd.LMS_SubjectName}} | {{dd.LMS_SubjectNo}}

                                        </span>

                                    </td>
                                    <td>
                                        {{user.lmS_SubjectName_II}}

                                    </td>
                                    <td>{{user.LMS_SubjectName}} | {{user.LMS_SubjectNo}} </td>
                                    <td>{{user.LBTR_GuestName}}</td>
                                    <td>{{user.LBTR_GuestEmailId}}</td>
                                    <td>{{user.LBTR_GuestContactNo}}</td>
                                    <td>{{user.LBTR_Status}}</td>
                                    <td>{{user.LBTR_IssuedDate | date:'dd/MM/yyyy'}}</td>
                                    <td>{{user.LBTR_DueDate | date:'dd/MM/yyyy'}}</td>
                                    <td>{{user.LBTR_ReturnedDate | date:'dd/MM/yyyy'}}</td>
                                    <td>{{user.LBTR_FineCollected}}</td>
                                    <td>{{user.LBTR_TotalFine}}</td>
                                    <td>{{user.LMB_BookType}}</td>

                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <dir-pagination-controls max-size="5"
                                             direction-links="true"
                                             boundary-links="true">
                    </dir-pagination-controls>
                </div>
            </div>

        </div>

        <div id="printtable3" ng-hide="true">
            <div class="box box-primary">
                <div class="box-header with-border">
                    <div class="baldwin text-center">
                        <img src="{{imgname}}" class="img-responsive" alt="baldwin">
                    </div>
                    <h4 class="text-center">BOOK CIRCULATION REPORT</h4>

                </div>
                <div class="box-body">
                    <div>
                        <table class="table table-bordered table-hover table-responsive">
                            <thead>
                                <tr>
                                    <th style="width:5%">
                                        SL.No.
                                    </th>
                                    <th>
                                        Guest Name
                                    </th>
                                    <th style="width:12%">
                                        Book Title
                                    </th>
                                    <th>
                                        Accession No
                                    </th>
                                    <th>
                                        First Summary
                                    </th>
                                    <th>
                                        Second Summary
                                    </th>
                                    <th>
                                        Third Summary
                                    </th>
                                    <th style="width:10%">
                                        Mail
                                    </th>
                                    <th style="width:10%">
                                        Contact
                                    </th>
                                    <th>
                                        Transaction Status
                                    </th>
                                    <th>
                                        Issue Date
                                    </th>
                                    <th>
                                        Due Date
                                    </th>
                                    <th>
                                        ReturnDate
                                    </th>
                                    <th>
                                        Fine Collected
                                    </th>
                                    <th>
                                        Total Fine
                                    </th>
                                    <th>
                                        BookType
                                    </th>
                                </tr>
                            </thead>

                            <tbody>
                                <tr ng-repeat="user in filterValue">
                                    <td>{{itemsPerPage *(currentPage-1)+$index+1}}</td>
                                    <td>{{user.LBTR_GuestName}}</td>
                                    <td>{{user.LMB_BookTitle}}</td>
                                    <td>{{user.LMBANO_AccessionNo}}</td>
                                    <td>
                                        <span ng-repeat="dd in sublistone" ng-if="user.LMS_ParentIdtwo==dd.LMS_Id">
                                            {{dd.LMS_SubjectName}} | {{dd.LMS_SubjectNo}}

                                        </span>

                                    </td>
                                    <td>
                                        {{user.lmS_SubjectName_II}}

                                    </td>
                                    <td>{{user.LMS_SubjectName}} | {{user.LMS_SubjectNo}} </td>
                                    <td>{{user.LBTR_GuestEmailId}}</td>
                                    <td>{{user.LBTR_GuestContactNo}}</td>
                                    <td>{{user.LBTR_Status}}</td>
                                    <td>{{user.LBTR_IssuedDate | date:'dd/MM/yyyy'}}</td>
                                    <td>{{user.LBTR_DueDate | date:'dd/MM/yyyy'}}</td>
                                    <td>{{user.LBTR_ReturnedDate | date:'dd/MM/yyyy'}}</td>
                                    <td>{{user.LBTR_FineCollected}}</td>
                                    <td>{{user.LBTR_TotalFine}}</td>
                                    <td>{{user.LMB_BookType}}</td>

                                </tr>
                            </tbody>
                            <tfoot>
                                <tr>
                                    <td colspan="12" class="text-center">
                                        <label>
                                            Date:{{ddate|date:'dd/MM/yyyy'}} &nbsp;&nbsp; UserName: {{usrname}}  {{coptyright}}
                                        </label>
                                    </td>
                                </tr>
                            </tfoot>
                        </table>
                    </div>

                </div>
            </div>

        </div>

        <!------END--Guest  Data Display-->
        <!-------------------------------------------------------------------------------------------------------------------------->
        <!-------Department  Data Display-->
        <div class="" ng-show="allgrid==true && AGType=='Department'">
            <!--ng-show="boxfalg"-->
            <div class="box box-primary">
                <div class="box-header with-border">
                    <h3 class="box-title">Book Circulation Reports</h3>
                    <div class="box-tools pull-right">
                        <button type="button" class="btn btn-box-tool" data-widget="collapse"><i class="fa fa-minus"></i></button>
                    </div>
                </div>


                <div class="box-body">

                    <div class="col-sm-4">
                        <div class="form-group">
                            <label class="control-label">
                                <b> Total Grid Records :</b>
                                <label class="badge">
                                    {{reportlist.length}}
                                </label>
                            </label>
                        </div>
                    </div>

                    <div class="col-sm-4">
                        <div class="form-group" ng-if="search!=''">
                            <label class="control-label">
                                <b>Total Records Searched : </b>
                                <label class="badge">
                                    {{filterValue.length}}
                                </label>
                            </label>
                        </div>
                    </div>

                    <div class="col-sm-4 pull-right">
                        <div class="form-group">
                            <div class="input-group">
                                <span class="input-group-addon">
                                    <i class="fa fa-search"></i>
                                </span>
                                <input class="form-control" type="text" ng-model="search" placeholder="search here...">
                            </div>
                        </div>
                    </div>
                    <div>
                        <table class="table table-bordered table-hover table-responsive text-center">
                            <thead>
                                <tr>
                                    <th>
                                        SL.No.
                                    </th>
                                    <th>
                                        <a href="" ng-click="sort('LMB_BookTitle')">Book Title</a>
                                    </th>
                                    <th>
                                        <a href="" ng-click="sort('LMBANO_AccessionNo')">Accession No</a>
                                    </th>

                                    <th>
                                        First Summary
                                    </th>
                                    <th>
                                        Second Summary
                                    </th>
                                    <th>
                                        Third Summary
                                    </th>
                                    <th>
                                        <a href="" ng-click="sort('HRMD_DepartmentName')">Department Name</a>
                                    </th>

                                    <th>
                                        <a href="" ng-click="sort('LBTR_Status')">Transaction Status</a>
                                    </th>
                                    <th>
                                        <a href="" ng-click="sort('LBTR_IssuedDate')">Issue Date</a>
                                    </th>
                                    <th>
                                        <a href="" ng-click="sort('LBTR_DueDate')">Due Date</a>
                                    </th>
                                    <th>
                                        <a href="" ng-click="sort('LBTR_ReturnedDate')">ReturnDate</a>
                                    </th>
                                    <th>
                                        <a href="" ng-click="sort('LBTR_FineCollected')">Fine Collected </a>
                                    </th>
                                    <th>
                                        <a href="" ng-click="sort('LBTR_TotalFine')">Total Fine</a>
                                    </th>
                                    <th>
                                        <a href="" ng-click="sort('LMB_BookType')">BookType</a>
                                    </th>

                                    <!--<th>Action</th>-->
                                </tr>
                            </thead>

                            <tbody>
                                <tr dir-paginate="user in filterValue=(reportlist | filter : search) | orderBy:sortKey:reverse |itemsPerPage:itemsPerPage" current-page="currentPage">
                                    <td>{{itemsPerPage *(currentPage-1)+$index+1}}</td>
                                    <td>{{user.LMB_BookTitle}}</td>
                                    <td>{{user.LMBANO_AccessionNo}}</td>
                                    <td>
                                        <span ng-repeat="dd in sublistone" ng-if="user.LMS_ParentIdtwo==dd.LMS_Id">
                                            {{dd.LMS_SubjectName}} | {{dd.LMS_SubjectNo}}

                                        </span>

                                    </td>
                                    <td>
                                        {{user.lmS_SubjectName_II}}

                                    </td>
                                    <td>{{user.LMS_SubjectName}} | {{user.LMS_SubjectNo}} </td>

                                    <td>{{user.HRMD_DepartmentName}}</td>


                                    <td>{{user.LBTR_Status}}</td>
                                    <td>{{user.LBTR_IssuedDate | date:'dd/MM/yyyy'}}</td>
                                    <td>{{user.LBTR_DueDate | date:'dd/MM/yyyy'}}</td>
                                    <td>{{user.LBTR_ReturnedDate | date:'dd/MM/yyyy'}}</td>
                                    <td>{{user.LBTR_FineCollected}}</td>
                                    <td>{{user.LBTR_TotalFine}}</td>
                                    <td>{{user.LMB_BookType}}</td>

                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <dir-pagination-controls max-size="5"
                                             direction-links="true"
                                             boundary-links="true">
                    </dir-pagination-controls>
                </div>
            </div>

        </div>

        <div id="printtable4" ng-hide="true">
            <div class="box box-primary">
                <div class="box-header with-border">
                    <div class="baldwin text-center">
                        <img src="{{imgname}}" class="img-responsive" alt="baldwin">
                    </div>
                    <h4 class="text-center">BOOK CIRCULATION REPORT</h4>

                </div>
                <div class="box-body">
                    <div>
                        <table class="table table-bordered table-hover table-responsive">
                            <thead>
                                <tr>
                                    <th style="width:5%">
                                        SL.No.
                                    </th>
                                    <th>
                                        Accession No
                                    </th>
                                    <th>
                                        First Summary
                                    </th>
                                    <th>
                                        Second Summary
                                    </th>
                                    <th>
                                        Third Summary
                                    </th>
                                    <th>
                                        Department Name
                                    </th>
                                    <th style="width:20%">
                                        Book Title
                                    </th>
                                    <!--<th>
        Mail
    </th>-->
                                    <!--<th>
       Contact
    </th>-->
                                    <th>
                                        Transaction Status
                                    </th>
                                    <th>
                                        Issue Date
                                    </th>
                                    <th>
                                        Due Date
                                    </th>
                                    <th>
                                        ReturnDate
                                    </th>
                                    <th>
                                        Fine Collected
                                    </th>
                                    <th>
                                        Total Fine
                                    </th>
                                    <th>
                                        BookType
                                    </th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr dir-paginate="user in filterValue=(reportlist | filter : search) | orderBy:sortKey:reverse |itemsPerPage:itemsPerPage" current-page="currentPage">
                                    <td>{{itemsPerPage *(currentPage-1)+$index+1}}</td>
                                    <td>{{user.LMBANO_AccessionNo}}</td>
                                    <td>
                                        <span ng-repeat="dd in sublistone" ng-if="user.LMS_ParentIdtwo==dd.LMS_Id">
                                            {{dd.LMS_SubjectName}} | {{dd.LMS_SubjectNo}}

                                        </span>

                                    </td>
                                    <td>
                                        {{user.lmS_SubjectName_II}}

                                    </td>
                                    <td>{{user.LMS_SubjectName}} | {{user.LMS_SubjectNo}} </td>
                                    <td>{{user.HRMD_DepartmentName}}</td>
                                    <td>{{user.LMB_BookTitle}}</td>
                                    <!--<td>{{user.LBTR_GuestEmailId}}</td>-->
                                    <!--<td>{{user.LBTR_GuestContactNo}}</td>-->
                                    <td>{{user.LBTR_Status}}</td>
                                    <td>{{user.LBTR_IssuedDate | date:'dd/MM/yyyy'}}</td>
                                    <td>{{user.LBTR_DueDate | date:'dd/MM/yyyy'}}</td>
                                    <td>{{user.LBTR_ReturnedDate | date:'dd/MM/yyyy'}}</td>
                                    <td>{{user.LBTR_FineCollected}}</td>
                                    <td>{{user.LBTR_TotalFine}}</td>
                                    <td>{{user.LMB_BookType}}</td>

                                </tr>
                            </tbody>
                            <tfoot>
                                <tr>
                                    <td colspan="10" class="text-center">
                                        <label>
                                            Date:{{ddate|date:'dd/MM/yyyy'}} &nbsp;&nbsp; UserName: {{usrname}}  {{coptyright}}
                                        </label>
                                    </td>
                                </tr>
                            </tfoot>
                        </table>
                    </div>

                </div>
            </div>

        </div>

        <!------END--Department  Data Display-->
    </div>
</section>
<!-------------------------------------------------------------------------------------------------------------------------->
<!--------------Dialog Box-------------->
<div class="modal fade" id="myModal3" role="dialog" ng-show="false">
    <div class="modal-dialog modal-lg">
        <div class="modal-footer">
            <button type="button" class="btn btn-default" value="certificate" data-dismiss="modal" ng-click="printData();">Print</button>

            <button type="button" class="btn btn-default" data-dismiss="modal" ng-click="closedata();">Close</button>
        </div>

        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">
                    <i class="fa fa-times text-white" aria-hidden="true"></i>
                </button>
                <h4 class="modal-title text-white">Student Details</h4>
            </div>


            <div class="modal-body">

                <div class="row" id="printmodal">
                    <div class="col-sm-10">
                        <div class="printmodal clearfix">
                            <div class="">
                                <div class="baldwin text-center">
                                    <img src="{{imgname}}" class="img-responsive" alt="baldwin">
                                </div>
                            </div>
                            <div>

                                <div class="row margin-bottom-5">

                                    <div class="col-sm-6">
                                        <div class="form-group">
                                            <label class="control-label col-sm-4">Registration No</label>
                                            <div class="col-sm-8">
                                                <label class="control-label">:   {{studentdata[0].fyP_Receipt_No}} </label>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-sm-6">
                                        <div class="form-group">
                                            <label class="control-label col-sm-4">Date</label>
                                            <div class="col-sm-8">
                                                <label class="control-label">:   {{studentdata[0].fyP_Date | date:'dd-MM-yyyy'}}</label>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-sm-6">
                                        <div class="form-group">
                                            <label class="control-label col-sm-4">Student Name</label>
                                            <div class="col-sm-8">
                                                <label class="control-label">: {{studentdata[0].fyptP_Name}}</label>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-sm-6">
                                        <div class="form-group">
                                            <label class="control-label col-sm-4">Academic Year</label>
                                            <div class="col-sm-8">
                                                <label class="control-label">: {{studentdata[0].asmaY_Year}}</label>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <table class="table table-hover table-responsive table-bordered text-center table-width" id="modaltblr">
                                    <thead>
                                        <tr>
                                            <th>S.NO</th>
                                            <th>Student Name</th>
                                            <th>Accession No</th>
                                            <th>Book Title</th>
                                            <th>Status</th>
                                            <th>Issue Date</th>
                                            <th>Due Date</th>
                                        </tr>
                                    </thead>

                                    <tbody>
                                        <tr ng-repeat="user in filterValue">
                                            <td>{{user.LMB_BookTitle}}</td>
                                            <td>{{user.AMST_Name}}</td>
                                            <td>{{user.LMBANO_AccessionNo}}</td>
                                            <td>{{user.LMB_BookTitle}}</td>
                                            <td>{{user.LBTR_Status}}</td>
                                            <td>{{user.LBTR_IssuedDate | date:'dd/MM/yyyy'}}</td>
                                            <td>{{user.LBTR_DueDate | date:'dd/MM/yyyy'}}</td>
                                            <td>{{user.LBTR_ReturnedDate | date:'dd/MM/yyyy'}}</td>
                                        </tr>
                                    </tbody>
                                </table>

                                <div class="row">
                                    <div class="col-sm-12">
                                        <label class="control-label col-sm-4"><b>Amount Received (in Words)</b></label>
                                        <div class="col-sm-8">
                                            <label class="control-label">: {{words}} Only/-</label>
                                            <hr />
                                        </div>

                                    </div>

                                </div>



                                <br />
                                <div class="row">
                                    <div class="col-sm-offset-8 col-sm-4">
                                        <h5>Authorised Signatory</h5>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>


            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
            </div>
        </div>

    </div>
</div>
