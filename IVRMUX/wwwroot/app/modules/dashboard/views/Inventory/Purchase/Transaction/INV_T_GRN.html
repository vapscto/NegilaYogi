<style>
    .multiselect {
        width: 24.1em;
        height: 10em;
        border: solid 1px #5cb7ff;
        overflow: auto;
        margin-left: 0;
        margin-bottom: 1%;
        padding: 2%;
    }
</style>

<section class="content">
    <div class="" ng-init="loaddata()">

        <form class="form-horizontal" role="form" name="myForm" enctype="multipart/form-data" novalidate>
            <div class="box box-primary">
                <div class="box-header with-border">
                    <h3 class="box-title">GRN (Goods Receipt Note)</h3>
                    <div class="box-tools pull-right">
                        <button type="button" ng-click="ShowHide1()" class="btn btn-box-tool" data-widget="collapse" data-placement="bottom" data-toggle="tooltip" title="collapsible"><i class="fa fa-minus"></i></button>
                    </div>
                </div>
                <!--====================== GRN===========================-->
                <div class="">
                    <div class="box-body">
                        <div class="row">
                            <div class="col-sm-6">
                                <!--<div class="form-group">
                                    <label class="control-label col-sm-4">GRN No:<span style="color:Red">*</span></label>
                                    <div class="col-sm-8">
                                        <input type="text" class="form-control active" name="grnno" placeholder="Enter GRN No" ng-model="invmgrN_GRNNo">
                                        <div class="error-messages" ng-if="interacted(myForm.grnno)" ng-messages="myForm.grnno.$error">
                                            <div ng-message="required">Please Enter GRN No </div>
                                        </div>
                                    </div>
                                </div>-->
                                <div class="form-group">
                                    <label class="control-label col-sm-4">Purchase Date:<strong style="color:red;display:inline; font-weight: bolder; margin-left: 7px;">*</strong></label>
                                    <div class="col-sm-7">
                                        <md-datepicker ng-disabled="editS" ng-model="invmgrN_PurchaseDate" name="ddgrn" md-placeholder="Enter Date"></md-datepicker>
                                    </div>
                                </div>

                                <div class="form-group">
                                    <label class="control-label col-sm-4">Supplier :<span style="color:red;">*</span></label>
                                    <div class="col-sm-8">
                                        <select class="form-control" ng-disabled="editS" ng-model="invmS_Id" name="grps" required>
                                            <option value="">Select Supplier </option>
                                            <option ng-repeat="option in get_supplier" value="{{option.invmS_Id}}" ng-selected="{{option.Selected == true}}">
                                                {{option.invmS_SupplierName}}
                                            </option>
                                        </select>
                                        <div class="error-messages" ng-if="interacted(myForm.grps)" ng-messages="myForm.grps.$error">
                                            <div ng-message="required">Please Select Supplier </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="col-sm-6">

                                <div class="form-group">
                                    <label class="control-label col-sm-4">Invoice No:</label>
                                    <div class="col-sm-8">
                                        <input type="text" ng-disabled="editS" class="form-control active" name="invoice" placeholder="Enter Invoice No" ng-model="invmgrN_InvoiceNo">
                                    </div>
                                </div>

                                <div class="form-group">
                                    <label class="control-label col-sm-4">Store :<span style="color:red;">*</span></label>
                                    <div class="col-sm-8">
                                        <select ng-disabled="editS" class="form-control" ng-model="invmsT_Id" name="stor" required>
                                            <option value="">Select Store </option>
                                            <option ng-repeat="option in get_Store" value="{{option.invmsT_Id}}" ng-selected="{{option.Selected == true}}">
                                                {{option.invmS_StoreName}}
                                            </option>
                                        </select>
                                        <div class="error-messages" ng-if="interacted(myForm.stor)" ng-messages="myForm.stor.$error">
                                            <div ng-message="required">Please Select Store </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <hr />
                <div class="box-body">
                    <!--====================== GRN Transcation ===========================-->
                    <div class="" ng-show="get_item.length>0">
                        <div class="clearfix">
                            <div style="width:100%;overflow:auto; min-height:200px;">
                                <table class="table table-responsive table-bordered clearfix" style="min-width:1500px;">
                                    <thead>
                                        <tr>
                                            <th width="50">SL NO</th>
                                            <th width="150"><a href="" ng-click="sort('invmI_Id')">Item Name</a></th>
                                            <th width="150"><a href="" ng-click="sort('invmuoM_Id')">UOM</a></th>
                                            <th><a href="" ng-click="sort('invtgrN_BatchNo')">Batch No</a></th>
                                            <th><a href="" ng-click="sort('invtgrN_Qty')">Quantity</a></th>
                                            <!--<th><a href="" ng-click="sort('invtgrN_MfgDate')">Mfg-Date</a></th>
                                            <th><a href="" ng-click="sort('invtgrN_ExpDate')">Expiry-Date</a></th>-->
                                            <th><a href="" ng-click="sort('invtgrN_PurchaseRate')">Purchase Rate</</a></th>
                                            <th><a href="" ng-click="sort('invtgrN_MRP')">MRP</a></th>
                                            <!--<th><a href="" ng-click="sort('invtgrN_DiscountAmt')">Discount</a></th>-->
                                            <th width="124">
                                                <select class="form-control" ng-model="discounttype" name="disct">
                                                    <option value="">Discount </option>
                                                    <option value="A">Amount </option>
                                                    <option value="P">Percentage</option>
                                                </select>
                                            </th>
                                            <th><a href="" ng-click="sort('invtgrN_SalesPrice')">Sales Price</a></th>
                                            <th><a href="" ng-click="sort('invtgrN_Amount')"> Basic Amount</a></th>
                                            <th><a href="" ng-click="sort('invtgrN_Naration')">Narration</a></th>
                                            <th><a href="" ng-click="sort('invtgrN_TaxAmt')">View</a></th>
                                            <th><a href="" ng-click="sort('invtgrN_TaxAmt')">Tax</a></th>
                                            <th>Action</th>
                                        </tr>
                                    </thead>

                                    <tbody>
                                        <!--<tr ng-repeat="item in getGRNDetails">-->
                                        <tr ng-repeat="objg in transrows" ng-form="dataform1">
                                            <td>{{$index+1}}</td>
                                            <td>
                                                <div ng-show="!editS">
                                                    <ui-select id="sel1" name="itemnm" ng-model="$parent.objg.invmI_Id" theme="bootstrap" ng-keyup="searchfilter($select);" ng-change="onitemchange($parent.objg.invmI_Id,objg)" title="Select Item" required>
                                                        <ui-select-match ng-trim="false" placeholder="Select or search Item in the list...">{{$select.selected.invmI_ItemName}}</ui-select-match>
                                                        <ui-select-choices repeat="option in get_item | filter: $select.search " value="{{option.invmI_Id}}" ng-disabled="{{option.disattr == true}}" ng-selected="{{option.Selected == true}}">
                                                            <div ng-bind-html="option.invmI_ItemName | highlight: $select.search"></div>
                                                        </ui-select-choices>
                                                    </ui-select>
                                                    <div class="error-messages" ng-if="interacted(dataform1.itemnm)" ng-messages="dataform1.itemnm.$error">
                                                        <div ng-message="required">Select Item</div>
                                                    </div>
                                                </div>
                                                    <div ng-show="editS">
                                                        <span>
                                                            <label class="control-label col-sm-10" ng-model="objg.invmI_Id">{{objg.invmI_ItemName}}</label>
                                                        </span>
                                                    </div>
                                            </td>
                                            <!--<td style="width:110px;">
                                                <select class="form-control" ng-model="objg.invmuoM_Id" name="uom" placeholder="UOM" ng-disabled="true">
                                                    <option ng-repeat="option in objg.get_itemDetail" value="{{option.invmuoM_Id}}" ng-selected="{{option.invmuoM_Id == true}}">
                                                        {{option.invmuoM_UOMName}}
                                                    </option>
                                                </select>

                                            </td>-->
                                            <td>
                                                <input type="text" name="uom" class="form-control active" ng-disabled="true" ng-model="objg.invmuoM_Id" placeholder="UOM" />
                                            </td>
                                            <td style="width:90px;">
                                                <input type="text" ng-disabled="editS" name="batchno" class="form-control active" ng-model="objg.invtgrN_BatchNo" placeholder="Batch No." />

                                            </td>
                                            <td style="width:90px;">
                                                <input type="text" name="quantity" class="form-control active" allow-pattern="[0-9]" maxlength="15" ng-model="objg.invtgrN_Qty" placeholder="Quantity" required />
                                                <div class="error-messages" ng-if="interacted(dataform1.quantity)" ng-messages="dataform1.quantity.$error">
                                                    <div ng-message="required">Enter Quantity</div>
                                                </div>
                                            </td>
                                            <!--<td>
                                                <md-datepicker ng-model="objg.invtgrN_MfgDate" md-min-date="minDatemf" md-max-date="maxDatemf" name="mfgdate" md-placeholder="Date"></md-datepicker>
                                            </td>
                                            <td>
                                                <md-datepicker ng-model="objg.invtgrN_ExpDate" name="expdate" md-min-date="objg.invtgrN_MfgDate" md-max-date="maxDatemf" md-placeholder="Date"></md-datepicker>
                                            </td>-->
                                            <td>
                                                <input type="text" ng-disabled="editS" name="purrate" class="form-control active" ng-model="objg.invtgrN_PurchaseRate" allow-pattern="(\s|[0-9.])" maxlength="18" ng-pattern="/^[0-9]+(\.[0-9]{1,2})?$/" ng-blur="countitemAmt(objg,transrows)" placeholder="Purchase Rate" required />
                                                <div class="error-messages" ng-if="interacted(dataform1.purrate)" ng-messages="dataform1.purrate.$error">
                                                    <div ng-message="required">Enter Purchase rate</div>
                                                </div>
                                            </td>
                                            <td>
                                                <input type="text" ng-disabled="editS" name="mrp" class="form-control active" ng-model="objg.invtgrN_MRP" allow-pattern="(\s|[0-9.])" maxlength="18" ng-pattern="/^[0-9]+(\.[0-9]{1,2})?$/" placeholder="MRP" />
                                            </td>
                                            <!--<td ng-repeat="tax in get_itemTax">
                                                <input type="text" name="tax" class="form-control active" ng-model="objg.invtgrN_TaxAmt" placeholder="Tax" ng-blur="countTax(objg,transrows)" />
                                            </td>-->
                                            <td>
                                                <div class="row">
                                                    <div ng-if="discounttype=='P'">
                                                        <div class="col-sm-5 padding-right-none">
                                                            <input type="text" ng-disabled="editS" width="50" name="discount" class="form-control active" ng-value="0" ng-model="objg.discountper"
                                                                   allow-pattern="(\s|[0-9.])" maxlength="18" ng-pattern="/^[0-9]+(\.[0-9]{1,2})?$/" placeholder="%" ng-blur="countDiscount(objg,transrows)" ng-required="discounttype=='P'" />
                                                        </div>
                                                        <div class="col-sm-7 padding-left-none">
                                                            <input type="text" ng-disabled="editS" name="discount" class="form-control active" ng-value="0" ng-model="objg.invtgrN_DiscountAmt" allow-pattern="(\s|[0-9.])" maxlength="18" ng-pattern="/^[0-9]+(\.[0-9]{1,2})?$/" placeholder="Discount" ng-blur="countDiscount(objg,transrows)" required />
                                                            <div class="error-messages" ng-if="interacted(dataform1.discount)" ng-messages="dataform1.discount.$error">
                                                                <div ng-message="required">Enter Discount</div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div ng-if="discounttype=='A'" ng-disabled="editS" >
                                                    <input type="text" name="discount" class="form-control active" ng-value="0" ng-model="objg.invtgrN_DiscountAmt" allow-pattern="(\s|[0-9.])" maxlength="18" ng-pattern="/^[0-9]+(\.[0-9]{1,2})?$/" placeholder="Discount" ng-blur="countDiscount(objg,transrows)" required />
                                                    <div class="error-messages" ng-if="interacted(dataform1.discount)" ng-messages="dataform1.discount.$error">
                                                        <div ng-message="required">Enter Discount</div>
                                                    </div>
                                                </div>
                                            </td>
                                            <td>
                                                <input type="text" ng-disabled="editS" name="sellingprice" class="form-control active" ng-model="objg.invtgrN_SalesPrice" allow-pattern="(\s|[0-9.])" maxlength="18" ng-pattern="/^[0-9]+(\.[0-9]{1,2})?$/" placeholder="selling Price" ng-blur="countAmt(objg,transrows)" />
                                                <div class="error-messages" ng-if="interacted(dataform1.sellingprice)" ng-messages="dataform1.sellingprice.$error">
                                                    <div ng-message="required">Enter Sales Price</div>
                                                </div>
                                            </td>
                                            <td>
                                                <input type="text" ng-disabled="editS" name="amount" class="form-control active" ng-model="objg.invtgrN_Amount" allow-pattern="(\s|[0-9.])" maxlength="18" ng-pattern="/^[0-9]+(\.[0-9]{1,2})?$/" placeholder="Amount" ng-blur="countAmount(objg,transrows)" required />
                                                <div class="error-messages" ng-if="interacted(dataform1.amount)" ng-messages="dataform1.amount.$error">
                                                    <div ng-message="required">Enter Amount</div>
                                                </div>
                                            </td>
                                            <td>
                                                <input type="text" ng-disabled="editS" name="naration" class="form-control active" ng-model="objg.invtgrN_Naration" placeholder="Narration" />
                                            </td>
                                            <td>
                                                <a ng-if="objg.get_itemTax.length>0" href="javascript:void(0)" class="text-primary" ng-click="viewtxfn(objg);">
                                                    <i class="fa fa-eye" aria-hidden="true"></i>
                                                </a>
                                            </td>
                                            <td>
                                                <input type="text" name="taxamt" class="form-control active" ng-disabled="true" ng-model="objg.invtgrN_TaxAmt" ng-change="taxchange(objg)" placeholder="Tax" required />
                                                <div class="error-messages" ng-if="interacted(dataform1.taxamt)" ng-messages="dataform1.taxamt.$error">
                                                    <div ng-message="required">Enter Tax Value</div>
                                                </div>
                                            </td>
                                            <td>
                                                <span class="" ng-hide="obrows.length > 4">
                                                    <span ng-show="!editS">
                                                        <a href="" ng-show="$last" ng-click="addgrnrows()">
                                                            <i class="fa fa-plus"></i>
                                                        </a>
                                                    </span>
                                                    </span>
                                                    <span ng-show="editS">
                                                        <a href="">
                                                            <i class="fa fa-ban"></i>
                                                        </a>
                                                    </span>
                                                    <span ng-show="!editS">
                                                        <span class="" id="remove" ng-hide="transrows.length ==1">
                                                            <a href="" ng-click="removegrnrows($index,objg)">
                                                                <i class="fa fa-minus" aria-hidden="true"></i>
                                                            </a>
                                                        </span>
                                                    </span>
                                            </td>
                                            <td hidden="hidden">{{objg.invtgrN_Id}}</td>
                                            <td hidden="hidden">{{objg.invtgrnT_Id}}</td>
                                        </tr>
                                    </tbody>

                                </table>
                            </div>
                        </div>
                        <div class="row margin-top-10">
                            <div class="col-sm-6">
                                <div class="form-group">
                                    <label class="control-label col-sm-2">Remarks :</label>
                                    <div class="col-sm-8">
                                        <textarea class="form-control" rows="3" id="comment" ng-model="invmgrN_Remarks"></textarea>
                                    </div>
                                </div>
                                <!--<div class="form-group">
                                    <div class="col-sm-3 col-sm-offset-2">
                                        <label class="checkbox-inline">
                                            <input type="checkbox" value="1" ng-disabled="true" name="returnflg" ng-model="invmgrN_ReturnFlg">
                                            <span class="lbl padding-4">Return </span>
                                        </label>
                                    </div>
                                    <div class="col-sm-3">
                                        <label class="checkbox-inline">
                                            <input type="checkbox" value="1" ng-disabled="true" name="paidflg" ng-model="invmgrN_PaidFlg">
                                            <span class="lbl padding-4">Paid</span>
                                        </label>
                                    </div>
                                    <div class="col-sm-3">
                                        <label class="checkbox-inline">
                                            <input type="checkbox" value="1" ng-disabled="true" name="crditflg" ng-model="invmgrN_CreditFlg">
                                            <span class="lbl padding-4">Credit</span>
                                        </label>
                                    </div>
                                </div>-->
                            </div>
                            <div class="col-sm-6">
                                <div class="form-group">
                                    <label class="control-label col-sm-4">Total Basic Amount:</label>
                                    <div class="col-sm-8">
                                        <input type="text" class="form-control active" name="tamt" allow-pattern="(\s|[0-9.])" maxlength="18" ng-pattern="/^[0-9]+(\.[0-9]{1,2})?$/" placeholder="Total Amount" ng-model="invmgrN_TotalAmount " step="0.01" ng-change="totalamoutchange()" ng-disabled="true">
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label class="control-label col-sm-4">Total Discount:</label>
                                    <div class="col-sm-8">
                                        <input type="text" class="form-control active" name="tdiscount" allow-pattern="(\s|[0-9.])" maxlength="18" ng-pattern="/^[0-9]+(\.[0-9]{1,2})?$/" placeholder="Total Discount" ng-model="invmgrN_TotDiscount" step="0.01" ng-change="totalDiscountchange()" ng-disabled="true">
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label class="control-label col-sm-4">Total Tax:</label>
                                    <div class="col-sm-8">
                                        <input type="text" class="form-control active" name="ttax" allow-pattern="(\s|[0-9.])" maxlength="18" ng-pattern="/^[0-9]+(\.[0-9]{1,2})?$/" placeholder="Total Tax" ng-model="invmgrN_TotTaxAmt" step="0.01" ng-change="totalTaxchange()" ng-disabled="true">
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label class="control-label col-sm-4">Purchase Value:</label>
                                    <div class="col-sm-8" ng-show="!editS">
                                        <input type="text" class="form-control active" name="purvalue" placeholder="Enter Purchase Value" maxlength="20" ng-model="invmgrN_PurchaseValue" step="0.01" ng-disabled="true">
                                    </div>
                                    <div class="col-sm-8" ng-show="editS">
                                        <input type="text" class="form-control active" name="purvalue" placeholder="Enter Purchase Value" maxlength="20" ng-model="invmgrNPurchaseValue" step="0.01" ng-disabled="true">
                                    </div>
                                </div>
                                <!--<div class="form-group">
                                    <label class="control-label col-sm-4">Grand Total:</label>
                                    <div class="col-sm-8">
                                        <input type="text" class="form-control active" name="gtamt" ng-disabled="true" allow-pattern="(\s|[0-9.])" maxlength="18" ng-pattern="/^[0-9]+(\.[0-9]{1,2})?$/" placeholder="Total" ng-model="gtotal">
                                    </div>
                                </div>-->
                            </div>
                        </div>
                    </div>

                    <hr />

                    <div class="text-center">
                        <input type="hidden" ng-model="invmgrN_Id" value="{{invmgrN_Id}}" />
                        <input type="hidden" ng-model="edit1"/>
                        <md-button type="button" class="md-raised md-primary" ng-click="savedata()" ng-disabled="form.$invalid">
                            <i class="fa fa-save" aria-hidden="true"></i> Save
                        </md-button>
                        <md-button type="button" class="md-raised md-warn" ng-click="cancel()" ng-disabled="form.$invalid">
                            <i class="fa fa-times" aria-hidden="true"></i> Cancel
                        </md-button>
                    </div>
                </div>
            </div>
        </form>
        <!--=============================== GRN Grid  ==================================-->
        <div class="box box-primary" ng-show="get_GRN.length>0">
            <div class="box-header with-border">
                <h3 class="box-title">GRN Details</h3>
                <div class="box-tools pull-right">
                    <button type="button" class="btn btn-box-tool" data-widget="collapse" data-placement="bottom" data-toggle="tooltip" title="collapsible"><i class="fa fa-minus"></i></button>
                </div>
            </div>
            <!-- /.box-header -->
            <div class="box-body">
                <div class="row">
                    <div class="col-sm-4">
                        <div class="form-group">
                            <label class="control-label">
                                <b> Total Grid Records :</b>
                                <label class="badge">
                                    {{presentCountgrid}}
                                </label>
                            </label>
                        </div>
                    </div>
                    <!--<div class="col-sm-4">
                        <div class="form-group" ng-if="searchValue!=''">
                            <label class="control-label">
                                <b>Total Records Searched : </b>
                                <label class="badge">
                                    {{filterValue1.length}}
                                </label>
                            </label>
                        </div>
                    </div>-->
                    <!--<div class="col-sm-4 pull-right">
                        <div class="form-group searchbox">
                            <div class="input-group">

                                <input class="form-control" ng-model="searchValue" type="text" ng-change="search_box();" placeholder="search here...">
                                <span class="input-group-addon">
                                    <button class="btn" type="submit" ng-disabled="searc_button" ng-click="searchByColumn(searchValue,searchColumn)"><i class="fa fa-search"></i></button>
                                </span>
                                <select class="form-control" id="sel1" ng-model="searchColumn" ng-init="searchColumn='0'">
                                    <option value="0">All</option>
                                    <option value="1">GRN No</option>
                                    <option value="2">Item Name</option>
                                    <option value="3">UOM</option>
                                    <option value="4">Tax Name</option>
                                    <option value="5">Purchase Date</option>
                                </select>
                                <span class="input-group-addon">
                                    <button type="submit" class="btn" ng-disabled="form.$invalid" id="save-btn" data-ng-click="reset()">
                                        <i class="fa fa-history" aria-hidden="true"></i>
                                        Reset
                                    </button>
                                </span>
                            </div>
                        </div>
                    </div>-->
                    <div class="col-sm-4 pull-right">
                        <div class="form-group">
                            <div class="input-group">
                                <span class="input-group-addon">
                                    <i class="fa fa-search"></i>
                                </span>
                                <input class="form-control" ng-model="searchValue" type="text" placeholder="search here...">
                            </div>
                        </div>
                    </div>
                </div>
                <table class="table table-hover table-responsive table-bordered text-center">
                    <thead>
                        <tr>
                            <th>
                                <a href="" ng-click="sortBy('sno')">SL.No.</a>
                            </th>
                            <th><a href="" ng-click="sortBy('invmgrN_GRNNo')">Store Name</a></th>
                            <th><a href="" ng-click="sortBy('invmS_SupplierName')">Supplier Name</a></th>
                            <th><a href="" ng-click="sortBy('invmgrN_GRNNo')">GRN No.</a></th>
                            <th><a href="" ng-click="sortBy('invmgrN_InvoiceNo')">Invoice No.</a> </th>
                            <th><a href="" ng-click="sortBy('invmgrN_PurchaseDate')">Purchase Date</a></th>
                            <th><a href="" ng-click="sortBy('invmgrN_PurchaseValue')">Purchase Value</a> </th>
                            <th><a href="" ng-click="sortBy('invmgrN_TotDiscount')">Total Discount</a></th>
                            <th><a href="" ng-click="sortBy('invmgrN_TotTaxAmt')">Total Tax</a> </th>
                            <th><a href="" ng-click="sortBy('invmgrN_TotalAmount')">Total Amount</a> </th>
                            <th>Action</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr dir-paginate="user in filterValue1 = (get_GRN | filter : searchValue)  | orderBy:propertyName:reverse |itemsPerPage:itemsPerPage" current-page="currentPage" ng-class-odd="'odd'">
                            <td>{{itemsPerPage *(currentPage-1)+$index+1}}</td>
                            <td>{{user.invmS_StoreName}}</td>
                            <td>{{user.invmS_SupplierName}}</td>
                            <td>{{user.invmgrN_GRNNo}}</td>
                            <td>{{user.invmgrN_InvoiceNo}}</td>
                            <td>{{user.invmgrN_PurchaseDate | date:'dd/MM/yyyy'}}</td>
                            <td>{{user.invmgrN_PurchaseValue}}</td>
                            <td>{{user.invmgrN_TotDiscount}}</td>
                            <td>{{user.invmgrN_TotTaxAmt}}</td>
                            <td>{{user.invmgrN_TotalAmount}}</td>

                            <td class="text-center">
                                <a class="text-aqua" href="" ng-click="edit(user)" data-placement="bottom" data-toggle="tooltip" title="Edit">
                                    <i class="fa fa-pencil-square-o" aria-hidden="true"></i>
                                </a>


                                <span ng-if="user.invmgrN_ActiveFlg === false">
            <a href="" ng-click="deactive(user)"
               class="text-green" data-placement="bottom" data-toggle="tooltip" title="Activate">
                <i> Activate </i>
            </a>
        </span>
        <span ng-if="user.invmgrN_ActiveFlg === true">
            <a href="" ng-click="deactive(user)"
               class="text-danger" data-placement="bottom" data-toggle="tooltip" title="Deactivate">
                <i> Deactivate</i>
            </a>
        </span>
                                <span>
                                    <a href="javascript:void(0)" class="text-primary" data-placement="bottom" data-toggle="modal" title="item" data-ng-model="itemOption" data-target="#myModalG" data-ng-click="mainmodelclick(user.invmgrN_Id)">
                                        <i class="fa fa-eye fa-1x" aria-hidden="true">View Details</i>
                                    </a>
                                </span>
                            </td>
                          
                        </tr>
                    </tbody>
                </table>
                <dir-pagination-controls max-size="5"
                                         direction-links="true"
                                         boundary-links="true">
                </dir-pagination-controls>
            </div>
        </div>
        <!--=============================== GRN Grid Model Transcation Details ==================================-->
        <div id="myModalG" class="modal fade" role="dialog" data-backdrop="static">
            <div class="modal-dialog modal-lg" style="width: 92%;">

                <div class="modal-content">
                    <div class="modal-body">
                        <!--<div class="modal-footer">
                            <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                        </div>-->
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal"><i class="fa fa-times text-white" aria-hidden="true"></i></button>
                            <h4 class="modal-title text-white">{{grnnumber}}</h4>
                        </div>
                        <div class="box-body">
                            <div class="text-center">
                                <table class="table table-hover table-responsive table-bordered text-center">
                                    <thead>
                                        <tr>
                                            <th>SL NO</th>
                                            <th><a href="" ng-click="sort('invmI_ItemName')">Item</a></th>
                                            <th><a href="" ng-click="sort('invmuoM_UOMName')">UOM </a></th>
                                            <th><a href="" ng-click="sort('invtgrN_BatchNo')">Batch no. </a></th>
                                            <th><a href="" ng-click="sort('invtgrN_Qty')">Quantity </a></th>
                                            <!--<th><a href="" ng-click="sort('invtgrN_ExpDate')">Expiry Date </a></th>-->
                                            <th><a href="" ng-click="sort('invtgrN_PurchaseRate')">Purchase Rate </a></th>
                                            <th><a href="" ng-click="sort('invtgrN_MRP')">MRP </a></th>
                                            <th><a href="" ng-click="sort('invtgrN_SalesPrice')">Sale Price </a></th>
                                            <th><a href="" ng-click="sort('invtgrN_DiscountAmt')">Discount </a></th>
                                            <th><a href="" ng-click="sort('invtgrN_TaxAmt')">Tax Amount </a></th>
                                            <th><a href="" ng-click="sort('invtgrN_Amount')">Amount </a></th>
                                            <th><a href="" ng-click="sort('invtgrN_Naration')">Narration </a></th>
                                            <!--<th>Action</th>-->
                                        </tr>
                                    </thead>

                                    <tbody>
                                        <tr ng-repeat="useri in get_GRNItemDetails | orderBy:sortKey:reverse |filter:searchValue">
                                            <td>{{$index+1}}</td>
                                            <td style="overflow-wrap:break-word">{{ useri.invmI_ItemName}}</td>
                                            <td style="overflow-wrap:break-word">{{ useri.invmuoM_UOMName}}</td>
                                            <td style="overflow-wrap:break-word">{{ useri.invtgrN_BatchNo}}</td>
                                            <td style="overflow-wrap:break-word">{{ useri.invtgrN_Qty}}</td>

                                            <!--<td style="overflow-wrap:break-word">{{ useri.invtgrN_ExpDate | date:'MM/dd/yyyy'}}</td>-->
                                            
                                            <td style="overflow-wrap:break-word">{{ useri.invtgrN_PurchaseRate | number : 2}}</td>
                                            <td style="overflow-wrap:break-word">{{ useri.invtgrN_MRP | number : 2}}</td>
                                            <td style="overflow-wrap:break-word">{{ useri.invtgrN_SalesPrice | number : 2}}</td>
                                            <td style="overflow-wrap:break-word">{{ useri.invtgrN_DiscountAmt | number : 2}}</td>
                                            <td style="overflow-wrap:break-word">{{ useri.invtgrN_TaxAmt | number : 2}}</td>
                                            <td style="overflow-wrap:break-word">{{ useri.invtgrN_Amount | number : 2}}</td>
                                            <td style="overflow-wrap:break-word">{{ useri.invtgrN_Naration}}</td>

                                            <!--<td class="text-center">
                                                <span ng-if="useri.invtgrN_ActiveFlg === false">
                                                    <a href="" ng-click="deactiveG(useri)"
                                                       class="text-green" data-placement="bottom" data-toggle="tooltip" title="Activate">
                                                        <i> Activate </i>
                                                    </a>
                                                </span>
                                                <span ng-if="useri.invtgrN_ActiveFlg === true">
                                                    <a href="" ng-click="deactiveG(useri)"
                                                       class="text-danger" data-placement="bottom" data-toggle="tooltip" title="Deactivate">
                                                        <i> Deactivate</i>
                                                    </a>
                                                </span>

                                            </td>-->
                                        </tr>
                                    </tbody>
                                </table>
                            </div>

                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!--=============================== GRN Model Transcation Tax Details ==================================-->
        <div id="myModalTax" class="modal fade" role="dialog" data-backdrop="static">
            <div class="modal-dialog modal-lg">
                <div class="modal-content">
                    <div class="modal-body">
                        <div class="modal-footer">
                            <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                        </div>
                        <div class="box-body">
                            <div class="text-center">
                                <table class="table table-hover table-responsive table-bordered text-center">
                                    <thead>
                                        <tr>
                                            <th>SL NO</th>
                                            <th><a href="" ng-click="sort('invmT_TaxName')">Tax Name</a></th>
                                            <th><a href="" ng-click="sort('invtgrnT_TaxPer')">Tax Percentage </a></th>
                                            <th><a href="" ng-click="sort('invtgrnT_TaxAmt')">Tax Amount </a></th>
                                            <!--<th>Action</th>-->
                                        </tr>
                                    </thead>

                                    <tbody>
                                        <tr ng-repeat="usert in get_GRNItemTax | orderBy:sortKey:reverse |filter:searchValue">
                                            <td>{{$index+1}}</td>
                                            <td style="overflow-wrap:break-word">{{ usert.invmT_TaxName}}</td>
                                            <td style="overflow-wrap:break-word">{{ usert.invtgrnT_TaxPer | number : 2}}</td>
                                            <td style="overflow-wrap:break-word">{{ usert.invtgrnT_TaxAmt | number : 2}}</td>
                                            <!--<td class="text-center">
                                                <span ng-if="usert.invtgrnT_ActiveFlg === false">
                                                    <a href="" ng-click="deactivet(usert)"
                                                       class="text-green" data-placement="bottom" data-toggle="tooltip" title="Activate">
                                                        <i> Activate </i>
                                                    </a>
                                                </span>
                                                <span ng-if="usert.invtgrnT_ActiveFlg === true">
                                                    <a href="" ng-click="deactivet(usert)"
                                                       class="text-danger" data-placement="bottom" data-toggle="tooltip" title="Deactivate">
                                                        <i> Deactivate</i>
                                                    </a>
                                                </span>
                                            </td>-->
                                        </tr>
                                    </tbody>
                                </table>
                            </div>

                        </div>
                    </div>
                </div>
            </div>
        </div>


        <!-- =======================Transcation Tax Model ====================================-->
        <div id="myModal" class="modal fade" role="dialog" ng-if="get_itemTax.length>0">
            <div class="modal-dialog modal-lg">
                <!-- Modal content-->
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal"><i class="fa fa-times text-white" aria-hidden="true"></i></button>
                        <h4 class="modal-title text-white">Tax Details</h4>
                    </div>
                    <div class="modal-body">
                        <div class="box box-primary">
                            <div class="box-header with-border">
                                <h3 class="box-title">Tax</h3>
                                <div class="box-tools pull-right">
                                    <button type="button" class="btn btn-box-tool" data-widget="collapse"><i class="fa fa-minus"></i></button>
                                </div>
                            </div>

                            <div class="box-body">
                                <table class="table table-hover table-responsive table-bordered text-center">
                                    <thead>
                                        <tr>
                                            <th>
                                                <a href="">SLNO</a>
                                            </th>
                                            <th><a href="" ng-click="sort('invmI_ItemName')">Item </a> </th>
                                            <th><a href="" ng-click="sort('invmT_TaxName')">Tax </a> </th>
                                            <th><a href="" ng-click="sort('invmT_TaxAliasName')">Alias Name</a> </th>
                                            <th><a href="" ng-click="sort('invmiT_TaxValue')">Value</a> </th>
                                            <th><a href="" ng-click="sort('invtgrN_TaxAmt')">Tax Amount</a> </th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr ng-repeat="user in get_itemTax">
                                            <td class="text-center">{{ $index + 1}}</td>
                                            <td>{{ user.invmI_ItemName}}</td>
                                            <td>{{ user.invmT_TaxName}}</td>
                                            <td>{{ user.invmT_TaxAliasName}}</td>
                                            <td>{{ user.invmiT_TaxValue | number : 2}}</td>
                                            <td><input type="text" ng-model="user.invtgrN_TaxAmt" step="0.01" value="{{user.invtgrN_TaxAmt | number : 2}}" allow-pattern="(\s|[0-9.])" maxlength="18" ng-pattern="/^[0-9]+(\.[0-9]{1,2})?$/" placeholder="Enter Amount" ng-blur="countTax(user);"></td>
                                            <!--<td><input type="text" ng-model="user.invtgrnT_TaxAmt" step="0.01" value="{{user.invtgrnT_TaxAmt | number : 2}}" allow-pattern="(\s|[0-9.])" maxlength="18" ng-pattern="/^[0-9]+(\.[0-9]{1,2})?$/" placeholder="Enter Amount" ng-blur="countTax(user);"></td>-->
                                            <td hidden="hidden">{{user.invtgrnT_Id}}</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <md-button type="button" class="md-raised md-primary" data-ng-click="addtocart(get_itemTax)" data-dismiss="modal"><i class="fa fa-shopping-cart" aria-hidden="true"></i> Add to Cart</md-button>

                    </div>
                </div>

            </div>
        </div>

    </div>
</section>