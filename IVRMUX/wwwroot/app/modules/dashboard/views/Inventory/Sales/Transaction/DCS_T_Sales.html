<style>
    .multiselect {
        width: 24.1em;
        height: 11em;
        border: solid 1px #5cb7ff;
        overflow: auto;
        margin-left: 0;
        margin-bottom: 1%;
        padding: 2%;
    }
</style>

<section class="content">
    <div class="" ng-init="loaddata()">

        <form class="form-horizontal" role="form" name="myForm" enctype="multipart/form-data" novalidate>
            <div class="box box-primary">
                <div class="box-header with-border">
                    <h3 class="box-title">Sales</h3>
                    <div class="box-tools pull-right">
                        <button type="button" ng-click="ShowHide1()" class="btn btn-box-tool" data-widget="collapse" data-placement="bottom" data-toggle="tooltip" title="collapsible"><i class="fa fa-minus"></i></button>
                    </div>
                </div>

                
                <div class="box-body">
                    <!--====================== Sales===========================-->
                    <div class="box box-primary">
                        <div class="box-body">
                            <div class="row">
                                <div class="col-sm-6">

                                    <div class="form-group">
                                        <label class="control-label col-sm-4">Customer:<span style="color:Red">*</span></label>
                                        <div class="col-sm-8">
                                            <div ng-show="!editS">
                                                <ui-select id="sel1" name="customer" ng-model="$parent.obj.invmC_Id" theme="bootstrap" ng-keyup="searchfilter($select);" title="Select Customer" ng-required="invmsL_StuOtherFlg == 'Customer'">
                                                    <ui-select-match ng-trim="false" placeholder="Select or search Customer in the list...">{{$select.selected.invmC_CustomerName}}</ui-select-match>
                                                    <ui-select-choices repeat="option in get_customer | filter: $select.search " value="{{option.invmC_Id}}" ng-selected="{{option.Selected == true}}">
                                                        <div ng-bind-html="option.invmC_CustomerName | highlight: $select.search"></div>
                                                    </ui-select-choices>
                                                </ui-select>
                                            </div>
                                            <div ng-show="editS">
                                                <span>
                                                    <label class="control-label col-sm-10" ng-model="invmC_Id"><b>{{invmC_CustomerName}}</b></label>
                                                </span>
                                            </div>
                                            <div class="error-messages" ng-if="interacted(myForm.customer)" ng-messages="myForm.customer.$error">
                                                <div ng-message="required">Please Select Customer</div>
                                            </div>
                                        </div>
                                    </div>

                                    <br />
                                    <div class="form-group">
                                        <label class="control-label col-sm-4">Store :<span style="color:red;">*</span></label>
                                        <div class="col-sm-8">
                                            <select class="form-control" ng-model="invmsT_Id" name="store" ng-disabled="editS" ng-change="storeChange();" required>
                                                <option value="">Select Store </option>
                                                <option ng-repeat="option in get_Store" value="{{option.invmsT_Id}}" ng-selected="{{option.Selected == true}}">
                                                    {{option.invmS_StoreName}}
                                                </option>
                                            </select>
                                            <div class="error-messages" ng-if="interacted(myForm.store)" ng-messages="myForm.store.$error">
                                                <div ng-message="required">Please Select Store </div>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="form-group">
                                        <label class="control-label col-sm-4">Customer GST NO :<span style="color:Red">*</span></label>
                                        <div class="col-sm-8">
                                            <input type="text" class="form-control active" name="no" placeholder="Enter GST No" ng-model="gstno">
                                            <div class="error-messages" ng-if="interacted(myForm.vehicleno)" ng-messages="myForm.no.$error">
                                                <div ng-message="required">Please Enter GST No</div>
                                            </div>
                                        </div>
                                    </div>

                                </div>

                                <div class="col-sm-6">

                                    <!-- ===============Customer============================ -->
                                    <div class="">


                                        <div class="form-group">
                                            <label class="control-label col-sm-4">Sale Date:<strong style="color:red;display:inline; font-weight: bolder; margin-left: 7px;">*</strong></label>
                                            <div class="col-sm-7">
                                                <md-datepicker ng-model="invmsL_SalesDate" name="ddsale" md-placeholder="Enter Date"></md-datepicker>
                                            </div>
                                        </div>
                                    </div>


                                   


                                    <div class="form-group">
                                        <label class="control-label col-sm-4">Vehicle No :<span style="color:Red">*</span></label>
                                        <div class="col-sm-8">
                                            <input type="text" class="form-control active" name="vehicleno" placeholder="Enter Vehicle No" ng-model="vehicleno" >
                                            <div class="error-messages" ng-if="interacted(myForm.vehicleno)" ng-messages="myForm.vehicleno.$error">
                                                <div ng-message="required">Please Enter Vehicle No</div>
                                            </div>
                                        </div>
                                    </div>



                                </div>
                            </div>
                        </div>
                    </div>
                    <hr />

                    <!--====================== Sales Transcation ===========================-->
                    <div ng-show="transgrid">
                        <div class="" ng-show="get_Product.length>0">
                           
                            <div class="clearfix">
                                <div style="width:100%;overflow:auto;  min-height:200px;">
                                    <table class="table table-responsive table-bordered clearfix" style="min-width:1200px;">
                                        <thead>
                                            <tr>
                                                <th></th>
                                                <th width="50">SL NO</th>
                                                <th width="250"><a href="" ng-click="sort('invmP_Id')">Product Name</a></th>
                                                <th width="100"><a href="" ng-click="sort('invmuoM_Id')">UOM</a></th>
                                                <th width="100"><a href="" ng-click="sort('invtsL_BatchNo')">Batch No</a></th>
                                                <th width="100"><a href="" ng-click="sort('invmP_ProductPrice')">Sales Price</a></th>
                                                <th width="160"><a href="" ng-click="sort('invtsL_SalesQty')">Sales Qty</a></th>
                                                <th width="160"><a href="" ng-click="sort('invtsL_DiscountAmt')">Discount</a></th>
                                                <th width="100"><a href="" ng-click="sort('invtsL_Amount')">Amount</a></th>
                                                <th width="100"><a href="" ng-click="sort('invtsL_Naration')">Narration</a></th>
                                                <th width="20"><a href="" ng-click="sort('invtsL_TaxAmt')">View</a></th>
                                                <th width="100"><a href="" ng-click="sort('invtsL_TaxAmt')">Tax</a></th>
                                                <th width="50">Action</th>
                                            </tr>
                                        </thead>

                                        <tbody>
                                            <tr ng-repeat="objs in transrows" ng-form="dataform1">
                                                <td>
                                                    <div ng-show="editS">
                                                        <label>
                                                            <input type="checkbox" name="adcheckt" value="{{objs.editck}}" ng-model="objs.checkedvalue" ng-change="onitemchange(objs)"><span class="lbl padding-8"></span>
                                                        </label>
                                                    </div>
                                                </td>
                                                <td>{{$index+1}}</td>
                                                <td>
                                                    <div ng-show="!editS">
                                                        <ui-select id="sel1" name="product" ng-model="$parent.objs.invmP_Id" theme="bootstrap" ng-keyup="searchfilter($select);" ng-change="onitemchange($parent.objs.invmP_Id,objs)" title="Select Product" style="width:250px;" required>
                                                            <ui-select-match ng-trim="false" placeholder="Select or search Product in the list...">{{$select.selected.invmP_ProductName}}</ui-select-match>
                                                            <ui-select-choices repeat="option in get_Product | filter: $select.search " value="{{option.invmP_Id}}" style="width:250px;" ng-selected="{{option.Selected == true}}">
                                                                <div ng-bind-html="option.invmP_ProductName +'('+ option.invmP_ProductPrice+')' | highlight: $select.search"></div>
                                                            </ui-select-choices>
                                                        </ui-select>
                                                    </div>
                                                    <div ng-show="editS">
                                                        <span>
                                                            <label class="control-label col-sm-10" ng-model="objs.invmP_Id"><b>{{objs.INVMP_ProductName}} : {{objs.invmP_ProductPrice}}</b></label>
                                                        </span>
                                                    </div>
                                                    <div class="error-messages" ng-if="interacted(dataform1.itemnm)" ng-messages="dataform1.itemnm.$error">
                                                        <div ng-message="required">Select Productname</div>
                                                    </div>
                                                </td>
                                                <td>
                                                    <input type="text" name="uom" class="form-control active" ng-disabled="true" value="objs.invmuoM_Id" ng-model="objs.invmuoM_UOM" placeholder="UOM" />
                                                </td>
                                                <td>
                                                    <input type="text" name="batchno" class="form-control active" ng-model="objs.invtsL_BatchNo" placeholder="Batch No." />
                                                </td>
                                                <td>
                                                    <div ng-show="!editS">
                                                        <input type="text" name="saleprice" class="form-control active" ng-disabled="true"
                                                               ng-model="objs.invmP_Id.invmP_ProductPrice" placeholder="Sales Price" step="0.01" allow-pattern="(\s|[0-9.])" maxlength="18" ng-pattern="/^[0-9]+(\.[0-9]{1,2})?$/" />
                                                    </div>
                                                    <div ng-show="editS">
                                                        <input type="text" name="saleprice" class="form-control active" ng-disabled="true" ng-model="objs.invmP_ProductPrice" placeholder="Sales Price" step="0.01" allow-pattern="(\s|[0-9.])" maxlength="18" ng-pattern="/^[0-9]+(\.[0-9]{1,2})?$/" />
                                                    </div>
                                                </td>
                                                <td>
                                                    <!--<div class="row">
                                                        <div ng-if="stu_Flag=='C' || stu_Flag=='CS'">
                                                            <div class="col-sm-5 padding-right-none">
                                                                <input type="text" name="salequantity1" class="form-control active" ng-model="objs.salqty" allow-pattern="(\s|[0-9.])" maxlength="18" ng-pattern="/^[0-9]+(\.[0-9]{1,2})?$/" ng-disabled="!objs.checkedvalue && editS" ng-blur="countAmt(objs,transrows)" placeholder="Quantity" />
                                                            </div>
                                                            <div class="col-sm-7 padding-left-none">
                                                                <input type="text" name="salequantity" class="form-control active" ng-disabled="true" allow-pattern="(\s|[0-9.])" maxlength="18" ng-pattern="/^[0-9]+(\.[0-9]{1,2})?$/" ng-model="objs.invtsL_SalesQty" ng-blur="countAmt(objs,transrows)" placeholder="Quantity" ng-required="stu_Flag=='C' || stu_Flag=='CS'" />
                                                            </div>
                                                        </div>
                                                    </div>-->

                                                    <div>
                                                        <input type="text" name="salequantity" class="form-control active" ng-model="objs.invtsL_SalesQty" allow-pattern="(\s|[0-9.])" maxlength="18" ng-pattern="/^[0-9]+(\.[0-9]{1,2})?$/" ng-disabled="!objs.checkedvalue && editS" ng-blur="countAmt(objs,transrows)" placeholder="Quantity" ng-required="stu_Flag!=='C'&& stu_Flag!=='CS'" />
                                                    </div>
                                                    <div class="error-messages" ng-if="interacted(dataform1.salequantity)" ng-messages="dataform1.salequantity.$error">
                                                        <div ng-message="required">Enter Quantity</div>
                                                    </div>
                                                </td>

                                                <td>
                                                    <!--<div class="row">
                                                        <div ng-if="stu_Flag=='C' || stu_Flag=='CS'">
                                                            <div class="col-sm-5 padding-right-none">
                                                                <input type="text" name="discount1" class="form-control active" ng-disabled="(!objs.checkedvalue && editS)" allow-pattern="(\s|[0-9.])" maxlength="18" ng-pattern="/^[0-9]+(\.[0-9]{1,2})?$/" ng-model="objs.disctammt" ng-blur="countDiscount(objs,transrows)" placeholder="Discount" />
                                                            </div>

                                                            <div class="col-sm-7 padding-left-none">
                                                                <input type="text" name="discount" class="form-control active" ng-disabled="true" allow-pattern="(\s|[0-9.])" maxlength="18" ng-pattern="/^[0-9]+(\.[0-9]{1,2})?$/" ng-model="objs.invtsL_DiscountAmt" ng-blur="countDiscount(objs,transrows)" placeholder="Discount" ng-required="stu_Flag=='C' || stu_Flag=='CS'" />
                                                            </div>
                                                        </div>
                                                    </div>-->

                                                    <div>
                                                        <input type="text" name="discount" class="form-control active" ng-disabled="(!objs.checkedvalue && editS)" ng-model="objs.invtsL_DiscountAmt" allow-pattern="(\s|[0-9.])" maxlength="18" ng-pattern="/^[0-9]+(\.[0-9]{1,2})?$/" ng-blur="countDiscount(objs,transrows)" placeholder="Discount" ng-required="stu_Flag!=='C'&& stu_Flag!=='CS'" />
                                                    </div>
                                                    <div class="error-messages" ng-if="interacted(dataform1.discount)" ng-messages="dataform1.discount.$error">
                                                        <div ng-message="required">Enter Discount</div>
                                                    </div>
                                                </td>
                                                <td>
                                                    <input type="text" name="amount" class="form-control active" ng-model="objs.invtsL_Amount" ng-disabled="!objs.checkedvalue && editS" allow-pattern="(\s|[0-9.])" maxlength="18" ng-pattern="/^[0-9]+(\.[0-9]{1,2})?$/" placeholder="Amount" />
                                                </td>
                                                <td>
                                                    <input type="text" name="naration" class="form-control active" ng-model="objs.invtsL_Naration" ng-disabled="!objs.checkedvalue && editS" placeholder="Narration" />
                                                </td>
                                                <td>
                                                    <a ng-if="objs.get_itemTax.length>0" href="javascript:void(0)" class="text-primary" ng-click="viewtxfn(objs);">
                                                        <i class="fa fa-eye" aria-hidden="true"></i>
                                                    </a>
                                                </td>
                                               
                                                <td>
                                                    <input type="text" name="taxamt" class="form-control active" ng-disabled="true" ng-model="objs.invtsL_TaxAmt" ng-blur="counMtax(objs,transrows)" placeholder="Tax" required />
                                                    <div class="error-messages" ng-if="interacted(dataform1.taxamt)" ng-messages="dataform1.taxamt.$error">
                                                        <div ng-message="required">Enter Tax Value</div>
                                                    </div>
                                                </td>
                                                <td>
                                                    <span ng-show="!editS">
                                                        <span class="" ng-hide="salesrows.length > 10">

                                                            <a href="" ng-show="$last" ng-click="addsalesrows()">
                                                                <i class="fa fa-plus"></i>
                                                            </a>
                                                        </span>
                                                        <span class="" id="remove" ng-hide="transrows.length ==1">
                                                            <a href="" ng-click="removesalesrows($index,objs)">
                                                                <i class="fa fa-minus" aria-hidden="true"></i>
                                                            </a>
                                                        </span>
                                                    </span>
                                                    <span ng-show="editS">
                                                        <span>
                                                            <i class="fa fa-ban"></i>
                                                        </span>
                                                    </span>
                                                </td>
                                                <td hidden="hidden">{{objs.invtsL_Id}}</td>
                                            </tr>
                                        </tbody>

                                    </table>
                                </div>
                            </div>
                            <div class="row margin-top-10">
                                <div class="col-sm-6">
                                   
                                    <div class="form-group" ng-if="availablestock.length>0">
                                        <label class="control-label col-sm-3">Total Stock :<span style="color:Red">*</span></label>
                                        <div class="col-sm-7">
                                            <input type="text" class="form-control active" name="availablestock" ng-disabled="true" placeholder="Max Stock" ng-model="availableitems">
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label class="control-label col-sm-2">Remarks :</label>
                                        <div class="col-sm-8">
                                            <textarea class="form-control" rows="3" id="comment" ng-model="invmsL_Remarks"></textarea>
                                        </div>
                                    </div>
                                  
                                </div>
                                <div class="col-sm-6">
                                  
                                    <div class="form-group">
                                        <label class="control-label col-sm-4">Total Basic Amount:</label>
                                        <div class="col-sm-8">
                                            <input type="text" class="form-control active" name="tamt" allow-pattern="(\s|[0-9.])" maxlength="18" ng-pattern="/^[0-9]+(\.[0-9]{1,2})?$/" placeholder="Total Amount" ng-model="invmsL_TotalAmount " step="0.01" ng-change="totalamoutchange()">
                                        </div>
                                    </div>

                                    <div class="form-group">
                                        <label class="control-label col-sm-4">Total Discount:</label>
                                        <div class="col-sm-8">
                                            <input type="text" class="form-control active" name="tdiscount" allow-pattern="(\s|[0-9.])" maxlength="18" ng-pattern="/^[0-9]+(\.[0-9]{1,2})?$/" placeholder="Total Discount" ng-model="invmsL_TotDiscount" ng-change="totalDiscountchange()">
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label class="control-label col-sm-4">Total Tax:</label>
                                        <div class="col-sm-8">
                                            <input type="text" class="form-control active" name="ttax" allow-pattern="(\s|[0-9.])" maxlength="18" ng-pattern="/^[0-9]+(\.[0-9]{1,2})?$/" placeholder="Total Tax" ng-model="invmsL_TotTaxAmt" ng-change="totalTaxchange()">
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label class="control-label col-sm-4">Sale Value:</label>
                                        <div class="col-sm-8">
                                            <input type="text" class="form-control active" name="purvalue" placeholder="Sale Value" maxlength="20" ng-model="invmsL_SalesValue">
                                           
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="text-center">
                        <input type="hidden" ng-model="invmsL_Id" value="{{invmsL_Id}}" />
                        <md-button type="button" class="md-raised md-primary" ng-click="savedata(objs)" ng-disabled="form.$invalid">
                            <i class="fa fa-save" aria-hidden="true"></i> Save
                        </md-button>
                        <md-button type="button" class="md-raised md-warn" ng-click="cancel()" ng-disabled="form.$invalid">
                            <i class="fa fa-times" aria-hidden="true"></i> Cancel
                        </md-button>
                    </div>
                </div>
            </div>
        </form>


        <!--=============================== SALE Grid  ==================================-->
        <div class="box box-primary" ng-show="get_Sale.length>0">
            <div class="box-header with-border">
                <h3 class="box-title">Sale Details</h3>
                <div class="box-tools pull-right">
                    <button type="button" class="btn btn-box-tool" data-widget="collapse" data-placement="bottom" data-toggle="tooltip" title="collapsible"><i class="fa fa-minus"></i></button>
                </div>
            </div>
            <!-- /.box-header -->
            <div class="box-body">
                <div class="row">
                    <div class="col-sm-4">
                        <div class="form-group">
                            <label class="control-label">
                                <b> Total Grid Records :</b>
                                <label class="badge">
                                    {{presentCountgrid}}
                                </label>
                            </label>
                        </div>
                    </div>
                    <div class="col-sm-4">
                        <div class="form-group" ng-if="searchValue!=''">
                            <label class="control-label">
                                <b>Total Records Searched : </b>
                                <label class="badge">
                                    {{filterValue1.length}}
                                </label>
                            </label>
                        </div>
                    </div>
                    <div class="col-sm-4 pull-right">
                        <div class="form-group">
                            <div class="input-group">
                                <span class="input-group-addon">
                                    <i class="fa fa-search"></i>
                                </span>
                                <input class="form-control" ng-model="searchValue" type="text" placeholder="search here...">
                            </div>
                        </div>
                    </div>
                </div>

                <table class="table table-hover table-responsive table-bordered text-center">
                    <thead>
                        <tr>
                            <th>
                                <a href="" ng-click="sortBy('sno')">SL.No.</a>
                            </th>
                            <th><a href="" ng-click="sortBy('invmsL_SalesNo')">Sale No.</a></th>
                            <th><a href="" ng-click="sortBy('invmsL_StuOtherFlg')">Vehicle No</a></th>
                            <th><a href="" ng-click="sortBy('invmsL_SalesDate')">Sale Date</a></th>
                            <th><a href="" ng-click="sortBy('invmsL_SalesValue')">Sale Value</a> </th>
                            <th><a href="" ng-click="sortBy('invmsL_TotDiscount')">Total Discount</a></th>
                            <th><a href="" ng-click="sortBy('invmsL_TotTaxAmt')">Total Tax</a> </th>
                            <th><a href="" ng-click="sortBy('invmsL_TotalAmount')">Total Amount</a> </th>
                            <th>Action</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr dir-paginate="user in filterValue1 = (get_Sale | filter : searchValue)  | orderBy:propertyName:reverse |itemsPerPage:itemsPerPage" current-page="currentPage" ng-class-odd="'odd'">
                            <td>{{itemsPerPage *(currentPage-1)+$index+1}}</td>
                            <td>{{user.invmsL_SalesNo}}</td>
                            <td>{{user.dcS_Vehicleno}}</td>
                            <td>{{user.invmsL_SalesDate | date:'dd/MM/yyyy'}}</td>
                            <td>{{user.invmsL_SalesValue}}</td>
                            <td>{{user.invmsL_TotDiscount}}</td>
                            <td>{{user.invmsL_TotTaxAmt}}</td>
                            <td>{{user.invmsL_TotalAmount}}</td>

                            <td class="text-center" style="width: 355px;">
                               
                                <!--<span ng-if="user.invmsL_ActiveFlg === false">
                                    <a href="" ng-click="deactive(user)"
                                       class="text-green" data-placement="bottom" data-toggle="tooltip" title="Activate">
                                        <i> Activate </i>
                                    </a>
                                </span>
                                <span ng-if="user.invmsL_ActiveFlg === true">
                                    <a href="" ng-click="deactive(user)"
                                       class="text-danger" data-placement="bottom" data-toggle="tooltip" title="Deactivate">
                                        <i> Deactivate</i>
                                    </a>
                                </span>-->
                                &nbsp;&nbsp;
                                <span ng-if="user.invmsL_ActiveFlg === true">
                                    <a href="javascript:void(0)" class="text-primary" data-placement="bottom" data-toggle="modal" title="product" data-ng-model="itemOption" data-target="#myModalS" data-ng-click="mainmodelclick(user)">
                                        <i class="fa fa-eye fa-1x" aria-hidden="true">View Details</i>
                                    </a>
                                </span>
                                <span>
                                    <span>
                                        <a href="javascript:void(0)" class="text-primary" data-placement="bottom" data-toggle="modal" title="product" data-ng-model="itemOption" data-target="#myModaltype" data-ng-click="typemodelclick(user)">
                                            <i class="fa fa-eye fa-1x" aria-hidden="true">View DC</i>
                                        </a>
                                    </span>
                                </span>
                            </td>
                        </tr>
                    </tbody>
                </table>
                <dir-pagination-controls max-size="5"
                                         direction-links="true"
                                         boundary-links="true">
                </dir-pagination-controls>

            </div>
        </div>

        <!--=============================== SALE Grid Model Transcation Details ==================================-->
        <div id="myModalS" class="modal fade" role="dialog" data-backdrop="static">
            <div class="modal-dialog modal-lg" style="width: 1150px;">
                <div class="modal-content">
                    <div class="modal-body">
                      
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal"><i class="fa fa-times text-white" aria-hidden="true"></i></button>
                            <h4 class="modal-title text-white">{{salenumber}}</h4>
                        </div>
                        <div class="box-body">
                            <div class="text-center">
                                <table class="table table-hover table-responsive table-bordered text-center">
                                    <thead>
                                        <tr>
                                            <th>SL NO</th>
                                            <th><a href="" ng-click="sort('invmP_ProductName')">Product</a></th>
                                            <th><a href="" ng-click="sort('invmuoM_UOMName')">UOM </a></th>
                                            <th><a href="" ng-click="sort('invtsL_BatchNo')">Batch no. </a></th>
                                            <th><a href="" ng-click="sort('invtsL_SalesQty')">Quantity </a></th>
                                            <th><a href="" ng-click="sort('invmP_ProductPrice')">Sale Price </a></th>
                                            <th><a href="" ng-click="sort('invtsL_DiscountAmt')">Discount </a></th>
                                            <th><a href="" ng-click="sort('invtsL_TaxAmt')">Tax </a></th>
                                            <th><a href="" ng-click="sort('invtsL_Amount')">Amount </a></th>
                                            <th><a href="" ng-click="sort('invtsL_Naration')">Narration </a></th>
                                            <!--<th>Action</th>-->
                                        </tr>
                                    </thead>

                                    <tbody>
                                        <tr ng-repeat="userS in get_SaleItemDetails | orderBy:sortKey:reverse |filter:searchValue">

                                            <td>{{$index+1}}</td>
                                            <td style="overflow-wrap:break-word">{{ userS.invmP_ProductName}}</td>
                                            <td style="overflow-wrap:break-word">{{ userS.invmuoM_UOMName}}</td>
                                            <td style="overflow-wrap:break-word">{{ userS.invtsL_BatchNo}}</td>
                                            <td style="overflow-wrap:break-word">{{ userS.invtsL_SalesQty}}</td>
                                            <td style="overflow-wrap:break-word">{{ userS.invtsL_SalesPrice}}</td>
                                            <td style="overflow-wrap:break-word">{{ userS.invtsL_DiscountAmt}}</td>
                                            <td style="overflow-wrap:break-word">{{ userS.invtsL_TaxAmt}}</td>
                                            <td style="overflow-wrap:break-word">{{ userS.invtsL_Amount}}</td>
                                            <td style="overflow-wrap:break-word">{{ userS.invtsL_Naration}}</td>

                                          
                                        </tr>
                                    </tbody>
                                </table>
                            </div>

                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!--=============================== GRN Model Transcation Tax Details ==================================-->
        <div id="myModalTax" class="modal fade" role="dialog" data-backdrop="static">
            <div class="modal-dialog modal-lg">
                <div class="modal-content">
                    <div class="modal-body">
                        <div class="modal-footer">
                            <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                        </div>
                        <div class="box-body">
                            <div class="text-center">
                                <table class="table table-hover table-responsive table-bordered text-center">
                                    <thead>
                                        <tr>
                                            <th>SL NO</th>
                                            <th><a href="" ng-click="sort('invmT_TaxName')">Tax Name</a></th>
                                            <th><a href="" ng-click="sort('invtslT_TaxPer')">Tax Percentage </a></th>
                                            <th><a href="" ng-click="sort('invtslT_TaxAmt')">Tax Amount </a></th>
                                            <!--<th>Action</th>-->
                                        </tr>
                                    </thead>

                                    <tbody>
                                        <tr ng-repeat="usertax in get_SaleItemTax | orderBy:sortKey:reverse |filter:searchValue">
                                            <td>{{$index+1}}</td>
                                            <td style="overflow-wrap:break-word">{{ usertax.invmT_TaxName}}</td>
                                            <td style="overflow-wrap:break-word">{{ usertax.invtslT_TaxPer | number : 2}}</td>
                                            <td style="overflow-wrap:break-word">{{ usertax.invtslT_TaxAmt}}</td>
                                          
                                        </tr>
                                    </tbody>
                                </table>
                            </div>

                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!--=============================== SALE Student Staff Customer Details ==================================-->
        <div id="myModaltype" class="modal fade" role="dialog" data-backdrop="static">
            <div class="modal-dialog modal-lg">
                <div class="modal-content">
                    <div class="modal-body">
                        <div class="modal-footer">
                            <button type="button" class="btn btn-default" data-dismiss="modal" ng-click="printDatanew();">Print</button>
                            <button type="button" class="btn btn-default" data-dismiss="modal" ng-click="closedata();">Close</button>
                        </div>

                        <div class="" id="printmodalnew">
                            <div class="row">
                                <div class="col-sm-6 text-right">
                                    <h4>DELIVERY CHALLAN</h4>
                                </div>
                                <div class="col-sm-6 text-center">
                                    <h4>Date : {{get_Saletypes[0].INVMSL_SalesDate | date:'dd/MM/yyyy'}}</h4>
                                </div>
                               
                            </div>
                            <div class="row">
                                <div class="col-sm-12">


                                    <table class="table table-bordered">
                                        <tbody>
                                            <tr>
                                                <td colspan="3" width="50%">
                                                    <img src="/images/BaldwinGirls.png" class="img-responsive" alt="SCHOOL LOGO" style="max-width: 100%;">

                                                </td>
                                                <td colspan="3" style="text-align:left;">
                                                    <p style="font-size:20px">
                                                        To,<br>
                                                        {{get_Saletypes[0].INVMC_CustomerName}}<br>
                                                        {{get_Saletypes[0].INVMC_CustomerAddress}}<br>
                                                        GST NO:{{get_Saletypes[0].INVMC_GSTNO}}<br>

                                                    </p>
                                                </td>

                                            </tr>
                                            <!--<tr>
            <td colspan="6"></td>

        </tr>-->

                                            <tr class="text-bold" style="font-size:15px;">
                                                <th><b>SLNO</b></th>
                                                <th><b>Particulars</b></th>
                                                <th><b>Quantity</b></th>
                                                <th><b>Sale Amount</b></th>
                                                <th><b>Total Amount</b></th>
                                                <th><b>Remarks</b></th>
                                            </tr>
                                        </tbody>
                                        <tbody>
                                            <tr style="height:350px;font-size:15px;">
                                                <td valign="top" style="vertical-align: text-top;">1</td>
                                                <td valign="top" style="vertical-align: text-top;">
                                                    {{get_Saletypes[0].INVMP_ProductName}}
                                                </td>
                                                <td valign="top" style="vertical-align: text-top;"> {{get_Saletypes[0].INVTSL_SalesQty}} </td>
                                                <td valign="top" style="vertical-align: text-top;">{{get_Saletypes[0].INVTSL_SalesPrice}} </td>
                                                <td valign="top" style="vertical-align: text-top;">{{get_Saletypes[0].INVTSL_Amount}} </td>
                                                <td valign="top" style="vertical-align: text-top;">{{get_Saletypes[0].INVTSL_Naration}}</td>
                                            </tr>
                                        </tbody>
                                    </table>

                                </div>
                            </div>
                            <div class="row">
                                <div class="col-sm-6">
                                    <span>Recived the above mentioned goods in good condition</span>

                                    <p class="col-sm-4" style=" margin-top: 45px;"><b>
    Driver Signature
</b>
                                    </p>
                                    <p class=" col-sm-4" style=" margin-top: 45px; width:250px" text-right"><b>Vehicle Number : {{get_Saletypes[0].DCS_Vehicleno}}</b></p>
                                </div>
                                <div class="col-sm-6 text-center">
                                    <span><b>For DHRISHTI CONSULTANCY SERVICES</b></span>
                      
                                </div>

                            </div>


                        </div>
                    </div>
                </div>
            </div>
        </div>



        <!-- =======================Transcation Tax Model ====================================-->
        <div id="myModal" class="modal fade" role="dialog" ng-if="get_itemTax.length>0">
            <div class="modal-dialog modal-lg">
                <!-- Modal content-->
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal"><i class="fa fa-times text-white" aria-hidden="true"></i></button>
                        <h4 class="modal-title text-white">Tax Details</h4>
                    </div>
                    <div class="modal-body">
                        <div class="box box-primary">
                            <div class="box-header with-border">
                                <h3 class="box-title">Tax</h3>
                                <div class="box-tools pull-right">
                                    <button type="button" class="btn btn-box-tool" data-widget="collapse"><i class="fa fa-minus"></i></button>
                                </div>
                            </div>

                            <div class="box-body">
                                <table class="table table-hover table-responsive table-bordered text-center">
                                    <thead>
                                        <tr>
                                            <th>
                                                <a href="">SLNO</a>
                                            </th>
                                            <th><a href="" ng-click="sort('invmP_ProductName')">Product </a> </th>
                                            <th><a href="" ng-click="sort('invmT_TaxName')">Tax </a> </th>
                                            <th><a href="" ng-click="sort('invmT_TaxAliasName')">Alias Name</a> </th>
                                            <th><a href="" ng-click="sort('invmiT_TaxValue')">Value</a> </th>
                                            <th><a href="" ng-click="sort('invtslT_TaxAmt')">Tax Amount</a> </th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr ng-repeat="user in get_itemTax">
                                            <td class="text-center">{{ $index + 1}}</td>
                                            <td>{{ user.invmP_ProductName}}</td>
                                            <td>{{ user.invmT_TaxName}}</td>
                                            <td>{{ user.invmT_TaxAliasName}}</td>
                                            <td>{{ user.invmiT_TaxValue}}</td>
                                            <td><input type="text" ng-model="user.invtslT_TaxAmt" allow-pattern="(\s|[0-9.])" maxlength="6" ng-pattern="/^[0-9]+(\.[0-9]{1,2})?$/" value="{{user.invtslT_TaxAmt}}" placeholder="Enter Amount"></td>
                                            <td hidden="hidden">{{user.invtslT_Id}}</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <md-button type="button" class="md-raised md-primary" data-ng-click="addtocart(get_itemTax)" data-dismiss="modal"><i class="fa fa-shopping-cart" aria-hidden="true"></i> Add to Cart</md-button>

                    </div>
                </div>

            </div>
        </div>

    </div>
</section>