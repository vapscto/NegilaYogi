<link href="./css/Portals/PortalsStyles.css" rel="stylesheet" />

<section class="content">
    <!--<div class="box box-primary">
        <div class="box-header with-border">
            <h3 class="box-title"> Attendance Report(Late IN) </h3>
            <div class="box-tools pull-right">
                <button type="button" class="btn btn-box-tool" data-widget="collapse"><i class="fa fa-minus"></i></button>
            </div>
        </div>   
    </div>-->
    <form class="form-horizontal" role="form" name="myForm2" novalidate>
        <div class="box box-primary">
            <div class="box-header with-border">
                <h3 class="box-title">Attendance Report(Late IN) </h3>
                <div class="box-tools pull-right">
                    <button type="button" class="btn btn-box-tool" data-widget="collapse" data-placement="bottom" data-toggle="tooltip" title="collapsible"><i class="fa fa-minus"></i></button>
                </div>
            </div>
            <!-- /.box-header -->
            <div class="box-body">           
                <div class="row">
                    <div class="col-sm-12">
                        <div class="col-sm-4">
                            <div class="form-group">
                                <label class="checkbox-inline">
                                    <input type="checkbox" name="chkdept1" ng-model="groupTypeselectedAll" data-ng-click="all_checkgrptype()">
                                    <span class="lbl padding-8">Group Type <strong style="color:red;">*</strong></span>
                                </label>

                                <div class="multiselect col-sm-8">
                                    <label ng-repeat="groupType in groupTypedropdown">

                                        <input type="checkbox" name="selclass" ng-model="groupType.selected" ng-true-value="true" ng-false-value="false" ng-change="get_department()">
                                        <span class="lbl padding-8">
                                            {{groupType.hrmgT_EmployeeGroupType}}
                                        </span>
                                    </label>
                                </div>

                            </div>
                        </div>
                        <div class="col-sm-4 ">
                            <div class="form-group">
                                <label class="checkbox-inline">
                                    <input type="checkbox" name="chkdept" ng-model="deptcheck" data-ng-click="all_checkdep()">
                                    <span class="lbl padding-8">Department <strong style="color:red;">*</strong></span>
                                </label>
                                <div class="multiselect col-sm-8">
                                    <label data-ng-model="Emp_DepartmentName" ng-repeat="option in departmentdropdown">
                                        <input type="checkbox" ng-model="option.selected" value="{{option.hrmD_Id}}" ng-click="get_designation()" name="option1" ng-required="isOptionsRequired1();">
                                        <span class="lbl padding-8">{{option.hrmD_DepartmentName}}</span>
                                    </label>
                                </div>
                                <div class="error-messages" ng-if="interacted2(myForm2.option1)" ng-messages="myForm2.option1.$error">
                                    <div ng-message="required">Please Select Atleast One Department</div>
                                </div>
                            </div>
                        </div>
                        <div class="col-sm-4 ">
                            <div class="form-group">
                                <label class="checkbox-inline">
                                    <input type="checkbox" name="chkdesg" ng-model="desgcheck" data-ng-click="all_checkdesg()">
                                    <span class="lbl padding-8">Designation <strong style="color:red;">*</strong></span>
                                </label>
                                <div class="multiselect col-sm-8">
                                    <label data-ng-model="Emp_DesignationName" ng-repeat="option in Designation_types">
                                        <input type="checkbox" ng-model="option.selected" value="{{option.hrmdeS_Id}}" ng-click="get_employee()" name="option2" ng-required="isOptionsRequired2();">
                                        <span class="lbl padding-8">{{option.hrmdeS_DesignationName}}</span>
                                    </label>
                                </div>
                                <div class="error-messages" ng-if="interacted2(myForm2.option2)" ng-messages="myForm2.option2.$error">
                                    <div ng-message="required">Please Select Atleast One Designation</div>
                                </div>
                            </div>
                        </div>
                       
                    </div>

                    <div class="col-sm-12">
                        <div class="text-center">
                            <div class="col-sm-8 col-sm-offset-2">
                                <div class="form-group well">
                                    <div class="text-center">
                                        <label class="radio-inline">
                                            <span class="lbl padding-3">
                                                Staff :<strong style="color:red;display:inline; font-weight: bolder;">*</strong>
                                            </span>
                                        </label>
                                        <label class="radio-inline">
                                            <span class="lbl padding-3">
                                                <select class="form-control" id="sel1" data-ng-model="hrmE_Id" name="hrmE_Id" required>
                                                    <option value="">Select</option>
                                                    <option ng-repeat="employee in employeelst" value="{{employee.hrmE_Id}}" ng-selected="{{employee.Selected===true}}">
                                                        {{employee.hrmE_EmployeeFirstName}} {{employee.hrmE_EmployeeMiddleName}} {{employee.hrmE_EmployeeLastName}}
                                                    </option>
                                                </select>
                                                <span class="error-messages" ng-if="interacted2(myForm2.hrmE_Id)" ng-messages="myForm2.hrmE_Id.$error">
                                                    <span ng-message="required">Select Employee</span>
                                                </span>
                                            </span>
                                        </label>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-sm-2"></div>
                        <div class="col-sm-4">
                            <div class="form-group">
                                <label class="control-label col-sm-5">From Date:<strong style="color:red;display:inline; font-weight: bolder; margin-left: 7px;">*</strong></label>

                                <div class="col-sm-2 input-group text-right" style="">
                                    <md-datepicker ng-model="fromdate" onkeydown="return false" name="From_Date" md-max-date="maxDatemf" id="date1" md-placeholder="Enter  date" required></md-datepicker>
                                    <div class="error-messages" ng-if="interacted2(myForm2.From_Date)" ng-messages="myForm2.From_Date.$error">
                                        <div ng-message="required">Please Select From date</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-sm-4">
                            <div class="form-group">
                                <label class="control-label col-sm-5">To Date:<strong style="color:red;display:inline; font-weight: bolder; margin-left: 7px;">*</strong></label>

                                <div class="col-sm-6 input-group text-right" style="">
                                    <md-datepicker ng-model="todate" onkeydown="return false" name="To_Date" md-min-date="minDatemf" md-max-date="maxDatemf" id="date2" md-placeholder="Enter  date" required></md-datepicker>
                                    <div class="error-messages" ng-if="interacted2(myForm2.To_Date)" ng-messages="myForm2.To_Date.$error">
                                        <div ng-message="required">Please Select To Date</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-sm-2"></div>
                    </div>

                    <div class="text-center">
                        <md-button type="submit" ng-disabled="form2.$invalid" class="md-raised md-primary" ng-click="GetReport()" aria-disabled="false">
                            <i class="fa fa-bar-chart" aria-hidden="true"></i> Report
                        </md-button>


                        <md-button type="button" class="md-raised md-warn" ng-disabled="!reportlist" id="print-btn" aria-disabled="false" ng-click="printData();">
                            <i class="fa fa-print" aria-hidden="true"></i> Print
                        </md-button>

                        <md-button type="button" ng-click="exptoex('#table1');" target="_blank" class="md-raised md-primary" ng-disabled="!reportlist">
                            <i class="fa fa-file-excel-o" aria-hidden="true"></i> Export to Excel
                        </md-button>

                        <md-button type="button" class="md-raised md-warn" data-ng-click="cancel2()">
                            <i class="fa fa-times" aria-hidden="true"></i>
                            Cancel
                        </md-button>
                    </div>
                    <div class="col-sm-8 col-sm-offset-2">
                    </div>

                </div>
            </div>
        </div>

        <div class="=row" ng-show="gridtab">
            <div class="box box-primary" >
                <div class="box-header with-border">
                    <h3 class="box-title">LATE IN DETAILS</h3>
                    <div class="box-tools pull-right">
                        <button type="button" class="btn btn-box-tool" data-widget="collapse" data-placement="bottom" data-toggle="tooltip" title="collapsible"><i class="fa fa-minus"></i></button>
                    </div>
                </div>
                <!-- /.box-header -->
                <div class="box-body" >
                    <table class="table table-hover table-responsive table-bordered text-center" id="table1111">
                        <thead>
                            <tr>
                                <th>SL.NO.</th>
                                <th>
                                    Employee Name
                                </th>
                                <th>
                                    Employee Code
                                </th>
                                <th>
                                    Date
                                </th>
                                <th>
                                    Actual Time
                                </th>
                                <th>
                                    PunchIn Time
                                </th>
                                <th>
                                    Late By
                                </th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr ng-repeat="employee in reportlist">
                                <!--<tr ng-repeat="user in studentsdata | orderBy:predicate:default | filter:paginate| filter:search" ng-class-odd="'odd'">-->
                                <td>{{$index+1}}</td>
                                <td>{{employee.empFname}}</td>
                                <td>{{employee.hrmE_EmployeeCode}}</td>
                                <td>{{employee.foeP_PunchDate|date:'dd-MM-yyyy'}}</td>
                                <td>{{employee.foesT_IHalfLoginTime}}</td>
                                <td>{{employee.foepD_PunchTime}}</td>
                                <td>{{employee.ts}}</td>
                            </tr>
                        </tbody>
                    </table>


                    <div id="printrcp" ng-show="tadprint">
                        <div class="baldwin text-center">
                            <img src="{{imgname}}" style="height:100px;width:50%" class="img-responsive" alt="baldwin">
                        </div>
                        <!--<center>
                            <h4>LATE IN DETAILS</h4>
                        </center>-->
                        <br />
                       
                        <table class="table table-hover table-responsive table-bordered text-center" id="table1">
                            <thead style="font-weight: bold;">
                                <tr><td colspan="7">
    LATE IN DETAILS
</td></tr>
                                <tr>
                                    <th>SL.NO.</th>
                                    <th>
                                        Employee Name
                                    </th>
                                    <th>
                                        Employee Code
                                    </th>
                                    <th>
                                        Date
                                    </th>
                                    <th>
                                        Actual Time
                                    </th>
                                    <th>
                                        PunchIn Time
                                    </th>
                                    <th>
                                        Late By
                                    </th>
                                </tr>
                            </thead>
                            <tbody>

                                <tr ng-repeat="employee in reportlist">
                                    <!--<tr ng-repeat="user in studentsdata | orderBy:predicate:default | filter:paginate| filter:search" ng-class-odd="'odd'">-->
                                    <td>{{$index+1}}</td>
                                    <td>{{employee.empFname}}</td>
                                    <td>{{employee.hrmE_EmployeeCode}}</td>
                                    <td>{{employee.foeP_PunchDate|date:'dd-MM-yyyy'}}</td>
                                    <td>{{employee.foesT_IHalfLoginTime}}</td>
                                    <td>{{employee.foepD_PunchTime}}</td>
                                    <td>{{employee.ts}}</td>
                                </tr>
                            </tbody>
                            <tfoot>
                                <tr>
                                    <td colspan="7" class="text-center ">
                                        <label>
                                            Date:{{ddate|date:'dd/MM/yyyy'}} UserName: {{usrname}}  {{coptyright}}
                                        </label>
                                    </td>
                                </tr>

                            </tfoot>
                        </table>
                    </div>

                </div>
            </div>
        </div>
    </form>
</section>