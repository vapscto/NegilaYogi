

<section class="content">
    <div class="" ng-init="loaddata()">
        <form class="form-horizontal ng-pristine ng-valid" name="myForm" role="form" novalidate>
            <div class="box box-primary">
                <div class="box-header with-border">
                    <h3 class="box-title">Admission Cancellation Process Student Wise</h3>
                    <div class="box-tools pull-right">
                        <button type="button" ng-click="ShowHide()" class="btn btn-box-tool" data-widget="collapse" data-placement="bottom" data-toggle="tooltip" title="collapsible"><i class="fa fa-minus"></i></button>
                    </div>
                </div>
                <div class="box-body">
                    <div class="row">
                        <div class="col-sm-12">
                            <div class="col-sm-6">
                                <div class="form-group">
                                    <label class="control-label col-sm-4">Academic Year :<span style="color:red;">*</span></label>
                                    <div class="col-sm-8">
                                        <select class="form-control" id="sel1" ng-model="asmaY_Id" data-ng-change="onyearchange()" required name="acd_year">
                                            <option value="">Select Year </option>
                                            <option ng-repeat="option in getYear" ng-selected="{{option.Selected == true}}" value="{{option.asmaY_Id}}">
                                                {{option.asmaY_Year}}
                                            </option>
                                        </select>
                                        <div class="error-messages" ng-if="interacted(myForm.acd_year)" ng-messages="myForm.acd_year.$error">
                                            <div ng-message="required">Select the Academic Year</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-6">
                                <div class="form-group">
                                    <label class="control-label col-sm-4">Course :<span style="color:red;">*</span></label>
                                    <div class="col-sm-8">
                                        <select class="form-control" id="sel1e" ng-model="amcO_Id" data-ng-change="onCoursechange()" name="course" ng- required>
                                            <option value="">Select Course </option>
                                            <option ng-repeat="option in getCourse" value="{{option.amcO_Id}}" ng-selected="{{option.Selected == true}}">
                                                {{option.amcO_CourseName}}
                                            </option>
                                        </select>
                                        <div class="error-messages" ng-if="interacted(myForm.course)" ng-messages="myForm.course.$error">
                                            <div ng-message="required">Select the Course</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                    </div>
                    <div class="row">
                        <div class="col-sm-12">
                            <div class="col-sm-6">
                                <div class="form-group">
                                    <label class="control-label col-sm-4">Branch :<span style="color:red;">*</span></label>
                                    <div class="col-sm-8">
                                        <select class="form-control" id="selt1" ng-model="amB_Id" data-ng-change="onBranchchange()" name="branch" ng- required>
                                            <option value="">Select Branch </option>
                                            <option ng-repeat="option in getBranch" value="{{option.amB_Id}}" ng-selected="{{option.Selected == true}}">
                                                {{option.amB_BranchName}}
                                            </option>
                                        </select>
                                        <div class="error-messages" ng-if="interacted(myForm.branch)" ng-messages="myForm.branch.$error">
                                            <div ng-message="required">Please Select Branch </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-6">
                                <div class="form-group">
                                    <label class="control-label col-sm-4">Semester :<span style="color:red;">*</span></label>
                                    <div class="col-sm-8">
                                        <select class="form-control" ng-model="amsE_Id" data-ng-change="onSemchange()" name="sem" ng- required>
                                            <option value="">Select Semester </option>
                                            <option ng-repeat="option in getSemester" value="{{option.amsE_Id}}" ng-selected="{{option.Selected == true}}">
                                                {{option.amsE_SEMName}}
                                            </option>
                                        </select>
                                        <div class="error-messages" ng-if="interacted(myForm.sem)" ng-messages="myForm.sem.$error">
                                            <div ng-message="required">Please Select Semester</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-sm-12">
                            <div class="col-sm-6">
                                <div class="form-group">
                                    <label class="control-label col-sm-4">Student :<span style="color:red;">*</span></label>
                                    <div class="col-sm-8">

                                        <ui-select id="sel1" name="usrnm" ng-model="obj123.AMCST_Id" theme="bootstrap"
                                                   ng-keyup="searchfilter($select,user.status);" title="Select User" required>
                                            <ui-select-match ng-trim="false" placeholder="Select Student Name">{{$select.selected.studentName}}</ui-select-match>
                                            <ui-select-choices repeat="optionun in students | filter: $select.search" value="{{optionun.amcsT_Id}}"
                                                               ng-selected="{{optionun.Selected == true}}">
                                                <div ng-bind-html="optionun.studentName | highlight: $select.search"></div>
                                            </ui-select-choices>
                                        </ui-select>
                                        <div class="error-messages" ng-if="interacted(myForm.usrnm)" ng-messages="myForm.usrnm.$error">
                                            <div ng-message="required">
                                                Please Select Student
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-6">
                                <div class="text-center">
                                    <md-button type="button" class="md-raised md-primary" id="save-btn" ng-click="getStudentdetails(obj123)" ng-disabled="form.$invalid">
                                        <i class="fa fa-search" aria-hidden="true"></i>
                                        Search
                                    </md-button>
                                    <md-button type="button" class="md-raised md-warn" ng-show="getStudentdetails.length>0" data-ng-click="clear()">
                                        <i class="fa fa-times" aria-hidden="true"></i>
                                        Cancel
                                    </md-button>
                                </div>
                            </div>
                        </div>
                    </div>
                    <hr />
                    <div class="box box-primary" ng-show="student">
                        <div class="box-header with-border">
                            <h3 class="box-title">Student Details</h3>
                            <div class="box-tools pull-right">
                                <button type="button" class="btn btn-box-tool"
                                        data-widget="collapse" data-placement="bottom" data-toggle="tooltip"
                                        title="collapsible">
                                    <i class="fa fa-minus"></i>
                                </button>
                            </div>
                        </div>
                        <div class="box-body">
                            <div class="row">
                                <div class="col-sm-6">
                                    <div class="form-group">
                                        <label class="control-label col-sm-4">Student Name</label>
                                        <div class="col-sm-8">
                                            <label class="control-label"><b>: {{studentname}}</b></label>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label class="control-label col-sm-4">Admission No.</label>
                                        <div class="col-sm-8">
                                            <label class="control-label"><b>: {{admno}}</b></label>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label class="control-label col-sm-4">Registration No.</label>
                                        <div class="col-sm-8">
                                            <label class="control-label"><b>: {{regno}}</b></label>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label class="control-label col-sm-4">Date Of Admission.</label>
                                        <div class="col-sm-8">
                                            <label class="control-label"><b>: {{doa}}</b></label>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label class="control-label col-sm-4">Cancellation Process </label>
                                        <div class="col-sm-8">
                                            <label class="control-label"><b>: {{canceltypebased}}</b></label>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label class="control-label col-sm-4">Total Dates From Date Of Admission </label>
                                        <div class="col-sm-8">
                                            <label class="control-label"><b>: {{todays}}</b></label>
                                        </div>
                                    </div>

                                </div>
                                <div class="col-sm-6">
                                    <div class="form-group">
                                        <label class="control-label col-sm-4">Total Fee Paid </label>
                                        <div class="col-sm-8">
                                            <label class="control-label"><b>: {{totalfeepaid}}</b></label>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label class="control-label col-sm-4">
                                            Balance Fee
                                        </label>
                                        <div class="col-sm-8">
                                            <label class="control-label"><b>: {{balancefee}}</b></label>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label class="control-label col-sm-4">
                                            Refund Amount
                                        </label>
                                        <div class="col-sm-8">
                                            <label class="control-label"><b>: {{refundamtper}}</b></label>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label class="control-label col-sm-4">
                                            Cancellation Amount
                                        </label>
                                        <div class="col-sm-8">
                                            <label class="control-label"><b>: {{cancelamtper}}</b></label>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label class="control-label col-sm-4">
                                            Refund Percentage
                                        </label>
                                        <div class="col-sm-8">
                                            <label class="control-label"><b>: {{refund}}</b></label>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label class="control-label col-sm-4">
                                            Cancellation Percentage
                                        </label>
                                        <div class="col-sm-8">
                                            <label class="control-label"><b>: {{cancel}}</b></label>
                                        </div>
                                    </div>

                                </div>
                            </div>
                            <div class="row">
                                <div class="col-sm-12">
                                    <div class="form-group">
                                        <label class="control-label col-sm-2">Reason For Cancellation <span style="color:red;">*</span></label>
                                        <div class="col-sm-6">
                                            <div class="row">
                                                <div class="col-sm-12">
                                                    <textarea class="form-control" type="text" ng-model="reason" rows="3" name="cancelreason" allow-pattern="[A-Za-z0-9]" ng-required="student==true"></textarea>
                                                </div>
                                            </div>
                                            <div class="error-messages" ng-if="interacted(myForm.cancelreason)" ng-messages="myForm.cancelreason.$error">
                                                <div ng-message="required">Enter Reason For Cancellation</div>
                                            </div>
                                        </div>
                                        
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <hr />
                    <div class="text-center" ng-show="student">
                        <md-button type="button" class="md-raised md-primary" id="save" ng-click="saveatt(obj123)">
                            <i class="fa fa-search" aria-hidden="true"></i>
                            Save
                        </md-button>
                        <md-button type="button" class="md-raised md-warn" data-ng-click="clear()">
                            <i class="fa fa-times" aria-hidden="true"></i>
                            Cancel
                        </md-button>
                    </div>
                </div>

            </div>
        </form>

    </div>

</section>