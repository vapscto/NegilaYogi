<link href="css/print/Vikasa/VikasaHallticket.css" rel="stylesheet" />

<section class="content">
    <form class="form-horizontal ng-pristine ng-valid" name="myForm" role="form" ng-init="BindData()" novalidate>

        <div class="box box-primary">
            <div class="box-header with-border">
                <h3 class="box-title">Exam  Hall-Ticket Report</h3>
                <div class="box-tools pull-right">
                    <button type="button" class="btn btn-box-tool" data-widget="collapse"><i class="fa fa-minus"></i></button>
                </div>
            </div>
            <div class="box-body">
                <div class="row">
                    <div class="col-sm-6">
                        <div class="form-group text-center">
                            <div class="well" ng-init="dailybtedates ='daily'">
                                <label class="radio-inline">
                                    <input type="radio" ng-model="dailybtedates" value="daily" name="scldbet" ng-click="onclickdates()" required>
                                    <span class="lbl padding-8">Format 1</span>
                                </label>
                                <label class="radio-inline">
                                    <input type="radio" ng-model="dailybtedates" value="btwdates" name="scldbet" ng-click="onclickdates()" required>
                                    <span class="lbl padding-8">Format 2</span>
                                </label>
                            </div>
                            <div class="error-messages" ng-if="interacted(myForm.scldbet)" ng-messages="myForm.scldbet.$error">
                                <div ng-message="required">Select Daily/Between Dates</div>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="control-label col-sm-4">Academic Year :<span style="color:Red">*</span></label>
                            <div class="col-sm-8">
                                <select class="form-control" id="sel1" name="Year" ng-model="ASMAY_Id" data-ng-change="onselectAcdYear(ASMAY_Id)" required>
                                    <option value="" label="Select Academic Year"> </option>
                                    <option ng-repeat="option1 in acdlist" value="{{option1.asmaY_Id}}" ng-selected="{{option1.asmaY_Id == ASMAY_Id}}">
                                        {{option1.asmaY_Year}}
                                    </option>
                                </select>
                            </div>
                            <div class="col-sm-8 col-sm-offset-4 error-messages" ng-if="interacted(myForm.Year)" ng-messages="myForm.Year.$error">
                                <div ng-message="required">Please Select Academic Year</div>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="control-label col-sm-4">Course:<span style="color:Red">*</span></label>
                            <div class="col-sm-8">
                                <select class="form-control" id="sel1" name="class" ng-model="AMCO_Id" ng-change="onselectBranch()" required>
                                    <option value="">--Select--</option>
                                    <option ng-repeat="clas in course_list" value="{{clas.amcO_Id}}" ng-selected="{{clas.amcO_Id==AMCO_Id}}">
                                        {{clas.amcO_CourseName}}
                                    </option>
                                </select>
                                <div class="error-messages" ng-if="interacted(myForm.class)" ng-messages="myForm.class.$error">
                                    <div ng-message="required">Please Select Course</div>
                                </div>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="control-label col-sm-4">Branch:<span style="color:Red">*</span></label>
                            <div class="col-sm-8">
                                <select class="form-control" id="sel1" name="branc" ng-model="AMB_Id" ng-change="OnchangeSemester()" required>
                                    <option value="">--Select--</option>
                                    <option ng-repeat="bran in branch_list" value="{{bran.amB_Id}}" ng-selected="{{bran.amB_Id==AMB_Id}}">
                                        {{bran.amB_BranchName}}
                                    </option>
                                </select>
                                <div class="error-messages" ng-if="interacted(myForm.branc)" ng-messages="myForm.branc.$error">
                                    <div ng-message="required">Please Select Branch</div>
                                </div>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="sel2" class="control-label col-sm-4">Semester:<span style="color:Red">*</span></label>
                            <div class="col-sm-8">
                                <select class="form-control" id="seasdasdl1" name="semi" ng-model="AMSE_Id" ng-change="get_exams()" required>
                                    <option value="">--Select--</option>
                                    <option ng-repeat="semi in semisters_list" value="{{semi.amsE_Id}}" ng-selected="{{semi.amsE_Id==AMSE_Id}}">
                                        {{semi.amsE_SEMName}}
                                    </option>
                                </select>
                                <div class="error-messages" ng-if="interacted(myForm.semi)" ng-messages="myForm.semi.$error">
                                    <div ng-message="required">Please Select Semester</div>
                                </div>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="control-label col-sm-4">Section :<span style="color:Red">*</span></label>
                            <div class="col-sm-8">
                                <select class="form-control" id="sel3" name="sec" ng-model="ACMS_Id" data-ng-change="ViewStudentDetails()" required>
                                    <option value="" label="Select Section"> </option>
                                    <option ng-repeat="option3 in seclist" value="{{option3.acmS_Id}}" ng-selected="{{option3.acmS_Id == ACMS_Id}}">
                                        {{option3.acmS_SectionName}}
                                    </option>
                                </select>
                            </div>
                            <div class="col-sm-8 col-sm-offset-4 error-messages" ng-if="interacted(myForm.sec)" ng-messages="myForm.sec.$error">
                                <div ng-message="required">Please Select Section</div>
                            </div>
                        </div>

                        <div class="form-group">
                            <label class="control-label col-sm-4">Exam Name :<span style="color:Red">*</span></label>
                            <div class="col-sm-8">
                                <select class="form-control" id="sel8" name="exm" ng-model="EME_Id" data-ng-change="ViewStudentDetails()" required>
                                    <option value="" label="Select Exam"> </option>
                                    <option ng-repeat="option8 in examlist" value="{{option8.emE_Id}}" ng-selected="{{option8.emE_Id == EME_Id}}">
                                        {{option8.emE_ExamName}}
                                    </option>
                                </select>
                            </div>
                            <div class="col-sm-8 col-sm-offset-4 error-messages" ng-if="interacted(myForm.exm)" ng-messages="myForm.exm.$error">
                                <div ng-message="required">Please Select Exam</div>
                            </div>
                        </div>
                    </div>
                    <div class="col-sm-6">
                        <label class="control-label col-sm-3">Student :<span style="color:Red">*</span></label>
                        <div class="form-group">
                            <div class="col-sm-4">
                                <label>
                                    <input type="checkbox" ng-model="all1" ng-click="Toggle_header1()">
                                    <span class="lbl padding-8">Select All</span>
                                </label>
                            </div>
                            <div class="multiselect col-sm-8">
                                <label>
                                    <input type="text" ng-model="searchtext" class="form-control" placeholder="Searh here" />
                                </label>

                                <label ng-repeat="section in studentlistnew |filter:searchtext">
                                    <input name="option1" value="{{section.AMCST_Id}}" type="checkbox" ng-click="addColumn1(section)" ng-model="section.amsT_IdSelected"
                                           ng-required="isOptionsRequired1();">
                                    <span class="lbl padding-8">{{section.AMCST_FirstName}}</span>
                                </label>
                            </div>

                            <div class="col-sm-8 col-sm-offset-4 error-messages" ng-if="interacted(myForm.option1)" ng-messages="myForm.option1.$error">
                                <div ng-message="required">Please Select Student</div>
                            </div>
                        </div>

                    </div>
                </div>

                <div class="row">
                    <div class="col-sm-12">
                        <div class="form-group" style="text-align:center">
                            <md-button type="submit" class="md-raised md-primary" ng-click="report()">
                                <i class="fa fa-floppy-o" aria-hidden="true"></i>
                                Report
                            </md-button>
                            <md-button type="button" class="md-raised md-warn" ng-click="cancel()">
                                <i class="fa fa-times" aria-hidden="true"></i>
                                Cancel
                            </md-button>
                            <md-button type="submit" class="md-raised md-primary" ng-click="printData()" ng-show="printdata">
                                <i class="fa fa-floppy-o" aria-hidden="true"></i>
                                Print
                            </md-button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="box box-primary" ng-show="main_list.length > 0">

            <div class="box-header with-border">
                <h3 class="box-title">Hallticket Report</h3>
                <div class="box-tools pull-right">
                    <button type="button" class="btn btn-box-tool" data-widget="collapse" data-placement="bottom" data-toggle="tooltip" title="collapsible"><i class="fa fa-minus"></i></button>
                </div>
            </div>
            <div class="box-body" ng-if="dailybtedates =='daily'">
                <div id="table">
                    <div class="baldwin text-center">
                        <img src="{{imgname}}" class="img-responsive">
                    </div>
                    <div class="text-center">
                        <h3>Hall Ticket Report  {{accyear}}</h3>
                    </div>
                    <div class="col-sm-12">
                        <table class="table table-hover table-responsive table-bordered">
                            <thead>
                                <tr>
                                    <th class="text-center">Sl.No.</th>

                                    <th class="text-center">Student Name</th>
                                    <th class="text-center">Admno</th>
                                    <th class="text-center">Roll No.</th>
                                    <th class="text-center">Hall Ticket No.</th>
                                    <th class="text-center">Publish Status</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr ng-repeat="user in main_list">
                                    <td>{{$index+1}}</td>

                                    <td class="text-left">{{user.AMCST_FirstName}}</td>
                                    <td class="text-left">{{ user.AMCST_AdmNo}}</td>
                                    <td class="text-center">{{ user.ACYST_RollNo}}</td>
                                    <td class="text-center">{{ user.EHTC_HallTicketNo}}</td>
                                    <td class="text-center">
                                        <span ng-if="user.EHTC_PublishFlg==true">
                                            <i class="fa fa-check" style="color:green" title="Published"></i>
                                        </span>
                                        <span ng-if="user.EHTC_PublishFlg!=true">
                                            <i class="fa fa-times" style="color:red" title="Not Published"></i>
                                        </span>
                                    </td>
                                </tr>
                            </tbody>
                        </table>


                    </div>
                </div>




            </div>
            <!--//added by sanjeev-->
            <div class="box-body" ng-show="dailybtedates =='btwdates'">

                <div id="printformat1">
                    <div ng-repeat="user in employeeid">
                        <div class="col-sm-12 pagelayout" style="page-break-before:always !important;">
                            <div class="row">
                                <div class="text-center">
                                    <img src="{{imgname}}" class="logo" style="width:auto !important;height:200px">
                                </div>
                            </div>
                            <div class="row">
                                <table class="table table-bordered table-condensed">
                                    <tr>
                                        <td style="text-align:left !important">
                                            <strong> Accdemic Year  : </strong>  &nbsp; {{acayear}}
                                        </td>
                                        <td style="text-align:left !important">
                                            <strong>  Month Of Exam  :</strong>  &nbsp;  {{examname | uppercase}}
                                        </td>
                                        <td rowspan="0" width="210">
                                            <img src="{{user.AMCST_StudentPhoto}}" style="width: 60%;object-fit: contain;" />
                                        </td>
                                    </tr>
                                    <tr>
                                        <td style="text-align:left !important">
                                            <strong> College Code  :</strong>  &nbsp;{{user.MI_Code}}
                                        </td>
                                        <td style="text-align:left !important">
                                            <strong> College Name  :</strong> &nbsp; {{user.CName}}
                                        </td>
                                    </tr>
                                    <tr>
                                        <td style="text-align:left !important">
                                            <strong> Program Level  :</strong>  &nbsp; UG
                                        </td>
                                        <td style="text-align:left !important">
                                            <strong>Program Name  : </strong>  &nbsp; {{user.AMCO_CourseName}}
                                        </td>
                                    </tr>
                                    <tr>
                                        <td style="text-align:left !important">
                                            <strong>Descipline :  </strong> &nbsp; {{user.AMSE_SEMName}}
                                        </td>
                                        <td style="text-align:left !important">
                                            <strong>Current Term / Semester  : </strong> &nbsp;  {{user.AMSE_SEMName}}
                                        </td>
                                    </tr>
                                    <tr>
                                        <td style="text-align:left !important">
                                            <strong>  Student Reg No : </strong> &nbsp; {{user.AMCST_AdmNo | uppercase}}
                                        </td>
                                        <td style="text-align:left !important">
                                            <strong>Student Name  : </strong>  &nbsp;  {{user.AMCST_FirstName | uppercase}}
                                        </td>
                                    </tr>
                                </table>
                            </div>



                            <div class="col-sm-12">
                                <table class="table table-hover table-responsive table-bordered" style="width:100%">
                                    <thead>

                                        <tr>
                                            <th><b>SL No</b></th>
                                            <th><b>Term / Semester</b></th>
                                            <th><b>Course Code</b></th>
                                            <th><b>Course Name</b></th>

                                            <th><b> Exam Date & time</b></th>

                                            <th><b>Invigilator Signature </b></th>

                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr ng-repeat="planner in user.plannerdetails">
                                            <td class="text-center" rowspan="{{planner.length+1}}">{{$index+1}}</td>
                                            <td class="text-left">
                                                {{planner.AMSE_SEMName}}
                                            </td>
                                            <td>
                                                {{planner.ISMS_SubjectCode}}
                                            </td>
                                            <td class="text-left" width="400">{{planner.ISMS_SubjectName}}</td>

                                            <!--<td>
                                                {{planner.EXTTC_ReportingTime}}
                                            </td>-->
                                            <td>

                                                {{planner.ExamStarDate |date:'dd/MM/yyyy'}}  <br />
                                                - {{planner.ETTS_StartTime}}

                                                <!--&nbsp; ({{planner.ETTS_StartTime}} -- {{planner.ETTS_EndTime}})-->
                                            </td>

                                            <td></td>
                                        </tr>


                                    </tbody>
                                </table>
                                <table class="table" style="margin-top:100px !important;margin-bottom:120px">
                                    <tr>
                                        <td class="text-left">STUDENT  SIGNATURE</td>
                                        <td class="text-left">HOD</td>
                                        <td class="text-right">PRINCIPAL</td>
                                    </tr>
                                </table>


                            </div>
                        </div>

                    </div>
                    <div style="page-break-after:always !important">
                        &nbsp;
                    </div>
                </div>


            </div>
        </div>
    </form>
</section>