
<section class="content twocoloumn">
    <div class="box box-primary" data-ng-init="BindData()">
        <div class="box-header with-border">
            <h3 class="box-title">Exam-Subject Wizard</h3>
            <div class="box-tools pull-right">
                <button type="button" class="btn btn-box-tool" data-widget="collapse"><i class="fa fa-minus"></i></button>
            </div>
        </div>
        <div class="box-body">
            <form class="form-horizontal" role="form" name="myForm" data-ng-submit="saveddata()" novalidate>
                <div class="row">
                    <div class="col-sm-6">
                        <div class="form-group">
                            <label class="control-label col-sm-3">Course:<span style="color:Red">*</span></label>
                            <div class="col-sm-8">
                                <select class="form-control" id="sel1" name="ncourse" ng-model="AMCO_Id" ng-change="getbranch()" required>
                                    <option value="">--Select--</option>
                                    <option ng-repeat="clas in course_listdd" value="{{clas.amcO_Id}}" ng-selected="{{clas.Selected==true}}">
                                        {{clas.amcO_CourseName}}
                                    </option>
                                </select>
                                <div class="error-messages" ng-if="interacted(myForm.ncourse)" ng-messages="myForm.ncourse.$error">
                                    <div ng-message="required">Please Select Course</div>
                                </div>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="control-label col-sm-3">Branch:<span style="color:Red">*</span></label>
                            <div class="col-sm-8">
                                <select class="form-control" id="sel1" name="branc" ng-model="AMB_Id" ng-change="getsemester()" required>
                                    <option value="">--Select--</option>
                                    <option ng-repeat="bran in branch_list" value="{{bran.amB_Id}}" ng-selected="{{bran.Selected==true}}">
                                        {{bran.amB_BranchName}}
                                    </option>
                                </select>
                                <div class="error-messages" ng-if="interacted(myForm.branc)" ng-messages="myForm.branc.$error">
                                    <div ng-message="required">Please Select Branch</div>
                                </div>
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="sel2" class="control-label col-sm-3">Semester:<span style="color:Red">*</span></label>
                            <div class="col-sm-8">
                                <select class="form-control" id="sel16" name="semi" ng-model="AMSE_Id" ng-change="getsubjectscheme()" required>
                                    <option value="">--Select--</option>
                                    <option ng-repeat="semi in semisters_list" value="{{semi.amsE_Id}}" ng-selected="{{semi.Selected==true}}">
                                        {{semi.amsE_SEMName}}
                                    </option>
                                </select>
                                <div class="error-messages" ng-if="interacted(myForm.semi)" ng-messages="myForm.semi.$error">
                                    <div ng-message="required">Please Select Semester</div>
                                </div>
                            </div>
                        </div>

                        <div class="form-group">
                            <label class="control-label col-sm-3">Subject Scheme:<span style="color:Red">*</span></label>
                            <div class="col-sm-8">
                                <select class="form-control" id="sel12" name="sschemas" ng-change="getsubjectschemetype()" ng-model="ACSS_Id" required>
                                    <option value="">--Select--</option>
                                    <option ng-repeat="sschema in subjectschema_list" value="{{sschema.acsS_Id}}" ng-selected="{{sschema.Selected==true}}">
                                        {{sschema.acsS_SchmeName}}
                                    </option>
                                </select>
                                <div class="error-messages" ng-if="interacted(myForm.sschemas)" ng-messages="myForm.sschemas.$error">
                                    <div ng-message="required">Please Select Subject Scheme</div>
                                </div>
                            </div>
                        </div>

                        <div class="form-group">
                            <label class="control-label col-sm-3">Scheme Type:<span style="color:Red">*</span></label>
                            <div class="col-sm-8">
                                <select class="form-control" id="sel165" name="schematype" ng-model="ACST_Id" ng-change="get_subjects()" required>
                                    <option value="">--Select--</option>
                                    <option ng-repeat="scmatype in schmetype_list" value="{{scmatype.acsT_Id}}" ng-selected="{{scmatype.Selected==true}}">
                                        {{scmatype.acsT_SchmeType}}
                                    </option>
                                </select>
                                <div class="error-messages" ng-if="interacted(myForm.schematype)" ng-messages="myForm.schematype.$error">
                                    <div ng-message="required">Please Select Scheme Type</div>
                                </div>
                            </div>
                        </div>

                        <!--<div class="form-group">
                            <label for="sel2" class="control-label col-sm-3">Subject Group :<span style="color:Red">*</span></label>
                            <div class="col-sm-8">
                                <select class="form-control" id="sel13" name="sgrpr" ng-model="EMG_Id" ng-change="get_subjects()" required>
                                    <option value="">--Select--</option>
                                    <option ng-repeat="sgrp in subjectgrp_list" value="{{sgrp.emG_Id}}" ng-selected="{{sgrp.Selected==true}}">
                                        {{sgrp.emG_GroupName}}
                                    </option>
                                </select>
                                <div class="error-messages" ng-if="interacted(myForm.sgrpr)" ng-messages="myForm2.sgrpr.$error">
                                    <div ng-message="required">Please Select Subject Group</div>
                                </div>
                            </div>
                        </div>-->

                        <div class="form-group">
                            <label for="sel2" class="control-label col-sm-4">Exam: <span style="color:Red">*</span></label>
                            <div class="multiselect col-sm-8">
                                <label data-ng-model="EME_Id" ng-repeat="exam in exam_list | filter:filterValue" value="{{exam.emE_Id}}">
                                    <input name="examoption" value="{{exam.emE_Id}}" ng-model="exam.checked" type="checkbox" ng-required="isOptionsRequired()">
                                    <span class="lbl padding-8">
                                        {{exam.emE_ExamName}}
                                    </span>
                                </label>
                            </div>
                            <div class="error-messages" ng-if="interacted(myForm.examoption)" ng-messages="myForm.examoption.$error">
                                <div ng-message="required">Select Atleat One Exam</div>
                            </div>

                        </div>
                    </div>
                    <div class="col-sm-6">
                        <div class="form-group">
                            <label class="control-label col-sm-4">Grade :<span style="color:Red">*</span></label>
                            <div class="col-sm-8">
                                <select class="form-control" id="sel1" name="grade" ng-model="EMGR_Id" data-ng-change="get_gradename(EMGR_Id)" required>
                                    <option value="">--Select--</option>
                                    <option ng-repeat="option in grade_list" value="{{option.emgR_Id}}" ng-selected="{{option.Selected == true}}">
                                        {{option.emgR_GradeName}}
                                    </option>
                                </select>
                            </div>
                            <div class="col-sm-8 col-sm-offset-4 error-messages" ng-if="interacted(myForm.grade)" ng-messages="myForm.grade.$error">
                                <div ng-message="required">Select Grade</div>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="control-label col-sm-4">Attendance From :<span style="color:Red">*</span></label>
                            <div class="col-sm-8">
                                <div class="col-sm-6 input-group text-right" style="">
                                    <md-datepicker ng-model="ECYSE_AttendanceFromDate" onkeydown="return false" name="att_from_date" id="date1" md-placeholder="Enter  date" md-min-date="minDatemf" md-max-date="maxDatemf" ng-change="valid_from_date(ECYSE_AttendanceFromDate)" required></md-datepicker>
                                </div>
                                <div class="error-messages" ng-if="interacted(myForm.att_from_date)" ng-messages="myForm.att_from_date.$error">
                                    <div ng-message="required">Select Date from the Calendar</div>
                                </div>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="control-label col-sm-4">Attendance To :<span style="color:Red">*</span></label>
                            <div class="col-sm-8">
                                <div class="col-sm-6 input-group text-right">
                                    <md-datepicker ng-model="ECYSE_AttendanceToDate" onkeydown="return false" name="att_to_date" id="date2" md-placeholder="Enter  date" md-min-date="ECYSE_AttendanceFromDate" md-max-date="maxDatemf" ng-change="valid_to_date(ECYSE_AttendanceToDate)" required></md-datepicker>
                                </div>
                                <div class="error-messages" ng-if="interacted(myForm.att_to_date)" ng-messages="myForm.att_to_date.$error">
                                    <div ng-message="required">Select Date from the Calendar</div>
                                </div>
                            </div>
                        </div>

                        <div class="well text-center">
                            <label>
                                <input type="checkbox" name="fhcbx" ng-true-value="true" ng-false-value="false" data-ng-model="ECYSE_SubExamFlg">
                                <span class="lbl padding-8">Sub Exam Applicable</span>
                            </label>
                            <label>
                                <input type="checkbox" name="fghbx" ng-true-value="true" ng-false-value="false" data-ng-model="ECYSE_SubSubjectFlg">
                                <span class="lbl padding-8">Sub Subject Applicable</span>
                            </label>
                        </div>
                    </div>
                </div>
                <table class="table table-hover table-responsive table-bordered" ng-show="select_cat">
                    <thead>
                        <tr>
                            <th>
                                <a href="">SLNO</a>
                            </th>
                            <th>
                                <label>
                                    <input type="checkbox" value="" ng-click="toggleAll()" ng-model="all">
                                    <span class="lbl padding-8"></span>
                                </label>
                            </th>
                            <th><a href="">Subject Name(Code)</a></th>
                            <th><a href="">Max.Marks</a></th>
                            <th><a href="">Min.Marks</a></th>
                            <th><a href="">Max.Entry Marks</a></th>
                            <th ng-if="ECYSE_SubExamFlg==true"><a href="">Sub Exam</a></th>
                            <th ng-if="ECYSE_SubSubjectFlg==true"><a href="">Sub Subject</a></th>
                            <th ng-if="ECYSE_SubExamFlg==true || ECYSE_SubSubjectFlg==true"><a href="">Map</a></th>
                            <th><a href="">Marks/Grade</a></th>
                            <th><a href="">Marks Display</a></th>
                            <th><a href="">Grade Display</a></th>
                            <th><a href="">Appl to Result</a></th>
                            <th><a href="">Grade</a></th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr ng-repeat="user in subject_list | orderBy:sortKey:sortReverse | filter:paginate| filter:search" ng-class-odd="'odd'">
                            <td class="text-center">{{ $index + 1}}</td>
                            <td class="text-center">
                                <label>
                                    <input type="checkbox" name="adcheckt" value="{{user.ismS_Id}}" ng-model="user.checkedvalue" ng-change="optionToggled()">
                                    <span class="lbl padding-8"></span>
                                </label>
                            </td>
                            <td class="text-left">{{user.ismS_SubjectName}}({{user.ismS_SubjectCode}})</td>
                            <td class="text-center">
                                <input class="form-control" type="text" placeholder="Enter Marks..." ng-pattern="/^[0-9]{0,4}\.?[0-9]{1,2}?$/" allow-pattern="[0-9.]"
                                       ng-model="user.ECYSES_MaxMarks" value="" name="t1_{{user.ismS_Id}}" ng-blur="valid_max(user.ECYSES_MaxMarks,user)"
                                       ng-required="user.checkedvalue" />
                                <div class="error-messages" ng-if="interacted(myForm['t1_'+user.ismS_Id])" ng-messages="myForm['t1_'+user.ismS_Id].$error">
                                    <div ng-message="pattern">Enter valid Format[For Example 100.00,99.97,......]</div>
                                    <div ng-message="required">Enter Max Marks</div>
                                </div>
                            </td>
                            <td class="text-center">
                                <input class="form-control" type="text" placeholder="Enter Marks..." ng-pattern="/^[0-9]{0,4}\.?[0-9]{1,2}?$/" allow-pattern="[0-9.]"
                                       ng-model="user.ECYSES_MinMarks" value="" ng-blur="valid_min(user.ECYSES_MinMarks,user)" name="t2_{{user.ismS_Id}}"
                                       ng-required="user.checkedvalue" />
                                <div class="error-messages" ng-if="interacted(myForm['t2_'+user.ismS_Id])" ng-messages="myForm['t2_'+user.ismS_Id].$error">
                                    <div ng-message="pattern">Enter valid Format[For Example 100.00,99.97,......]</div>
                                    <div ng-message="required">Enter Min Marks</div>
                                </div>
                            </td>
                            <td class="text-center">
                                <input class="form-control" type="text" placeholder="Enter Marks..." ng-pattern="/^[0-9]{0,4}\.?[0-9]{1,2}?$/" allow-pattern="[0-9.]"
                                       ng-model="user.ECYSES_MarksEntryMax" value="" ng-blur="valid_max_entry(user.ECYSES_MarksEntryMax,user)" name="t3_{{user.ismS_Id}}"
                                       ng-required="user.checkedvalue" />
                                <div class="error-messages" ng-if="interacted(myForm['t3_'+user.ismS_Id])" ng-messages="myForm['t3_'+user.ismS_Id].$error">
                                    <div ng-message="pattern">Enter valid Format[For Example  100.00,99.97,......]</div>
                                    <div ng-message="required">Enter Max Marks Entry</div>
                                </div>
                            </td>
                            <td class="text-center" ng-if="ECYSE_SubExamFlg==true">
                                <label>
                                    <input type="checkbox" name="adcheckt2" ng-model="user.ECYSES_SubExamFlg"
                                           ng-disabled="user.ECYSES_MaxMarks=='' || user.ECYSES_MinMarks=='' || user.ECYSES_MarksEntryMax=='' || user.ECYSES_MaxMarks==undefined || user.ECYSES_MinMarks==undefined || user.ECYSES_MarksEntryMax==undefined">
                                    <span class="lbl padding-8"></span>
                                </label>
                            </td>
                            <td class="text-center" ng-if="ECYSE_SubSubjectFlg==true">
                                <label>
                                    <input type="checkbox" name="adcheckt1" ng-model="user.ECYSES_SubSubjectFlg"
                                           ng-disabled="user.ECYSES_MaxMarks=='' || user.ECYSES_MinMarks=='' || user.ECYSES_MarksEntryMax=='' || user.ECYSES_MaxMarks==undefined || user.ECYSES_MinMarks==undefined || user.ECYSES_MarksEntryMax==undefined">
                                    <span class="lbl padding-8"></span>
                                </label>
                            </td>
                            <td class="text-center" ng-if="ECYSE_SubSubjectFlg==true || ECYSE_SubExamFlg==true">
                                <label>
                                    <input type="checkbox" name="adcheckt12" ng-model="user.EYCES_SubSubjectFlgb"
                                           ng-change="select_subsubjs1(user.EYCES_SubSubjectFlgb,user)"
                                           ng-disabled="user.ECYSES_MaxMarks=='' || user.ECYSES_MinMarks=='' || user.ECYSES_MarksEntryMax=='' || user.ECYSES_MaxMarks==undefined || user.ECYSES_MinMarks==undefined || user.ECYSES_MarksEntryMax==undefined">
                                    <span class="lbl padding-8"></span>
                                </label>
                            </td>
                            <td class="text-center" style="width:195px;">
                                <div class="well text-center">
                                    <label class="radio-inline">
                                        <input type="radio" name="radio_fee{{user.ismS_Id}}" value="M" ng-model="user.ECYSES_MarksGradeEntryFlg" ng-disabled="user.ECYSES_AplResultFlg">
                                        <span class="lbl padding-8">Marks</span>
                                    </label>
                                    <label class="radio-inline">
                                        <input type="radio" name="radio_fee{{user.ismS_Id}}" value="G" ng-model="user.ECYSES_MarksGradeEntryFlg" ng-disabled="user.ECYSES_AplResultFlg">
                                        <span class="lbl padding-8">Grade</span>
                                    </label>
                                </div>
                            </td>
                            <td class="text-center">
                                <label>
                                    <input type="checkbox" name="adcheckt54" ng-model="user.ECYSES_MarksDisplayFlg">
                                    <span class="lbl padding-8"></span>
                                </label>
                            </td>
                            <td class="text-center">
                                <label>
                                    <input type="checkbox" name="adcheckgt123" ng-model="user.ECYSES_GradeDisplayFlg">
                                    <span class="lbl padding-8"></span>
                                </label>
                            </td>
                            <td class="text-center">
                                <label>
                                    <input type="checkbox" name="adcheckt" ng-model="user.ECYSES_AplResultFlg" ng-change="user.ECYSES_MarksGradeEntryFlg='M'">
                                    <span class="lbl padding-8"></span>
                                </label>

                            </td>
                            <td class="text-center" style="width:150px;">
                                <select class="form-control" id="sel1" name="grade_{{user.ismS_Id}}" ng-model="user.EMGR_Id" ng-required="user.checkedvalue">
                                    <option value="">--Select--</option>
                                    <option ng-repeat="option in grade_list" value="{{option.emgR_Id}}" ng-selected="{{option.emgR_Id == user.EMGR_Id}}">
                                        {{option.emgR_GradeName}}
                                    </option>
                                </select>
                                <div class="error-messages" ng-if="interacted(myForm['grade_'+user.ismS_Id])" ng-messages="myForm['grade_'+user.ismS_Id].$error">
                                    <div ng-message="required">Select Grade</div>
                                </div>
                            </td>
                            <td hidden="hidden">{{user.ISMS_Id}}</td>
                            <td hidden="hidden">{{user.ECYSES_SubjectOrder}}</td>
                        </tr>
                    </tbody>
                </table>
                <hr />
                <div class="text-center">
                    <input type="hidden" ng-model="ECYSE_Id" value="{{ECYSE_Id}}" />
                    <input type="hidden" ng-model="ECYSES_Id" value="{{ECYSES_Id}}" />
                    <md-button type="submit" class="md-raised md-primary">
                        <i class="fa fa-save" aria-hidden="true"></i> Save
                    </md-button>
                    <md-button type="button" class="md-raised md-warn" ng-click="clear()">
                        <i class="fa fa-times" aria-hidden="true"></i> Cancel
                    </md-button>
                    <md-button type="button" class="md-raised md-primary" data-toggle="modal" data-target="#myModal" ng-show="select_cat">
                        Set  Order
                    </md-button>
                </div>
            </form>
        </div>
        <div class="box box-primary">
            <div class="box-header with-border">
                <h3 class="box-title">Grid View</h3>
                <div class="box-tools pull-right">
                    <button type="button" class="btn btn-box-tool" data-widget="collapse" data-placement="bottom" data-toggle="tooltip" title="collapsible"><i class="fa fa-minus"></i></button>
                </div>
            </div>
            <div class="box-body">
                <div ui-grid="gridOptions" ui-grid-pagination class="grid text-center" id="style-4" style="height: 270px;"></div>
            </div>
        </div>
    </div>
</section>

<div class="modal fade modal-medium" modal="model_exam" id="popup5" role="dialog" data-backdrop="static">
    <div class="modal-dialog modal-lg">
        <div class="modal-header">
            <button type="button" class="close" ng-click="clearpopupgrid5(subexam_list)"><i class="fa fa-times text-white" aria-hidden="true"></i></button>
            <h4 class="modal-title text-white">"{{Subject_Name}}":SubExams Mapping</h4>
        </div>
        <div class="modal-content">
            <div class="modal-body">
                <form class="form-horizontal" role="form" name="myForm2" data-ng-submit="saveddata2(subexam_list)" novalidate>
                    <table class="table table-hover table-responsive table-bordered">
                        <thead>
                            <tr>
                                <th><a href="" ng-click="sort('ASMCL_ClassName')">SLNO</a></th>
                                <th>
                                    <label>
                                        <input type="checkbox" value="" ng-click="toggleAll2()" ng-model="all2">
                                        <span class="lbl padding-8"></span>
                                    </label>
                                </th>
                                <th><a href="" ng-click="sort('ASMCL_ClassName')">Sub-Exam Name(Code)</a></th>
                                <th><a href="" ng-click="order('StudentDue')">Max.Marks</a></th>
                                <th><a href="" ng-click="order('InstitutionDue')">Min.Marks</a></th>
                                <th><a href="" ng-click="sort('ASMC_SectionName')">Grade</a></th>
                                <th><a href="" ng-click="sort('ASMCL_ClassName')">Exempted Flag</a></th>
                                <th><a href="" ng-click="sort('ASMCL_ClassName')">Exempted Percentage</a></th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr ng-repeat="user in subexam_list" current-page="currentPage">
                                <td class="text-center">{{$index+1}}</td>
                                <td class="text-center">
                                    <label>
                                        <input type="checkbox" name="adcheckt" value="{{user.emsE_Id}}" ng-model="user.checkedvalue" ng-change="optionToggled2()">
                                        <span class="lbl padding-8"></span>
                                    </label>
                                </td>
                                <td class="text-left">
                                    {{user.emsE_SubExamName}}({{user.emsE_SubExamCode}})
                                </td>
                                <td class="text-center">
                                    <input class="form-control" type="text" placeholder="Enter Marks..." ng-pattern="/^[0-9]{0,4}\.?[0-9]{1,2}?$/" allow-pattern="[0-9.]" data-ng-model="user.ECYSESSS_MaxMarks" value="" data-ng-change="valid_max2(user.ECYSESSS_MaxMarks,user)" name="t13_{{user.emsE_Id}}" ng-required="user.checkedvalue" />
                                    <div class="error-messages" ng-if="interacted2(myForm2['t13_'+user.emsE_Id])" ng-messages="myForm2['t13_'+user.emsE_Id].$error">
                                        <div ng-message="pattern">Enter valid Format[For Example 100.00,99.97,......]</div>
                                        <div ng-message="required">Enter Max Marks</div>
                                    </div>
                                </td>
                                <td class="text-center">
                                    <input class="form-control" type="text" placeholder="Enter Marks..." ng-pattern="/^[0-9]{0,4}\.?[0-9]{1,2}?$/" allow-pattern="[0-9.]" data-ng-model="user.ECYSESSS_MinMarks" value="" data-ng-change="valid_min2(user.ECYSESSS_MaxMarks,user.ECYSESSS_MinMarks,user)" name="t23_{{user.emsE_Id}}" ng-required="user.checkedvalue" />
                                    <div class="error-messages" ng-if="interacted2(myForm2['t23_'+user.emsE_Id])" ng-messages="myForm2['t23_'+user.emsE_Id].$error">
                                        <div ng-message="pattern">Enter valid Format[For Example 100.00,99.97,......]</div>
                                        <div ng-message="required">Enter Min Marks</div>
                                    </div>
                                </td>
                                <td class="text-center" style="width:150px;">
                                    <select class="form-control" id="sel1" name="grade_{{user.emsE_Id}}" ng-model="user.EMGR_Id" ng-required="user.checkedvalue">
                                        <option value="">--Select--</option>
                                        <option ng-repeat="option in grade_list" value="{{option.emgR_Id}}" ng-selected="{{option.emgR_Id == user.EMGR_Id}}">
                                            {{option.emgR_GradeName}}
                                        </option>
                                    </select><!--{{GroupName}}-->
                                    <div class="error-messages" ng-if="interacted2(myForm2['grade_'+user.emsE_Id])" ng-messages="myForm2['grade_'+user.emsE_Id].$error">
                                        <div ng-message="required">Select Grade</div>
                                    </div>
                                </td>
                                <td class="text-center">
                                    <label>
                                        <input type="checkbox" name="adcheckt54" ng-model="user.ECYSESSS_ExemptedFlg">
                                        <span class="lbl padding-8"></span>
                                    </label>
                                </td>
                                <td class="text-center">
                                    <input class="form-control" type="text" placeholder="Enter Percentage..." ng-pattern="/^[0-9]{0,4}\.?[0-9]{1,2}?$/" allow-pattern="[0-9.]" data-ng-model="user.EYCESSE_ExemptedPer" value="" name="t33_{{user.emsE_Id}}" ng-disabled="!user.ECYSESSS_ExemptedFlg" ng-required="user.checkedvalue && user.ECYSESSS_ExemptedFlg" data-ng-change="valid_exmpt_per2(user.ECYSESSS_ExemptedPer,user)" />
                                    <div class="error-messages" ng-if="interacted2(myForm2['t33_'+user.emsE_Id])" ng-messages="myForm2['t33_'+user.emsE_Id].$error">
                                        <div ng-message="pattern">Enter valid Format[For Example This 100.00,99.97,......]</div>
                                        <div ng-message="required">Enter Percentage</div>
                                    </div>
                                </td>
                                <td hidden="hidden">{{user.ECYSESSS_SubExamOrder}}</td>
                            </tr>
                        </tbody>

                    </table>
                    <hr />
                    <div class="text-center">
                        <input type="hidden" ng-model="ECYSESSS_Id" value="{{ECYSESSS_Id}}" />
                        <md-button type="submit" class="md-raised md-primary">
                            <i class="fa fa-save" aria-hidden="true"></i> ADD & Close
                        </md-button>
                        <md-button type="button" class="md-raised md-warn" ng-click="clear2()">
                            <i class="fa fa-times" aria-hidden="true"></i> Cancel
                        </md-button>
                        <md-button type="button" class="md-raised md-primary" data-toggle="modal" data-target="#myModal5">
                            Set  Order
                        </md-button>
                    </div>
                </form>

            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" ng-click="clearpopupgrid5(subexam_list)">Close</button>
            </div>
        </div>

    </div>
</div>

<div class="modal fade modal-medium" id="popup3" role="dialog" data-backdrop="static">
    <div class="modal-dialog modal-lg">
        <div class="modal-header">
            <button type="button" class="close" ng-click="clearpopupgrid3(subsubject_list)"><i class="fa fa-times text-white" aria-hidden="true"></i></button>
            <h4 class="modal-title text-white">"{{Subject_Name}}":SubSubjects Mapping</h4>
        </div>
        <!-- Modal content-->
        <div class="modal-content">
            <div class="modal-body">
                <form class="form-horizontal" role="form" name="myForm1" data-ng-submit="saveddata1(subsubject_list)" novalidate>
                    <table class="table table-hover table-responsive table-bordered">
                        <thead>
                            <tr>
                                <th><a href="" ng-click="sort('ASMCL_ClassName')">SLNO</a></th>
                                <th>
                                    <label>
                                        <input type="checkbox" value="" ng-click="toggleAll1()" ng-model="all1">
                                        <span class="lbl padding-8"></span>
                                    </label>
                                </th>
                                <th><a href="" ng-click="sort('ASMCL_ClassName')">Sub-Subject Name(Code)</a></th>
                                <th><a href="" ng-click="order('StudentDue')">Max.Marks</a></th>
                                <th><a href="" ng-click="order('InstitutionDue')">Min.Marks</a></th>
                                <th><a href="" ng-click="sort('ASMC_SectionName')">Grade</a></th>
                                <th><a href="" ng-click="sort('ASMCL_ClassName')">Exempted Flag</a></th>
                                <th><a href="" ng-click="sort('ASMCL_ClassName')">Exempted Percentage</a></th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr ng-repeat="user in subsubject_list" current-page="currentPage">
                                <td class="text-center">{{$index+1}}</td>
                                <td class="text-center">
                                    <label>
                                        <input type="checkbox" name="adcheckt" value="{{user.emsS_Id}}" ng-model="user.checkedvalue" ng-change="optionToggled1()">
                                        <span class="lbl padding-8"></span>
                                    </label>
                                </td>

                                <td class="text-left">{{ user.emsS_SubSubjectName}}({{ user.emsS_SubSubjectCode}})</td>
                                <td class="text-center">
                                    <input class="form-control" type="text" placeholder="Enter Marks..." ng-pattern="/^[0-9]{0,4}\.?[0-9]{1,2}?$/" allow-pattern="[0-9.]" data-ng-model="user.ECYSESSS_MaxMarks" value="" ng-change="valid_max1(user.ECYSESSS_MaxMarks,user)" name="t12_{{user.emsS_Id}}" ng-required="user.checkedvalue" />
                                    <div class="error-messages" ng-if="interacted1(myForm1['t12_'+user.emsS_Id])" ng-messages="myForm1['t12_'+user.emsS_Id].$error">
                                        <div ng-message="pattern">Enter valid Format[For Example 100.00,99.97,......]</div>
                                        <div ng-message="required">Enter Max Marks</div>
                                    </div>
                                </td>
                                <td class="text-center">
                                    <input class="form-control" type="text" placeholder="Enter Marks..." ng-pattern="/^[0-9]{0,4}\.?[0-9]{1,2}?$/" allow-pattern="[0-9.]" data-ng-model="user.ECYSESSS_MinMarks" value="" ng-change="valid_min1(user.ECYSESSS_MaxMarks,user.ECYSESSS_MinMarks,user)" name="t22_{{user.emsS_Id}}" ng-required="user.checkedvalue" />
                                    <div class="error-messages" ng-if="interacted1(myForm1['t22_'+user.emsS_Id])" ng-messages="myForm1['t22_'+user.emsS_Id].$error">
                                        <div ng-message="pattern">Enter valid Format[For Example This 100.00,99.97,......]</div>
                                        <div ng-message="required">Enter Min Marks</div>
                                    </div>
                                </td>
                                <td class="text-center" style="width:150px;">
                                    <select class="form-control" id="sel1" name="grade_{{user.emsS_Id}}" ng-model="user.EMGR_Id" ng-required="user.checkedvalue">
                                        <option value="">--Select--</option>
                                        <option ng-repeat="option in grade_list" value="{{option.emgR_Id}}" ng-selected="{{option.emgR_Id == user.EMGR_Id}}">
                                            {{option.emgR_GradeName}}
                                        </option>
                                    </select><!--{{GroupName}}-->
                                    <div class="error-messages" ng-if="interacted1(myForm1['grade_'+user.emsS_Id])" ng-messages="myForm1['grade_'+user.emsS_Id].$error">
                                        <div ng-message="required">Select Grade</div>
                                    </div>
                                </td>
                                <td class="text-center">
                                    <label>
                                        <input type="checkbox" name="adcheckt54" ng-model="user.ECYSESSS_ExemptedFlg">
                                        <span class="lbl padding-8"></span>
                                    </label>
                                </td>
                                <td class="text-center">
                                    <input class="form-control" type="text" placeholder="Enter Percentage..." ng-pattern="/^[0-9]{0,4}\.?[0-9]{1,2}?$/" allow-pattern="[0-9.]" data-ng-model="user.ECYSESSS_ExemptedPer" value="" name="t32_{{user.emsS_Id}}" ng-disabled="!user.ECYSESSS_ExemptedFlg" ng-required="user.checkedvalue && user.ECYSESSS_ExemptedFlg" ng-change="valid_exmpt_per1(user.ECYSESSS_ExemptedPer,user)" />
                                    <div class="error-messages" ng-if="interacted1(myForm1['t32_'+user.emsS_Id])" ng-messages="myForm1['t32_'+user.emsS_Id].$error">
                                        <div ng-message="pattern">Enter valid Format[For Example 100.00,99.97,......]</div>
                                        <div ng-message="required">Enter Percentage</div>
                                    </div>
                                </td>
                                <td hidden="hidden">{{user.ECYSESSS_SubSubjectOrder}}</td>
                            </tr>
                        </tbody>

                    </table>
                    <hr />
                    <div class="text-center">
                        <input type="hidden" ng-model="ECYSESSS_Id" value="{{ECYSESSS_Id}}" />
                        <md-button type="submit" class="md-raised md-primary">
                            <i class="fa fa-save" aria-hidden="true"></i> ADD & Close
                        </md-button>
                        <md-button type="button" class="md-raised md-warn" ng-click="clear1()">
                            <i class="fa fa-times" aria-hidden="true"></i> Cancel
                        </md-button>
                        <md-button type="button" class="md-raised md-primary" data-toggle="modal" data-target="#myModal3">
                            Set  Order
                        </md-button>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" ng-click="clearpopupgrid3(subsubject_list)">Close</button>
            </div>
        </div>

    </div>
</div>

<div class="modal fade modal-medium" id="myModal" role="dialog">
    <div class="modal-dialog modal-md">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><i class="fa fa-times text-white" aria-hidden="true"></i></button>
                <h4 class="modal-title  text-white">Exm-Subject Order Setting</h4>
            </div>
            <div class="modal-body">
                <table class="table table-hover table-responsive table-bordered">
                    <thead>
                        <tr>
                            <th>SLNO</th>
                            <th>Subject Name</th>
                            <th>Subject Code</th>
                            <th>Exam-Subject Order</th>
                        </tr>
                    </thead>
                    <tbody ui-sortable="sortableOptions" ng-model="subject_list">
                        <tr ng-repeat="user in subject_list">
                            <td class="handle text-center">{{$index+1}}</td>
                            <td class="handle text-left">{{ user.ismS_SubjectName}}</td>
                            <td class="handle text-left">{{ user.ismS_SubjectCode}}</td>
                            <td class="handle text-center">{{ user.ismS_OrderFlag}}</td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" ng-click="getOrder(subject_list);">Save</button>
                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
            </div>
        </div>
    </div>
</div>

<div class="modal fade modal-medium" id="myModal3" role="dialog" data-backdrop="static">
    <div class="modal-dialog modal-md">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><i class="fa fa-times text-white" aria-hidden="true"></i></button>
                <h4 class="modal-title  text-white">Subject-SubSubject Order Setting</h4>
            </div>
            <div class="modal-body">
                <table class="table table-hover table-responsive table-bordered">
                    <thead>
                        <tr>
                            <th>SLNO</th>
                            <th>Sub-Subject Name</th>
                            <th>Sub-Subject Code</th>
                            <th>Subject-SubSubject Order</th>
                        </tr>
                    </thead>
                    <tbody ui-sortable="sortableOptions" ng-model="subsubject_list">
                        <tr ng-repeat="user in subsubject_list">
                            <td class="handle text-center">{{$index+1}}</td>
                            <td class="handle text-left">{{ user.emsS_SubSubjectName}}</td>
                            <td class="handle text-left">{{ user.emsS_SubSubjectCode}}</td>
                            <td class="handle text-center">{{ user.emsS_Order}}</td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <div class="modal-footer">
                <button type="button" class="btn btn-default" ng-click="getOrder3(subsubject_list);">Save</button>
                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
            </div>
        </div>

    </div>
</div>

<div class="modal fade modal-medium" id="myModal5" role="dialog" data-backdrop="static">
    <div class="modal-dialog modal-md">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><i class="fa fa-times text-white" aria-hidden="true"></i></button>
                <h4 class="modal-title  text-white">Subject-SubExam Order Setting</h4>
            </div>
            <div class="modal-body">
                <table class="table table-hover table-responsive table-bordered">
                    <thead>
                        <tr>
                            <th>SLNO</th>
                            <th>Sub-Exam Name</th>
                            <th>Sub-Exam Code</th>
                            <th>Subject-SubExam Order</th>
                        </tr>
                    </thead>
                    <tbody ui-sortable="sortableOptions" ng-model="subexam_list">
                        <tr ng-repeat="user in subexam_list">
                            <td class="handle text-center">{{$index+1}}</td>
                            <td class="handle text-left">{{ user.emsE_SubExamName}}</td>
                            <td class="handle text-left">{{ user.emsE_SubExamCode}}</td>
                            <td class="handle text-center">{{ user.emsE_SubExamOrder}}</td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <div class="modal-footer">
                <button type="button" class="btn btn-default" ng-click="getOrder5(subexam_list);">Save</button>
                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
            </div>
        </div>

    </div>
</div>

<div class="modal fade modal-large" id="popup" role="dialog">
    <div class="modal-dialog modal-lg">
        <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal"><i class="fa fa-times text-white" aria-hidden="true"></i></button>
            <h4 class="modal-title text-white">"{{Exam_Name}}" Mapped Subjects</h4>
        </div>
        <div class="modal-content">
            <div class="modal-body">

                <div class="row">
                    <div class="col-sm-12">
                        <div class="col-sm-6">
                            <label class="control-label col-sm-12"><b>Course : {{coursename}}</b> </label>
                        </div>
                        <div class="col-sm-6">
                            <label class="control-label col-sm-12"><b>Branch : {{branchname}}</b></label>
                        </div>
                        <div class="col-sm-6">
                            <label class="control-label col-sm-12"><b>Semester : {{semester}}</b></label>
                        </div>
                        <div class="col-sm-6">
                            <label class="control-label col-sm-12"><b>Scheme Type : {{schemetype}}</b></label>
                        </div>
                        <div class="col-sm-6">
                            <label class="control-label col-sm-12"><b>Subject Scheme : {{subjectscheme}}</b></label>
                        </div>
                    </div>
                </div>
                <br />
                <table class="table table-hover table-responsive table-bordered">
                    <thead>
                        <tr>
                            <th><a href="" ng-click="sort('emgS_Id')">SLNO</a></th>
                            <th><a href="" ng-click="sort('ismS_SubjectName')">Subject Name</a></th>
                            <th><a href="" ng-click="sort('ismS_SubjectName')">Grade Name</a></th>
                            <th><a href="" ng-click="sort('ismS_SubjectName')">Max.Marks</a></th>
                            <th><a href="" ng-click="sort('ismS_SubjectName')">Min.Marks</a></th>
                            <th><a href="" ng-click="sort('ismS_SubjectName')">Entry Max.Marks</a></th>
                            <th><a href="" ng-click="sort('ismS_SubjectName')">Sub-Exams</a></th>
                            <th><a href="" ng-click="sort('ismS_SubjectName')">Sub-Subjects</a></th>
                            <th><a href="" ng-click="sort('ismS_SubjectName')">Mapping</a></th>
                            <th><a href="" ng-click="sort('ismS_SubjectName')">Marks/Grade</a></th>
                            <th><a href="" ng-click="sort('ismS_SubjectName')">Marks Display</a></th>
                            <th><a href="" ng-click="sort('ismS_SubjectName')">Grade Display</a></th>
                            <th><a href="" ng-click="sort('ismS_SubjectName')">Apl.Result</a></th>
                            <th><a href="" ng-click="sort('ismS_SubjectName')">Subjects Order</a></th>
                            <th><a href="" ng-click="sort('')">Actions</a></th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr ng-repeat="user in viewrecordspopupdisplay" current-page="currentPage">
                            <td class="text-center">{{$index+1}}</td>
                            <td class="text-center">{{ user.ismS_SubjectName}}</td>
                            <td class="text-center">{{ user.emgR_GradeName}}</td>
                            <td class="text-center">{{ user.ecyseS_MaxMarks}}</td>
                            <td class="text-center">{{ user.ecyseS_MinMarks}}</td>
                            <td class="text-center">{{ user.ecyseS_MarksEntryMax}}</td>
                            <td class="text-center" ng-if="user.ecyseS_SubExamFlg"><i class="fa fa-check  text-green"></i></td>
                            <td class="text-center" ng-if="!user.ecyseS_SubExamFlg"><i class="fa fa-times  text-red"></i></td>
                            <td class="text-center" ng-if="user.ecyseS_SubSubjectFlg"><i class="fa fa-check  text-green"></i></td>
                            <td class="text-center" ng-if="!user.ecyseS_SubSubjectFlg"><i class="fa fa-times  text-red"></i></td>
                            <td class="text-center" ng-if="user.ecyseS_SubSubjectFlg || user.ecyseS_SubExamFlg">
                                <a href="javascript:void(0)" data-toggle="modal" data-target="#popup_subsubjectsubexms"
                                   data-backdrop="static" ng-click="viewrecordspopup_subsubjssubexam(user);">
                                    <i class="fa fa-eye text-purple"></i>
                                </a>
                            </td>
                            <td class="text-center" ng-if="!user.ecyseS_SubSubjectFlg && !user.ecyseS_SubExamFlg"></td>
                            <td class="text-left" ng-if="user.ecyseS_MarksGradeEntryFlg=='M'">Marks</td>
                            <td class="text-left" ng-if="user.ecyseS_MarksGradeEntryFlg=='G'">Grade</td>
                            <td class="text-center" ng-if="user.ecyseS_MarksDisplayFlg"><i class="fa fa-check text-green"></i></td>
                            <td class="text-center" ng-if="!user.ecyseS_MarksDisplayFlg"><i class="fa fa-times text-red"></i></td>
                            <td class="text-center" ng-if="user.ecyseS_GradeDisplayFlg"><i class="fa fa-check text-green"></i></td>
                            <td class="text-center" ng-if="!user.ecyseS_GradeDisplayFlg"><i class="fa fa-times text-red"></i></td>
                            <td class="text-center" ng-if="user.ecyseS_AplResultFlg"><i class="fa fa-check text-green"></i></td>
                            <td class="text-center" ng-if="!user.ecyseS_AplResultFlg"><i class="fa fa-times text-red"></i></td>
                            <td class="text-center">{{ user.ecyseS_SubjectOrder}}</td>
                            <td class="text-center" width="5%">
                                <div class="grid-action-cell">
                                    <a ng-if="!user.ecyseS_ActiveFlg" href="javascript:void(0)" style="color:green;" ng-click="deactive_sub(user);">  <i class="fa fa-toggle-off text-red" aria-hidden="true"></i><md-tooltip md-direction="down" md-z-index="1151">Activate Now</md-tooltip></a>
                                    <a ng-if="user.ecyseS_ActiveFlg" href="javascript:void(0)" style="color:red;" ng-click="deactive_sub(user);">  <i class="fa fa-toggle-on text-green" aria-hidden="true"></i><md-tooltip md-direction="down" md-z-index="1151">Deactivate Now</md-tooltip> </a>
                                </div>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" ng-click="clearpopupgrid()" data-dismiss="modal">Close</button>
            </div>
        </div>
    </div>
</div>

<div class="modal fade modal-medium" id="popup_subexms" role="dialog">
    <div class="modal-dialog modal-lg" style="width:90% !important">
        <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal"><i class="fa fa-times text-white" aria-hidden="true"></i></button>
            <h4 class="modal-title text-white">"{{Exam_Name}}-{{Exm_Subject}}" Mapped Sub-Exams</h4>
        </div>
        <div class="modal-content">
            <div class="modal-body">
                <table class="table table-hover table-responsive table-bordered">
                    <thead>
                        <tr>
                            <th><a href="" ng-click="sort('emgS_Id')">SLNO</a></th>
                            <th><a href="" ng-click="sort('ismS_SubjectName')">Sub-Exam Name</a></th>
                            <th><a href="" ng-click="sort('ismS_SubjectName')">Grade Name</a></th>
                            <th><a href="" ng-click="sort('ismS_SubjectName')">Max.Marks</a></th>
                            <th><a href="" ng-click="sort('ismS_SubjectName')">Min.Marks</a></th>
                            <th><a href="" ng-click="sort('ismS_SubjectName')">Exemption</a></th>
                            <th><a href="" ng-click="sort('ismS_SubjectName')">Exemption Percentage</a></th>
                            <th><a href="" ng-click="sort('ismS_SubjectName')">Sub-Exam Order</a></th>
                            <th><a href="" ng-click="sort('')">Actions</a></th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr ng-repeat="user in viewrecordspopupdisplay_subexms" current-page="currentPage">
                            <td class="text-center">{{$index+1}}</td>
                            <td class="text-left">{{ user.emsE_SubExamName}}</td>
                            <td class="text-left">{{ user.emgR_GradeName}}</td>
                            <td class="text-center">{{ user.ecysessS_MaxMarks}}</td>
                            <td class="text-center">{{ user.ecysessS_MinMarks}}</td>
                            <td class="text-center" ng-if="user.ecysessS_ExemptedFlg"><i class="fa fa-check text-green"></i></td>
                            <td class="text-center" ng-if="!user.ecysessS_ExemptedFlg"><i class="fa fa-times text-red"></i></td>
                            <td class="text-center">{{ user.ecysessS_ExemptedPer}}</td>
                            <td class="text-center">{{ user.ecysessS_SubExamOrder}}</td>
                            <td class="text-center" width="5%">
                                <div class="grid-action-cell">
                                    <a ng-if="!user.ecysessS_ActiveFlg" href="javascript:void(0)" style="color:green;" ng-click="deactive_sub_exm(user);">  <i class="fa fa-toggle-off text-red" aria-hidden="true"></i><md-tooltip md-z-index="1151" md-direction="down">Activate Now</md-tooltip></a>
                                    <a ng-if="user.ecysessS_ActiveFlg" href="javascript:void(0)" style="color:red;" ng-click="deactive_sub_exm(user);">  <i class="fa fa-toggle-on text-green" aria-hidden="true"></i><md-tooltip md-z-index="1151" md-direction="down">Deactivate Now</md-tooltip> </a>
                                </div>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" ng-click="clearpopupgrid_subexms()" data-dismiss="modal">Close</button>
            </div>
        </div>
    </div>
</div>

<div class="modal fade modal-medium" id="popup_subsubjs" role="dialog">
    <div class="modal-dialog modal-lg" style="width:90% !important">
        <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal"><i class="fa fa-times text-white" aria-hidden="true"></i></button>
            <h4 class="modal-title text-white">"{{Exam_Name}}-{{Exm_Subject}}" Mapped Sub-Subjects</h4>
        </div>
        <div class="modal-content">
            <div class="modal-body">
                <table class="table table-hover table-responsive table-bordered">
                    <thead>
                        <tr>
                            <th><a href="" ng-click="sort('emgS_Id')">SLNO</a></th>
                            <th><a href="" ng-click="sort('ismS_SubjectName')">Sub-Subject Name</a></th>
                            <th><a href="" ng-click="sort('ismS_SubjectName')">Grade Name</a></th>
                            <th><a href="" ng-click="sort('ismS_SubjectName')">Max.Marks</a></th>
                            <th><a href="" ng-click="sort('ismS_SubjectName')">Min.Marks</a></th>
                            <th><a href="" ng-click="sort('ismS_SubjectName')">Exemption</a></th>
                            <th><a href="" ng-click="sort('ismS_SubjectName')">Exemption Percentage</a></th>
                            <th><a href="" ng-click="sort('ismS_SubjectName')">Sub-Exam Order</a></th>
                            <th><a href="" ng-click="sort('')">Actions</a></th>
                        </tr>
                    </thead>

                    <tbody>
                        <tr ng-repeat="user in viewrecordspopupdisplay_subsubjs" current-page="currentPage">
                            <td class="text-center">{{$index+1}}</td>
                            <td class="text-left">{{ user.emsS_SubSubjectName}}</td>
                            <td class="text-left">{{ user.emgR_GradeName}}</td>
                            <td class="text-center">{{ user.ecysessS_MaxMarks}}</td>
                            <td class="text-center">{{ user.ecysessS_MinMarks}}</td>
                            <td class="text-center" ng-if="user.ecysessS_ExemptedFlg"><i class="fa fa-check  text-green"></i></td>
                            <td class="text-center" ng-if="!user.ecysessS_ExemptedFlg"><i class="fa fa-times  text-red"></i></td>
                            <td class="text-center">{{ user.ecysessS_ExemptedPer}}</td>
                            <td class="text-center">{{ user.ecysessS_SubSubjectOrder}}</td>
                            <td class="text-center" width="5%">
                                <div class="grid-action-cell">
                                    <a ng-if="!user.ecysessS_ActiveFlg" href="javascript:void(0)" style="color:green;" ng-click="deactive_sub_subj(user);">  <i class="fa fa-toggle-off text-red" aria-hidden="true"></i><md-tooltip md-z-index="1151" md-direction="down">Activate Now</md-tooltip></a>
                                    <a ng-if="user.ecysessS_ActiveFlg" href="javascript:void(0)" style="color:red;" ng-click="deactive_sub_subj(user);">  <i class="fa fa-toggle-on text-green" aria-hidden="true"></i><md-tooltip md-z-index="1151" md-direction="down">Deactivate Now</md-tooltip> </a>
                                </div>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" ng-click="clearpopupgrid_subsubjs()" data-dismiss="modal">Close</button>
            </div>
        </div>
    </div>
</div>

<div class="modal fade modal-medium" id="popup_subsubjectsubexms" role="dialog">
    <div class="modal-dialog modal-lg" style="width:90% !important">
        <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal"><i class="fa fa-times text-white" aria-hidden="true"></i></button>
            <h4 class="modal-title text-white">"{{Exam_Name}}- {{Exm_Subject}}" Mapped Sub-Subject Sub Exam</h4>
        </div>
        <!-- Modal content-->
        <div class="modal-content">
            <div class="modal-body">
                <table class="table table-hover table-responsive table-bordered">
                    <thead>
                        <tr>
                            <th><a href="" ng-click="sort('emgS_Id')">SLNO</a></th>
                            <th><a href="" ng-click="sort('ismS_SubjectName')">Sub-Subject Name</a></th>
                            <th><a href="" ng-click="sort('ismS_SubjectName')">Sub-Exam Name</a></th>
                            <th><a href="" ng-click="sort('ismS_SubjectName')">Progress Card Flag</a></th>
                            <th><a href="" ng-click="sort('ismS_SubjectName')">Subject Display Name</a></th>
                            <th><a href="" ng-click="sort('ismS_SubjectName')">Subject Display Code</a></th>
                            <th><a href="" ng-click="sort('ismS_SubjectName')">Grade Name</a></th>
                            <th><a href="" ng-click="sort('ismS_SubjectName')">Max.Marks</a></th>
                            <th><a href="" ng-click="sort('ismS_SubjectName')">Min.Marks</a></th>
                            <th><a href="" ng-click="sort('ismS_SubjectName')">Exemption</a></th>
                            <th><a href="" ng-click="sort('ismS_SubjectName')">Exemption Percentage</a></th>
                            <th><a href="" ng-click="sort('ismS_SubjectName')">Order</a></th>
                            <th><a href="" ng-click="sort('')">Actions</a></th>
                        </tr>
                    </thead>
                    <tbody ui-sortable="sortableOptions" ng-model="viewrecordspopupdisplay_subsubjectsubexms">
                        <tr ng-repeat="user in viewrecordspopupdisplay_subsubjectsubexms" current-page="currentPage">
                            <td class="handle text-center">{{$index+1}}</td>
                            <td class="handle text-left">{{ user.emsS_SubSubjectName}}</td>
                            <td class="handle text-left">{{ user.emsE_SubExamName}}</td>

                            <td class="handle text-left">{{ user.ecysessS_ProgressCardFlag}}</td>
                            <td class="handle text-left">{{ user.ecysessS_SubjectDisplayName}}</td>
                            <td class="handle text-left">{{ user.ecysessS_SubjectDisplayCode}}</td>

                            <td class="handle text-left">{{ user.emgR_GradeName}}</td>
                            <td class="handle text-center">{{ user.ecysessS_MaxMarks}}</td>
                            <td class="handle text-center">{{ user.ecysessS_MinMarks}}</td>
                            <td class="handle text-center" ng-if="user.ecysessS_ExemptedFlg"><i class="fa fa-check text-green"></i></td>
                            <td class="handle text-center" ng-if="!user.ecysessS_ExemptedFlg"><i class="fa fa-times text-red"></i></td>
                            <td class="handle text-center">{{ user.ecysessS_ExemptedPer}}</td>
                            <td class="handle text-center">{{ user.ecysessS_SubSubjectOrder}}</td>
                            <td class="handle text-center" width="5%">
                                <div class="grid-action-cell">
                                    <a ng-if="!user.ecysessS_ActiveFlg" href="javascript:void(0)" style="color:green;" ng-click="deactive_sub_subj_subexam(user);">  <i class="fa fa-toggle-off text-red" aria-hidden="true"></i><md-tooltip md-z-index="1151" md-direction="down">Activate Now</md-tooltip></a>
                                    <a ng-if="user.ecysessS_ActiveFlg" href="javascript:void(0)" style="color:red;" ng-click="deactive_sub_subj_subexam(user);">  <i class="fa fa-toggle-on text-green" aria-hidden="true"></i><md-tooltip md-z-index="1151" md-direction="down">Deactivate Now</md-tooltip> </a>
                                </div>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" ng-click="clearpopupgrid_subsubjectsubexms()" data-dismiss="modal">Close</button>
                <button type="button" class="btn btn-default" ng-click="SetOrder_SubSubject(viewrecordspopupdisplay_subsubjectsubexms,'SubSubj_SubExam')">Set Order</button>
            </div>
        </div>
    </div>
</div>


<div class="modal fade modal-medium" id="popup4546" role="dialog" data-backdrop="static">
    <div class="modal-dialog modal-lg">
        <div class="modal-header">
            <button type="button" class="close" ng-click="clearpopupgrid345(subsubjectsubexam_list)"><i class="fa fa-times text-white" aria-hidden="true"></i></button>
            <h4 class="modal-title text-white">"{{Subject_Name}}":Sub Subjects Sub Exam Mapping</h4>
        </div>
        <!-- Modal content-->
        <div class="modal-content">
            <div class="modal-body">
                <form class="form-horizontal" role="form" name="myForm123" data-ng-submit="saveddata23(subsubjectsubexam_list)" novalidate>
                    <table class="table table-hover table-responsive table-bordered">
                        <thead>
                            <tr>
                                <th><a href="" ng-click="sort('ASMCL_ClassName')">SLNO</a></th>
                                <th>
                                    <label>
                                        <input type="checkbox" value="" ng-click="toggleAll123()" ng-model="all123">
                                        <span class="lbl padding-8"></span>
                                    </label>
                                </th>
                                <th><a href="" ng-click="sort('ASMCL_ClassName')">Sub-Subject Name(Code)</a></th>
                                <th><a href="" ng-click="sort('ASMCL_ClassName')">Sub-Exam Name(Code)</a></th>
                                <th><a href="" ng-click="sort('ASMCL_ClassName')">Progress Card Flag</a></th>
                                <th><a href="" ng-click="sort('ASMCL_ClassName')">Subject Display Name</a></th>
                                <th><a href="" ng-click="sort('ASMCL_ClassName')">Subject Display Code</a></th>
                                <th><a href="" ng-click="order('StudentDue')">Max.Marks</a></th>
                                <th><a href="" ng-click="order('InstitutionDue')">Min.Marks</a></th>
                                <th><a href="" ng-click="sort('ASMC_SectionName')">Grade</a></th>
                                <th><a href="" ng-click="sort('ASMCL_ClassName')">Exempted Flag</a></th>
                                <th><a href="" ng-click="sort('ASMCL_ClassName')">Exempted Percentage</a></th>
                            </tr>
                        </thead>

                        <tbody>
                            <tr ng-repeat="user in subsubjectsubexam_list" current-page="currentPage">
                                <td class="text-center">{{$index+1}}</td>
                                <td class="text-center">
                                    <label>
                                        <input type="checkbox" name="adcheckt" value="{{user.emsS_Id}}" ng-model="user.checkedvalue" ng-change="optionToggled123()">
                                        <span class="lbl padding-8"></span>
                                    </label>
                                </td>

                                <td class="text-left">{{ user.emsS_SubSubjectName}}({{ user.emsS_SubSubjectCode}})</td>
                                <td class="text-left">{{ user.emsE_SubExamName}}({{ user.emsE_SubExamCode}})</td>

                                <td class="text-center">
                                    <select class="form-control" id="" name="tt123_{{user.emsS_Id}}_{{user.emsE_Id}}" ng-model="user.ECYSESSS_ProgressCardFlag">
                                        <option value="">--Select Progress Card Flag--</option>
                                        <option value="Sec A">Sec A</option>
                                        <option value="Sec B">Sec B</option>
                                    </select>
                                    <div class="error-messages" ng-if="interacted123(myForm123['tt123_'+user.emsS_Id+'_'+user.emsE_Id])"
                                         ng-messages="myForm123['tt123_'+user.emsS_Id+'_'+user.emsE_Id].$error">
                                        <div ng-message="required">Select Progress Card Flag</div>
                                    </div>
                                </td>

                                <td class="text-center">
                                    <input class="form-control" type="text" placeholder="Enter Subject Display Name" data-ng-model="user.ECYSESSS_SubjectDisplayName"
                                           name="tt1234_{{user.emsS_Id}}_{{user.emsE_Id}}" />
                                    <div class="error-messages" ng-if="interacted123(myForm123['tt1234_'+user.emsS_Id+'_'+user.emsE_Id])"
                                         ng-messages="myForm123['tt1234_'+user.emsS_Id+'_'+user.emsE_Id].$error">
                                        <div ng-message="required">Enter Subject Display Name</div>
                                    </div>
                                </td>

                                <td class="text-center">
                                    <input class="form-control" type="text" placeholder="Enter Subject Display Code" data-ng-model="user.ECYSESSS_SubjectDisplayCode"
                                           name="tt1234d_{{user.emsS_Id}}_{{user.emsE_Id}}" />
                                    <div class="error-messages" ng-if="interacted123(myForm123['tt1234d_'+user.emsS_Id+'_'+user.emsE_Id])"
                                         ng-messages="myForm123['tt1234d_'+user.emsS_Id+'_'+user.emsE_Id].$error">
                                        <div ng-message="required">Enter Subject Display Code</div>
                                    </div>
                                </td>

                                <td class="text-center">
                                    <input class="form-control" type="text" placeholder="Enter Marks..." ng-pattern="/^[0-9]{0,4}\.?[0-9]{1,2}?$/" allow-pattern="[0-9.]"
                                           data-ng-model="user.ECYSESSS_MaxMarks" value="" ng-change="valid_max1(user.ECYSESSS_MaxMarks,user)"
                                           name="t123_{{user.emsS_Id}}_{{user.emsE_Id}}"
                                           ng-required="user.checkedvalue" />
                                    <div class="error-messages" ng-if="interacted123(myForm123['t123_'+user.emsS_Id+'_'+user.emsE_Id])"
                                         ng-messages="myForm123['t123_'+user.emsS_Id+'_'+user.emsE_Id].$error">
                                        <div ng-message="pattern">Enter valid Format[For Example 100.00,99.97,......]</div>
                                        <div ng-message="required">Enter Max Marks</div>
                                    </div>
                                </td>
                                <td class="text-center">
                                    <input class="form-control" type="text" placeholder="Enter Marks..." ng-pattern="/^[0-9]{0,4}\.?[0-9]{1,2}?$/" allow-pattern="[0-9.]"
                                           data-ng-model="user.ECYSESSS_MinMarks" value="" ng-change="valid_min1(user.ECYSESSS_MaxMarks,user.ECYSESSS_MinMarks,user)"
                                           name="t223_{{user.emsS_Id}}_{{user.emsE_Id}}" ng-required="user.checkedvalue" />
                                    <div class="error-messages" ng-if="interacted123(myForm123['t223_'+user.emsS_Id+'_'+user.emsE_Id])"
                                         ng-messages="myForm123['t223_'+user.emsS_Id+'_'+user.emsE_Id].$error">
                                        <div ng-message="pattern">Enter valid Format[For Example This 100.00,99.97,......]</div>
                                        <div ng-message="required">Enter Min Marks</div>
                                    </div>
                                </td>
                                <td class="text-center" style="width:150px;">
                                    <select class="form-control" id="sel1" name="grade_{{user.emsS_Id}}_{{user.emsE_Id}}" ng-model="user.EMGR_Id" ng-required="user.checkedvalue">
                                        <option value="">--Select--</option>
                                        <option ng-repeat="option in grade_list" value="{{option.emgR_Id}}" ng-selected="{{option.emgR_Id == user.EMGR_Id}}">
                                            {{option.emgR_GradeName}}
                                        </option>
                                    </select>
                                    <div class="error-messages" ng-if="interacted123(myForm123['grade_'+user.emsS_Id+'_'+user.emsE_Id])"
                                         ng-messages="myForm123['grade_'+user.emsS_Id+'_'+user.emsE_Id].$error">
                                        <div ng-message="required">Select Grade</div>
                                    </div>
                                </td>
                                <td class="text-center">
                                    <label>
                                        <input type="checkbox" name="adcheckt54" ng-model="user.ECYSESSS_ExemptedFlg">
                                        <span class="lbl padding-8"></span>
                                    </label>
                                </td>
                                <td class="text-center">
                                    <input class="form-control" type="text" placeholder="Enter Percentage..." ng-pattern="/^[0-9]{0,4}\.?[0-9]{1,2}?$/" allow-pattern="[0-9.]"
                                           data-ng-model="user.ECYSESSS_ExemptedPer" value="" name="t322_{{user.emsS_Id}}_{{user.emsE_Id}}" ng-disabled="!user.ECYSESSS_ExemptedFlg"
                                           ng-required="user.checkedvalue && user.ECYSESSS_ExemptedFlg"
                                           ng-change="valid_exmpt_per1(user.ECYSESSS_ExemptedPer,user)" />
                                    <div class="error-messages" ng-if="interacted123(myForm123['t322_'+user.emsS_Id+'_'+user.emsE_Id])"
                                         ng-messages="myForm123['t322_'+user.emsS_Id+'_'+user.emsE_Id].$error">
                                        <div ng-message="pattern">Enter valid Format[For Example 100.00,99.97,......]</div>
                                        <div ng-message="required">Enter Percentage</div>
                                    </div>
                                </td>
                                <td hidden="hidden">{{user.ECYSESSS_SubSubjectOrder}}</td>
                            </tr>
                        </tbody>

                    </table>
                    <hr />
                    <div class="text-center">
                        <input type="hidden" ng-model="ECYSESSS_Id" value="{{ECYSESSS_Id}}" />
                        <md-button type="submit" class="md-raised md-primary">
                            <i class="fa fa-save" aria-hidden="true"></i> ADD & Close
                        </md-button>
                        <md-button type="button" class="md-raised md-warn" ng-click="clear3()">
                            <i class="fa fa-times" aria-hidden="true"></i> Cancel
                        </md-button>
                        <md-button type="button" class="md-raised md-primary" data-toggle="modal" data-target="#myModal35">
                            <i class="fa fa-sort" aria-hidden="true"></i> Set Order
                        </md-button>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" ng-click="clearpopupgrid345(subsubjectsubexam_list)">Close</button>
            </div>
        </div>

    </div>
</div>

<div class="modal fade modal-medium" id="myModal35" role="dialog" data-backdrop="static">
    <div class="modal-dialog modal-md">
        <!-- Modal content-->
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><i class="fa fa-times text-white" aria-hidden="true"></i></button>
                <!--<button type="button" class="close" data-dismiss="modal">&times;</button>-->
                <h4 class="modal-title  text-white">Subject-SubSubject-SubExam Order Setting</h4>
            </div>
            <div class="modal-body">
                <table class="table table-hover table-responsive table-bordered">
                    <thead>
                        <tr>
                            <th>SLNO</th>
                            <th>Sub-Subject Name (Code)</th>
                            <th>Sub-Exam Name (Code)</th>
                            <th>Subject-SubSubject-SubExam Order</th>
                        </tr>
                    </thead>
                    <tbody ui-sortable="sortableOptions35" ng-model="tempsubsubjectsubexamlist">
                        <tr ng-repeat="user in tempsubsubjectsubexamlist">
                            <td class="handle text-center">{{$index+1}}</td>
                            <td class="handle text-left">{{ user.emsS_SubSubjectName}} ({{ user.emsS_SubSubjectCode}})</td>
                            <td class="handle text-left">{{ user.emsE_SubExamName}} ({{ user.emsE_SubExamCode}}) </td>
                            <td class="handle text-center">{{ user.emsS_Order}} ({{ user.emsE_SubExamOrder}})</td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" ng-click="getOrder35(tempsubsubjectsubexamlist);">Save</button>
                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
            </div>
        </div>

    </div>
</div>


