<!--<style>
    .multiselect {
        width: 24.1em;
        height: 20em;
        border: solid 1px #5cb7ff;
        overflow: auto;
        margin-left: 2.7%;
        margin-bottom: 1%;
        padding: 2%;
    }
</style>-->


<style>
    .k-grid-toolbar {
        text-align: center;
    }

    .gridTitle {
        text-align: center;
    }


    .k-header {
        text-align: center !important;
        /*background-color: lightyellow !important;*/
    }
</style>

<section class="content">
    <form class="form-horizontal ng-pristine ng-valid" name="myForm" role="form" novalidate>
        <div data-ng-init="BindData()">
            <div class="box box-primary">
                <div class="box-header with-border">
                    <h3 class="box-title">Progress Card Report</h3>
                    <div class="box-tools pull-right">
                        <button type="button" class="btn btn-box-tool" data-widget="collapse"><i class="fa fa-minus"></i></button>
                    </div>
                </div>
                <div class="box-body">
                    <div class="row">
                        <div class="col-sm-12">
                            <div class="col-sm-6">
                                <div class="form-group">
                                    <label class="control-label col-sm-4">Academic Year:<span style="color:Red">*</span></label>
                                    <div class="col-sm-8">
                                        <select class="form-control" id="sel11" name="coursed" ng-model="ASMAY_Id" ng-change="onchangeyear()" required>
                                            <option value="">--Select--</option>
                                            <option ng-repeat="clas in yearlist" value="{{clas.asmaY_Id}}" ng-selected="{{clas.Selected==true}}">
                                                {{clas.asmaY_Year}}
                                            </option>
                                        </select>
                                        <div class="error-messages" ng-if="interacted(myForm.coursed)" ng-messages="myForm.coursed.$error">
                                            <div ng-message="required">Please Select Year</div>
                                        </div>
                                    </div>
                                </div>

                                <div class="form-group">
                                    <label class="control-label col-sm-4">Course:<span style="color:Red">*</span></label>
                                    <div class="col-sm-8">
                                        <select class="form-control" id="sel1" name="course" ng-model="AMCO_Id" ng-change="onchangecourse()" required>
                                            <option value="">--Select--</option>
                                            <option ng-repeat="clas in course_list" value="{{clas.amcO_Id}}" ng-selected="{{clas.Selected==true}}">
                                                {{clas.amcO_CourseName}}
                                            </option>
                                        </select>
                                        <div class="error-messages" ng-if="interacted(myForm.course)" ng-messages="myForm.course.$error">
                                            <div ng-message="required">Please Select Course</div>
                                        </div>
                                    </div>
                                </div>

                                <div class="form-group">
                                    <label class="control-label col-sm-4">Branch:<span style="color:Red">*</span></label>
                                    <div class="col-sm-8">
                                        <select class="form-control" id="sel1" name="branc" ng-model="AMB_Id" ng-change="onchangebranch()" required>
                                            <option value="">--Select--</option>
                                            <option ng-repeat="bran in branch_list" value="{{bran.amB_Id}}" ng-selected="{{bran.Selected==true}}">
                                                {{bran.amB_BranchName}}
                                            </option>
                                        </select>
                                        <div class="error-messages" ng-if="interacted(myForm.branc)" ng-messages="myForm.branc.$error">
                                            <div ng-message="required">Please Select Branch</div>
                                        </div>
                                    </div>
                                </div>

                                <div class="form-group">
                                    <label for="sel2" class="control-label col-sm-4">Semester:<span style="color:Red">*</span></label>
                                    <div class="col-sm-8">
                                        <select class="form-control" id="sel12vv" name="semis" ng-model="AMSE_Id" ng-change="onchangesemester()" required>
                                            <option value="">--Select--</option>
                                            <option ng-repeat="semi in semisters_list" value="{{semi.amsE_Id}}" ng-selected="{{semis.Selected==true}}">
                                                {{semi.amsE_SEMName}}
                                            </option>
                                        </select>
                                        <div class="error-messages" ng-if="interacted(myForm.semis)" ng-messages="myForm.semis.$error">
                                            <div ng-message="required">Select Semester</div>
                                        </div>
                                    </div>
                                </div>

                                <div class="form-group">
                                    <label class="control-label col-sm-4">Section :<span style="color:Red">*</span></label>
                                    <div class="col-sm-8">
                                        <select class="form-control" id="sm" name="secdd" ng-model="ACMS_Id" required>
                                            <option value="">Select</option>
                                            <option ng-repeat="sec in seclist" value="{{sec.acmS_Id}}" ng-selected="{{sec.Selected == true}}">{{sec.acmS_SectionName}}</option>
                                        </select>
                                        <div class="error-messages" ng-if="interacted(myForm.secdd)" ng-messages="myForm.secdd.$error">
                                            <div ng-message="required">Please Select Section</div>
                                        </div>
                                    </div>
                                </div>

                                <div class="form-group">
                                    <label class="control-label col-sm-4">Subject Scheme:<span style="color:Red">*</span></label>
                                    <div class="col-sm-8">
                                        <select class="form-control" id="sel12" name="sschemas" ng-model="ACSS_Id" ng-change="onchangesubjectscheme()" required>
                                            <option value="">--Select--</option>
                                            <option ng-repeat="sschema in subjectschema_list" value="{{sschema.acsS_Id}}" ng-selected="{{sschema.Selected==true}}">
                                                {{sschema.acsS_SchmeName}}
                                            </option>
                                        </select>
                                        <div class="error-messages" ng-if="interacted(myForm.sschemas)" ng-messages="myForm.sschemas.$error">
                                            <div ng-message="required">Please Select Subject Scheme</div>
                                        </div>
                                    </div>
                                </div>

                                <div class="form-group">
                                    <label class="control-label col-sm-4">Scheme Type:<span style="color:Red">*</span></label>
                                    <div class="col-sm-8">
                                        <select class="form-control" id="sel165" name="schematype" ng-change="onchangeschemetype()" ng-model="ACST_Id" required>
                                            <option value="">--Select--</option>
                                            <option ng-repeat="scmatype in schmetype_list" value="{{scmatype.acsT_Id}}" ng-selected="{{scmatype.Selected==true}}">
                                                {{scmatype.acsT_SchmeType}}
                                            </option>
                                        </select>
                                        <div class="error-messages" ng-if="interacted(myForm.schematype)" ng-messages="myForm.schematype.$error">
                                            <div ng-message="required">Please Select Scheme Type</div>
                                        </div>
                                    </div>
                                </div>

                                <div class="form-group">
                                    <label for="sel2" class="control-label col-sm-4">Exam: <span style="color:Red">*</span></label>
                                    <div class="col-sm-8">
                                        <select class="form-control" id="sel12vvdd" name="examoption" ng-model="EME_Id" required>
                                            <option value="">--Select--</option>
                                            <option ng-repeat="exam in exam_list" value="{{exam.emE_Id}}" ng-selected="{{exam.Selected==true}}">
                                                {{exam.emE_ExamName}}
                                            </option>
                                        </select>
                                        <div class="error-messages" ng-if="interacted(myForm.examoption)" ng-messages="myForm.examoption.$error">
                                            <div ng-message="required">Select Exam</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-6">
                                <div class="form-group">
                                    <label class="control-label col-sm-3">
                                        <input name="allcheck" value="" ng-model="all" type="checkbox" ng-click="OnClickAll()">
                                        <span class="lbl padding-8">
                                            Student :
                                        </span><span style="color:Red">*</span>
                                    </label>
                                    <div class="col-sm-8">
                                        <div class="multiselect col-sm-12">
                                            <input class="form-control" ng-model="searchchkbx" type="text" placeholder="search here..." style="margin:1%;">
                                            <label data-ng-model="AMSCT_Id" ng-repeat="sub in studentlist | filter:filterchkbx" value="{{sub.amscT_Id}}">
                                                <input name="Subjectoption" value="" ng-click="individual()" ng-model="sub.checkedsub" type="checkbox"
                                                       ng-required="isOptionsRequired3()">
                                                <span class="lbl padding-8">
                                                    {{sub.studentname}}
                                                </span>
                                            </label>
                                        </div>
                                        <div class="error-messages" ng-if="interacted(myForm.Subjectoption)" ng-messages="myForm.Subjectoption.$error">
                                            <div ng-message="required">Select Student</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <hr />
                    <div class="">
                        <div class="">
                            <div class="text-center">
                                <input type="hidden" ng-model="EME_ID" />
                                <md-button type="button" class="md-raised md-primary" ng-click="Getreport()" ng-disabled="form.$invalid" id="save-btn">
                                    <i class="fa fa-list-alt " aria-hidden="true"></i>
                                    Report
                                </md-button>
                                <md-button type="button" class="md-raised md-primary"  ng-if="student_list.length > 0" ng-click="print()" id="save-btn">
                                    <i class="fa fa-list-alt " aria-hidden="true"></i>
                                    Print
                                </md-button>
                             
                                <md-button type="button" class="md-raised md-warn" ng-click="cancel()">
                                    <i class="fa fa-times" aria-hidden="true"></i>
                                    Cancel
                                </md-button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </form>


    <div class="box box-primary" id="printSectionId">
        <div class="box-header with-border">         
            <div class="box-tools pull-right">
                <button type="button" class="btn btn-box-tool" data-widget="collapse"><i class="fa fa-minus"></i></button>
            </div>
        </div>
        <div class="box-body">
            <div class="" id="Baldwin">
                <div ng-repeat="user in  student_list">


                    <div class="pagelayout" style="page-break-before:always;">
                        <div class="row">
                            <div class="SHRIDEVI text-center">
                                <img style="width:100%" src="https://vapsclg.blob.core.windows.net/files/9/EmployeeProfilePics/image_2024_01_11T08_31_11_349Z.png" alt="SHRIDEVI INSTITUTE OF ENGINEERING AND TECHNOLOGY">
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-sm-8">
                                <div class="form-group">
                                    <label class="control-label col-sm-3">Ref</label>
                                    <label class="control-label">
                                        : SIET/IYUGS/2022-2023/PR5
                                    </label>
                                </div>
                                <div class="form-group">

                                    <label class="control-label col-sm-3"><b>Dear Parent/Guardian,</b></label>
                                </div>
                            </div>
                            <div class="col-sm-4">
                                <div class="form-group">
                                    <label class="control-label col-sm-4">Date</label>
                                    <label class="control-label">
                                        : 19-08-2023
                                    </label>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="form-group">
                                <label class="control-label col-sm-3"><b>Hearty greetings to you and your family</b></label>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-sm-12" style="margin-top:10px">
                                <p>
                                    I am hereby sending the academic progress report of your ward _______{{user.StudentName}}________ bearing University Seat Number _______LSV22E602________ studying in II Semester of _______EE________ branch.
                                </p>
                            </div>
                            <div class="col-sm-12">
                                <table class="table table-bordered">
                                    <thead>
                                        <tr>
                                            <th>SL.No</th>
                                            <th>Subject With Code</th>
                                            <th>No of Classes conducted</th>
                                            <th>No of Classes attended</th>
                                            <th>% of attendence</th>
                                            <th>{{examname}} Test marks</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr ng-repeat="report in  user.student_subjectlist" ng-if="report.AMCST_Id==user.AMCST_Id">
                                            <td>{{$index+1}}</td>
                                            <td style="text-align:left">

                                                {{report.ISMS_SubjectName}}

                                            </td>
                                            <td style="text-align:left">
                                                <span ng-repeat="attendence in user.subjectattenence" ng-if="attendence.AMCST_Id==report.AMCST_Id && report.ISMS_Id==attendence.ISMS_Id">
                                                    {{attendence.Total_class_conducted}}
                                                </span>


                                            </td>
                                            <td style="text-align:left">

                                                <span ng-repeat="attendence in user.subjectattenence" ng-if="attendence.AMCST_Id==report.AMCST_Id && report.ISMS_Id==attendence.ISMS_Id">
                                                    {{attendence.Classes_Attended}}
                                                </span>
                                            </td>
                                            <td style="text-align:left">

                                                <span ng-repeat="attendence in user.subjectattenence" ng-if="report.AMCST_Id==user.AMCST_Id && attendence.AMCST_Id==report.AMCST_Id && report.ISMS_Id==attendence.ISMS_Id">
                                                    {{attendence.Attendance_Percentage}}
                                                </span>

                                            </td>
                                            <td style="text-align:left">
                                                <span ng-repeat="exam in user.student_wisemarks" ng-if="report.AMCST_Id==user.AMCST_Id && exam.AMCST_Id==report.AMCST_Id && report.ISMS_Id==exam.ISMS_Id">
                                                    {{exam.ECSTMPS_ObtainedMarks}} / {{exam.ECSTMPS_MaxMarks}}
                                                </span>


                                            </td>
                                        </tr>

                                    </tbody>
                                </table>
                                <div>
                                    <ul>
                                        <li>* Your ward is adviced by the academic counselor to attend the classes regularly in the subject in which he/she has shortage of attendence.</li>
                                        <li>* You are requested to advised your ward to attend the classes Regularly. In this connection kindly make it convenient to meet the undersigned.</li>
                                        <li>* Your ward is regular in attending the Classes.</li>
                                    </ul>
                                </div>
                                <br />

                                <p><b>The performance of your ward is <span><input type="checkbox" /> <span class="lbl padding-8"></span></span>Good <span><input type="checkbox" /> <span class="lbl padding-8"></span></span> Average<span><input type="checkbox" /> <span class="lbl padding-8"></span></span>Poor</b></p>
                                <p><b>You are requested to acknowledge at the earliest.</b></p>
                                <br />
                                <br />
                                <div class="row">
                                    <div class="col-sm-6">
                                        <div class="form-group text-left">
                                            <label class="control-label">Thanking You,</label>
                                        </div>
                                    </div>
                                    <div class="col-sm-6">
                                        <div class="form-group text-right">
                                            <label class="control-label">Yours Sincerely,</label>
                                        </div>
                                    </div>
                                </div>
                                <br />
                                <br />
                                <br />
                                <div class="row">
                                    <div class="col-sm-4">
                                        <div class="form-group text-left">
                                            <label class="control-label">(Prof. Shwetha TM)<br><b>Academic Counselor</b></label>
                                        </div>
                                    </div>
                                    <div class="col-sm-4">
                                        <div class="form-group text-center">
                                            <label class="control-label">(Dr C Nagaraja)<br><b>Head of the Department</b></label>
                                        </div>
                                    </div>
                                    <div class="col-sm-4">
                                        <div class="form-group text-right">
                                            <label class="control-label">(Dr Narendra Viswanath)<br><b>Principal</b></label>
                                        </div>
                                    </div>
                                </div>
                            </div>                                                                                  
                        </div>
                    </div>
                </div>
            </div>
            
        </div>
    </div>

    <!--<div class="text-center">
        <md-button type="submit" class="md-raised md-warn" aria-disabled="false" ng-click="print()">
            <i class="fa fa-print" aria-hidden="true"></i>
            Print
    </div>-->

</section>