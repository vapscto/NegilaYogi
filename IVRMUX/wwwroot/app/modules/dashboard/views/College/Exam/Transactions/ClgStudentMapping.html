<style>
    .padin {
        margin-right: 0px;
    }
</style>

<section class="content">
    <form class="form-horizontal ng-pristine ng-valid" name="myForm" data-ng-submit="saveddata()" role="form" novalidate>
        <div data-ng-init="BindData()">
            <div class="box box-primary">
                <div class="box-header with-border">
                    <h3 class="box-title">Student Mapping</h3>
                    <div class="box-tools pull-right">
                        <button type="button" class="btn btn-box-tool" data-widget="collapse"><i class="fa fa-minus"></i></button>
                    </div>
                </div>
                <div class="box-body">
                    <div class="row">
                        <div class="col-sm-6">
                            <div class="form-group">
                                <label class="control-label col-sm-4">Academic Year :<span style="color:Red">*</span></label>
                                <div class="col-sm-8">
                                    <select class="form-control" id="sm" name="yeardd" ng-model="ASMAY_Id" ng-change="getcourse()" required>
                                        <option value="">Select</option>
                                        <option ng-repeat="year in yearlt" value="{{year.asmaY_Id}}" ng-selected="{{year.Selected == true}}">{{year.asmaY_Year}}</option>
                                    </select>
                                    <div class="error-messages" ng-if="interacted(myForm.yeardd)" ng-messages="myForm.yeardd.$error">
                                        <div ng-message="required">Please Select Academic Year</div>
                                    </div>
                                </div>
                            </div>

                            <div class="form-group">
                                <label class="control-label col-sm-4">Branch:<span style="color:Red">*</span></label>
                                <div class="col-sm-8">
                                    <select class="form-control" id="sel1" name="branc" ng-model="AMB_Id" ng-change="getsemester()" required>
                                        <option value="">--Select--</option>
                                        <option ng-repeat="bran in branch_list" value="{{bran.amB_Id}}" ng-selected="{{bran.Selected==true}}">
                                            {{bran.amB_BranchName}}
                                        </option>
                                    </select>
                                    <div class="error-messages" ng-if="interacted(myForm.branc)" ng-messages="myForm.branc.$error">
                                        <div ng-message="required">Please Select Branch</div>
                                    </div>
                                </div>
                            </div>

                            <div class="form-group">
                                <label class="control-label col-sm-4">Section :<span style="color:Red">*</span></label>
                                <div class="col-sm-8">
                                    <select class="form-control" id="sm" name="secdd" ng-model="ACMS_Id" ng-change="getsubjectgroup()" required>
                                        <option value="">Select</option>
                                        <option ng-repeat="sec in seclist" value="{{sec.acmS_Id}}" ng-selected="{{sec.Selected == true}}">{{sec.acmS_SectionName}}</option>
                                    </select>
                                    <div class="error-messages" ng-if="interacted(myForm.secdd)" ng-messages="myForm.secdd.$error">
                                        <div ng-message="required">Please Select Section</div>
                                    </div>
                                </div>
                            </div>

                        </div>
                        <div class="col-sm-6">
                            <div class="form-group">
                                <label class="control-label col-sm-4">Course:<span style="color:Red">*</span></label>
                                <div class="col-sm-8">
                                    <select class="form-control" id="sel1" name="class" ng-model="AMCO_Id" ng-change="getbranch()" required>
                                        <option value="">--Select--</option>
                                        <option ng-repeat="clas in course_list" value="{{clas.amcO_Id}}" ng-selected="{{clas.Selected==true}}">
                                            {{clas.amcO_CourseName}}
                                        </option>
                                    </select>
                                    <div class="error-messages" ng-if="interacted(myForm.class)" ng-messages="myForm.class.$error">
                                        <div ng-message="required">Please Select Course</div>
                                    </div>
                                </div>
                            </div>

                            <div class="form-group">
                                <label for="sel2" class="control-label col-sm-4">Semester:<span style="color:Red">*</span></label>
                                <div class="col-sm-8">
                                    <select class="form-control" id="seasdasdl1" name="secccmi" ng-model="AMSE_Id" ng-change="getsection()" required>
                                        <option value="">--Select--</option>
                                        <option ng-repeat="semi in semisters_list" value="{{semi.amsE_Id}}" ng-selected="{{semi.Selected==true}}">
                                            {{semi.amsE_SEMName}}
                                        </option>
                                    </select>
                                    <div class="error-messages" ng-if="interacted(myForm.secccmi)" ng-messages="myForm.secccmi.$error">
                                        <div ng-message="required">Please Select Semester</div>
                                    </div>
                                </div>
                            </div>

                            <div class="form-group">
                                <label for="sel2" class="control-label col-sm-4">Subject Group :<span style="color:Red">*</span></label>
                                <div class="col-sm-8">
                                    <select class="form-control" id="sel13" name="sgrpr" ng-model="EMG_Id" ng-change="onchangegrpmaxmin(EMG_Id)" required>
                                        <option value="">--Select--</option>
                                        <option ng-repeat="sgrp in subjectgrp_list" value="{{sgrp.emG_Id}}" ng-selected="{{sgrp.Selected==true}}">
                                            {{sgrp.emG_GroupName}}
                                        </option>
                                    </select>
                                    <div class="error-messages" ng-if="interacted(myForm.sgrpr)" ng-messages="myForm.sgrpr.$error">
                                        <div ng-message="required">Please Select Subject Group</div>
                                    </div>
                                </div>
                            </div>

                        </div>
                        <hr />
                        <div class="row">
                            <div class="col-sm-12">
                                <div class="">
                                    <div class="text-center">
                                        <md-button type="button" class="md-raised md-primary" id="save-btn" ng-click="search_studata()">
                                            <i class="fa fa-search" aria-hidden="true"></i>
                                            Search
                                        </md-button>
                                        <md-button type="button" class="md-raised md-warn" ng-show="!studentlist" data-ng-click="clear()">
                                            <i class="fa fa-times" aria-hidden="true"></i>
                                            Cancel
                                        </md-button>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-sm-12" ng-show="studentlist">
                            <div class="well" style="overflow:scroll;">
                                <div class="row">
                                    <div class="col-sm-4 pull-right">
                                        <div class="form-group" style="margin-right:0px;">
                                            <div class="input-group">
                                                <input class="form-control" ng-model="search" type="text" placeholder="search here...">
                                                <span class="input-group-addon">
                                                    <i class="fa fa-search"></i>
                                                </span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="text-center">
                                    <table class="table table-hover table-responsive table-bordered">
                                        <thead>
                                            <tr>
                                                <th>
                                                    <label>
                                                        <label>
                                                            <input type="checkbox" value="" ng-click="toggleAll()" ng-model="all">
                                                            <span class="lbl padding-8"></span>
                                                        </label>

                                                    </label>
                                                </th>
                                                <th>SL.No.</th>
                                                <th style="width:150px;"><a href="" ng-click="sort('amcsT_Name')">Student</a></th>
                                                <th style="width:75px;"><a href="" ng-click="sort('amcsT_AdmNo')">Adm.No.</a></th>
                                                <th style="width:60px;"><a href="" ng-click="sort('amcsT_RegistrationNo')">Reg.No.</a></th>
                                                <th ng-repeat="column in subjectlt">
                                                    <label>
                                                        <input type="checkbox" value="" ng-click="toggleAll1(column.ismS_Id,all1)" ng-model="all1">
                                                        <span class="lbl padding-8"></span>
                                                    </label>
                                                    {{column.ismS_SubjectName}}
                                                </th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr ng-repeat="user in subjectlt1 | orderBy:sortKey:reverse |filter:search" current-page="currentPage">
                                                <td>
                                                    <label>
                                                        <input type="checkbox" name="adcheckt" value="{{user.xyz}}" ng-change="optionToggled()" ng-model="user.xyz">
                                                        <span class="lbl padding-8"></span>
                                                    </label>
                                                </td>
                                                <td class="text-center">{{$index+1}}</td>
                                                <td class="text-left">{{user.amcsT_Name}}</td>
                                                <td class="text-left">{{user.amcsT_AdmNo}}</td>
                                                <td class="text-left">{{user.amcsT_RegistrationNo}}</td>
                                                <td class="text-center" ng-repeat="column in user.sub_list_view">
                                                    <input type="checkbox" name="adcheckt1" id="check-{{user.amcsT_Id}}" ng-disabled="user.xyz != true"             value="{{column.abc}}" ng-click="subchkbx(column,user)" ng-model="column.abc">
                                                    <span class="lbl padding-8"></span>
                                                </td>
                                                <td hidden="hidden">{{user.amcsT_Id}}</td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                    <hr />
                    <div class="text-center" ng-show="studentlist">
                        <input type="hidden" ng-model="ECSTSU_Id" value="{{estsU_Id}}" />
                        <md-button type="submit" class="md-raised md-primary">
                            <i class="fa fa-floppy-o" aria-hidden="true"></i>
                            Save
                        </md-button>
                        <md-button type="button" class="md-raised md-warn" data-ng-click="clear()">
                            <i class="fa fa-times" aria-hidden="true"></i>
                            Cancel
                        </md-button>
                    </div>
                </div>

            </div>
        </div>
    </form>
</section>