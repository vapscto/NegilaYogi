<link href="css/print/Vikasa/VikasaHallticket.css" rel="stylesheet" />

<section class="content">
    <form class="form-horizontal ng-pristine ng-valid" name="myForm" role="form" ng-init="BindData()" novalidate>

        <div class="box box-primary">
            <div class="box-header with-border">
                <h3 class="box-title">Exam  Hall-Ticket Time Table Setting</h3>
                <div class="box-tools pull-right">
                    <button type="button" class="btn btn-box-tool" data-widget="collapse"><i class="fa fa-minus"></i></button>
                </div>
            </div>
            <div class="box-body">
                <div class="row">
                    <div class="col-sm-6 form-horizontal">
                        <div class="form-group">
                            <label class="control-label col-sm-4">Academic Year :<span style="color:Red">*</span></label>
                            <div class="col-sm-8">
                                <select class="form-control" id="sel1" name="Year" ng-model="ASMAY_Id" data-ng-change="onselectAcdYear(ASMAY_Id)" required>
                                    <option value="" label="Select Academic Year"> </option>
                                    <option ng-repeat="option1 in acdlist" value="{{option1.asmaY_Id}}" ng-selected="{{option1.asmaY_Id == ASMAY_Id}}">
                                        {{option1.asmaY_Year}}
                                    </option>
                                </select>
                            </div>
                            <div class="col-sm-8 col-sm-offset-4 error-messages" ng-if="interacted(myForm.Year)" ng-messages="myForm.Year.$error">
                                <div ng-message="required">Please Select Academic Year</div>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="control-label col-sm-4">Branch:<span style="color:Red">*</span></label>
                            <div class="col-sm-8">
                                <select class="form-control" id="sel1" name="branc" ng-model="AMB_Id" ng-change="OnchangeSemester()" required>
                                    <option value="">--Select--</option>
                                    <option ng-repeat="bran in branch_list" value="{{bran.amB_Id}}" ng-selected="{{bran.amB_Id==AMB_Id}}">
                                        {{bran.amB_BranchName}}
                                    </option>
                                </select>
                                <div class="error-messages" ng-if="interacted(myForm.branc)" ng-messages="myForm.branc.$error">
                                    <div ng-message="required">Please Select Branch</div>
                                </div>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="control-label col-sm-4">Section :<span style="color:Red">*</span></label>
                            <div class="col-sm-8">
                                <select class="form-control" id="sel3" name="sec" ng-model="ACMS_Id" data-ng-change="ViewStudentDetails()" required>
                                    <option value="" label="Select Section"> </option>
                                    <option ng-repeat="option3 in seclist" value="{{option3.acmS_Id}}" ng-selected="{{option3.acmS_Id == ACMS_Id}}">
                                        {{option3.acmS_SectionName}}
                                    </option>
                                </select>
                            </div>
                            <div class="col-sm-8 col-sm-offset-4 error-messages" ng-if="interacted(myForm.sec)" ng-messages="myForm.sec.$error">
                                <div ng-message="required">Please Select Section</div>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="control-label col-sm-4">Subject Scheme:<span style="color:Red">*</span></label>
                            <div class="col-sm-8">
                                <select class="form-control" id="sel12" name="sschemas" ng-change="getsubjectschemetype()" ng-model="ACSS_Id" required>
                                    <option value="">--Select--</option>
                                    <option ng-repeat="sschema in subjectschema_list" value="{{sschema.acsS_Id}}" ng-selected="{{sschema.acsS_Id==ACSS_Id}}">
                                        {{sschema.acsS_SchmeName}}
                                    </option>
                                </select>
                                <div class="error-messages" ng-if="interacted(myForm.sschemas)" ng-messages="myForm.sschemas.$error">
                                    <div ng-message="required">Please Select Subject Scheme</div>
                                </div>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="control-label col-sm-4">From Date :<span style="color:Red">*</span></label>
                            <div class="col-sm-8">
                                <md-datepicker ng-model="myDate1" id="dat1" name="date1" md-placeholder="Enter date" md-min-date="minDatemf" md-max-date="maxDatemf" onkeydown="return false" required></md-datepicker>

                            </div>


                        </div>
                    </div>
                    <div class="col-sm-6 form-horizontal">
                        <div class="form-group">
                            <label class="control-label col-sm-4">Course:<span style="color:Red">*</span></label>
                            <div class="col-sm-8">
                                <select class="form-control" id="sel1" name="class" ng-model="AMCO_Id" ng-change="onselectBranch()" required>
                                    <option value="">--Select--</option>
                                    <option ng-repeat="clas in course_list" value="{{clas.amcO_Id}}" ng-selected="{{clas.amcO_Id==AMCO_Id}}">
                                        {{clas.amcO_CourseName}}
                                    </option>
                                </select>
                                <div class="error-messages" ng-if="interacted(myForm.class)" ng-messages="myForm.class.$error">
                                    <div ng-message="required">Please Select Course</div>
                                </div>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="sel2" class="control-label col-sm-4">Semester:<span style="color:Red">*</span></label>
                            <div class="col-sm-8">
                                <select class="form-control" id="seasdasdl1" name="semi" ng-model="AMSE_Id" ng-change="get_exams()" required>
                                    <option value="">--Select--</option>
                                    <option ng-repeat="semi in semisters_list" value="{{semi.amsE_Id}}" ng-selected="{{semi.amsE_Id==AMSE_Id}}">
                                        {{semi.amsE_SEMName}}
                                    </option>
                                </select>
                                <div class="error-messages" ng-if="interacted(myForm.semi)" ng-messages="myForm.semi.$error">
                                    <div ng-message="required">Please Select Semester</div>
                                </div>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="control-label col-sm-4">Exam Name :<span style="color:Red">*</span></label>
                            <div class="col-sm-8">
                                <select class="form-control" id="sel8" name="exm" ng-model="EME_Id" data-ng-change="ViewStudentDetails()" required>
                                    <option value="" label="Select Exam"> </option>
                                    <option ng-repeat="option8 in examlist" value="{{option8.emE_Id}}" ng-selected="{{option8.emE_Id == EME_Id}}">
                                        {{option8.emE_ExamName}}
                                    </option>
                                </select>
                            </div>
                            <div class="col-sm-8 col-sm-offset-4 error-messages" ng-if="interacted(myForm.exm)" ng-messages="myForm.exm.$error">
                                <div ng-message="required">Please Select Exam</div>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="control-label col-sm-4">Scheme Type:<span style="color:Red">*</span></label>
                            <div class="col-sm-8">
                                <select class="form-control" id="sel165" name="schematype" ng-model="ACST_Id" ng-change="get_subjects()" required>
                                    <option value="">--Select--</option>
                                    <option ng-repeat="scmatype in schmetype_list" value="{{scmatype.acsT_Id}}" ng-selected="{{scmatype.acsT_Id==ACST_Id}}">
                                        {{scmatype.acsT_SchmeType}}
                                    </option>
                                </select>
                                <div class="error-messages" ng-if="interacted(myForm.schematype)" ng-messages="myForm.schematype.$error">
                                    <div ng-message="required">Please Select Scheme Type</div>
                                </div>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="control-label col-sm-4">To Date :<span style="color:Red">*</span></label>
                            <div class="col-sm-8">
                                <md-datepicker ng-model="myDate2" id="dat2" name="date2" md-placeholder="Enter date" md-min-date="minDatemf" md-max-date="maxDatemf" onkeydown="return false" required></md-datepicker>

                            </div>
                        </div>
                    </div>

                </div>
                <div class="col-sm-12">
                    <div class="box box-primary" ng-show="main_list.length>0">
                        <div class="box-header with-border">
                            <h3 class="box-title">Exam Time Table</h3>
                            <div class="box-tools pull-right">
                                <button type="button" class="btn btn-box-tool" data-widget="collapse" data-placement="bottom" data-toggle="tooltip" title="collapsible"><i class="fa fa-minus"></i></button>
                            </div>
                        </div>
                        <!-- /.box-header -->
                        <div class="box-body" id="table">
                            <div style="padding-bottom:50px;">
                                <table class="table table-bordered">
                                    <thead>
                                        <tr>
                                            <th><a href="">Select</a></th>
                                            <th><a href="">Exam Date</a></th>
                                            <th><a href="">Time Slot</a></th>
                                            <th><a href="">Subject</a></th>
                                            <th> Reporting Time </th>
                                            <!--<th><a href="">SubSubject</a></th>-->
                                        </tr>
                                    </thead>
                                    <tbody ng-repeat="exm in main_list">
                                        <tr>
                                            <td>
                                                <label>
                                                    <input type="checkbox" ng-model="exm.check_save" ng-true-value="1" ng-false-value="0">
                                                    <span class="lbl padding-8"></span>
                                                </label>
                                            </td>
                                            <td>
                                                <md-datepicker ng-model="exm.exttS_Date" id="dat{{exm.ismS_Id}}" name="date_{{exm.ismS_Id}}" md-placeholder="Enter date" md-min-date="myDate1" md-max-date="myDate2" onkeydown="return false" ng-required="exm.check_save"></md-datepicker>
                                                <div class="col-sm-8 col-sm-offset-4 error-messages" ng-if="interacted(myForm['date_'+exm.ismS_Id])" ng-messages="myForm['date_'+exm.ismS_Id].$error">
                                                    <div ng-message="required">Enter Date</div>
                                                </div>
                                            </td>
                                            <td>
                                                <select class="form-control" id="sel13" name="slot_{{exm.ismS_Id}}" ng-model="exm.ettS_Id" ng-required="exm.check_save">
                                                    <option value="">--Select Time Slot-- </option>
                                                    <option ng-repeat="option13 in time_slot" value="{{option13.ettS_Id}}" ng-selected="{{exm.ettS_Id == option13.ettS_Id}}">
                                                        {{option13.ettS_SessionName}}
                                                    </option>
                                                </select>
                                                <div class="col-sm-8 col-sm-offset-4 error-messages" ng-if="interacted(myForm['slot_'+exm.ismS_Id])" ng-messages="myForm['slot_'+exm.ismS_Id].$error">
                                                    <div ng-message="required">Enter TimeSlot</div>
                                                </div>
                                            </td>
                                            <td class="text-left padding-left-5">
                                                {{exm.ismS_SubjectName}}

                                            </td>
                                            <td>
                                                <div uib-timepicker name="StartTime" ng-model="exm.ETTS_StartTime" hour-step="hstep" minute-step="mstep" ng-disabled="timedis" show-meridian="ismeridian"></div>

                                            </td>

                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-sm-12">
                        <div class="form-group" style="text-align:center">
                            <input type="text" class="hidden" ng-model="EXTTC_Id" />
                            <md-button type="submit" class="md-raised md-primary" ng-click="report()">
                                <i class="fa fa-floppy-o" aria-hidden="true"></i>
                                SAVE
                            </md-button>
                            <md-button type="button" class="md-raised md-warn" ng-click="cancel()">
                                <i class="fa fa-times" aria-hidden="true"></i>
                                Cancel
                            </md-button>
                            <md-button type="submit" class="md-raised md-primary" ng-click="printData()" ng-show="printdata">
                                <i class="fa fa-floppy-o" aria-hidden="true"></i>
                                Print
                            </md-button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="box box-primary" ng-show="alldata.length > 0">
            <div class="box-header with-border">
                <h3 class="box-title">Hall Ticket Generated Details</h3>
                <div class="box-tools pull-right">
                    <button type="button" class="btn btn-box-tool" data-widget="collapse" data-placement="bottom" data-toggle="tooltip" title="collapsible"><i class="fa fa-minus"></i></button>
                </div>
            </div>
            <div class="box-body">
                <div class="row">
                    <div class="col-sm-12">
                        <div class="col-sm-4">
                            <div class="form-group">
                                <label class="control-label">
                                    <b> Total Grid Records :</b>
                                    <label class="badge">
                                        {{alldata.length}}
                                    </label>
                                </label>
                            </div>
                        </div>
                        <div class="col-sm-4">
                            <div class="form-group" ng-if="searchValue1!=''">
                                <label class="control-label">
                                    <b>Total Records Searched : </b>
                                    <label class="badge">
                                        {{filterValue1.length}}
                                    </label>
                                </label>
                            </div>
                        </div>
                        <div class="col-sm-4 pull-right">
                            <div class="form-group">
                                <div class="input-group">
                                    <span class="input-group-addon">
                                        <i class="fa fa-search"></i>
                                    </span>
                                    <input class="form-control" ng-model="searchValue1" type="text" placeholder="search here...">
                                </div>
                            </div>
                        </div>
                    </div>

                </div>
                <table class="table table-hover table-responsive table-bordered text-center">
                    <thead>
                        <tr>
                            <th>
                                SL.No
                            </th>
                            <th>Academic Year</th>
                            <th>
                                Course
                            </th>
                            <th>
                                Branch
                            </th>
                            <th>
                                Semester
                            </th>

                            <th>
                                Exam Name
                            </th>
                            <th>
                                From Date
                            </th>
                            <th>
                                To Date
                            </th>
                            <th>Action</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr dir-paginate="user in filterValue1 = (alldata | filter : searchValue1)  | orderBy:propertyName:reverse |itemsPerPage:itemsPerPage" current-page="currentPage" ng-class-odd="'odd'">
                            <td>{{itemsPerPage *(currentPage-1)+$index+1}}</td>
                            <td>
                                {{user.ASMAY_Year}}
                            </td>
                            <td>
                                {{user.AMCO_CourseName}}
                            </td>
                            <td>
                                {{user.AMB_BranchName}}
                            </td>
                            <td>
                                {{user.AMSE_SEMName}}
                            </td>

                            <td>
                                {{user.EME_ExamName}}
                            </td>
                            <td>
                                {{user.EXTTC_FromDateTime |date:'dd/MM/yyyy'}}
                            </td>
                            <td>
                                {{user.EXTTC_ToDateTime |date:'dd/MM/yyyy'}}
                            </td>
                            <!--<td>
                                <span ng-if="user.EXTTC_ActiveFlag === false">
                                    <a href="" ng-click="Decative(user)" class="text-green" data-placement="bottom" data-toggle="tooltip" title="Deactivate">
                                        <i> Activate</i>
                                    </a>
                                </span>
                                <span ng-if="user.EXTTC_ActiveFlag===true">
                                    <a href="" ng-click="Decative(user)" class="text-danger" data-placement="bottom" data-toggle="tooltip" title="Deactivate">
                                        <i> Deactivate</i>
                                    </a>
                                </span>
                            </td>-->
                            <td class="text-center">
                                <span ng-if="user.EXTTC_ActiveFlag == true">
                                    <a class="text-aqua" href="" ng-click="edit(user)" data-placement="bottom" data-toggle="tooltip" title="Edit">
                                        <i class="fa fa-pencil-square-o" aria-hidden="true"></i>
                                    </a>
                                    <a href="" ng-click="Deletedata(user)"
                                       class="text-danger" data-placement="bottom" data-toggle="tooltip" title="Deactivate">
                                        <i> Deactivate</i>
                                    </a>
                                </span>
                                <span ng-if="user.EXTTC_ActiveFlag == false">
                                    <a href="" ng-click="Deletedata(user)"
                                       class="text-green" data-placement="bottom" data-toggle="tooltip" title="Activate">
                                        <i> Activate </i>
                                    </a>
                                </span>

                            </td>
                        </tr>
                    </tbody>
                </table>
                <dir-pagination-controls max-size="5"
                                         direction-links="true"
                                         boundary-links="true">
                </dir-pagination-controls>
            </div>
        </div>
    </form>
</section>