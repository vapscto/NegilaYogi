
<link href="./css/portals/PortalsStyles.css" rel="stylesheet" />
<section class="content" data-ng-init="LoadData();">
    <div class="box box-primary">
        <div class="box-header with-border">
            <h3 class="box-title">Schedule Meeting</h3>
            <div class="box-tools pull-right">
                <button type="button" class="btn btn-box-tool" data-widget="collapse"><i class="fa fa-minus"></i></button>
            </div>
        </div>
        <form class="form-horizontal ng-pristine ng-valid" role="form" name="myForm" data-ng-submit="GetReport()" novalidate>
            <div class="box-body">
                <div class="well">
                    <div class="row">

                        <div class="col-sm-6">
                            <div class="form-group">
                                <label class="control-label col-sm-4">Meeting Topic:</label>
                                <div class="col-sm-8">
                                    <textarea class="form-control" style="width: 100%;" rows="4" id="deff" ng-model="LMSLMEET_MeetingTopic" name="Description" required></textarea>
                                    <div class="error-messages" ng-if="interacted(myForm.Description)" ng-messages="myForm.Description.$error">
                                        <div ng-message="required">Enter Meeting Topic</div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="col-sm-6">
                            <div class="form-group">
                                <label class="control-label col-sm-5">Scheduled Date:<strong style="color:red;display:inline; font-weight: bolder; margin-left: 7px;">*</strong></label>

                                <div class="col-sm-2 input-group text-right" style="">
                                    <md-datepicker ng-model="LMSLMEET_PlannedDate" onkeydown="return false" name="From_Date" md-max-date="maxDatemf" id="date1" md-placeholder="Enter  date" required></md-datepicker>
                                    <div class="error-messages" ng-if="interacted(myForm.From_Date)" ng-messages="myForm.From_Date.$error">
                                        <div ng-message="required"> Select From date</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-sm-6">
                            <div class="form-group">
                                <label class="control-label col-sm-5" style="padding-top:7%;">Schedule Start Time : <strong style="color:red;">*</strong></label>
                                <div class="col-sm-7">
                                    <!--<div uib-timepicker="" name="sch_time1" ng-model="FOMST_IHalfLoginTime" show-meridian="ismeridian"  required></div>-->
                                    <div uib-timepicker name="sch_time1" ng-model="FOMST_IHalfLoginTime" ng-change="validateTomintime(FOMST_IHalfLoginTime)" hour-step="hstep" minute-step="mstep" ng-disabled="timedis" show-meridian="ismeridian" required></div>
                                    <div class="error-messages" ng-if="interacted(myForm.sch_time1)" ng-messages="myForm.sch_time1.$error">
                                        <div ng-message="required">Select Schedule Start Time</div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="col-sm-6">
                            <div class="form-group">
                                <label class="control-label col-sm-5" style="padding-top:7%;">Schedule End Time : <strong style="color:red;">*</strong></label>
                                <div class="col-sm-7">
                                    <!--<div uib-timepicker="" name="sch_time2" ng-model="FOMST_IIHalfLogoutTime" show-meridian="ismeridian" required></div>-->
                                    <div uib-timepicker name="sch_time2" ng-model="FOMST_IIHalfLogoutTime" min="min" ng-change="validatemax(FOMST_IIHalfLogoutTime)" hour-step="hstep" minute-step="mstep" ng-disabled="timedis" show-meridian="ismeridian" required></div>
                                    <div class="error-messages" ng-if="interacted(myForm.sch_time2)" ng-messages="myForm.sch_time2.$error">
                                        <div ng-message="required">Select Schedule End Time</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="well">
                    <div class="row">
                        <div class="col-sm-12">
                            <div class="well">
                                <div class="text-center" ng-init="stud=true">
                                    <label class="radio-inline">
                                        <input name="optradio3111" type="checkbox" data-ng-model="stud"  >
                                        <span class="lbl padding-8">STUDENT</span>
                                    </label>
                                    <label class="radio-inline">
                                        <input name="optradio3111" type="checkbox" data-ng-model="stf" >
                                        <span class="lbl padding-8">STAFF</span>
                                    </label>

                                </div>
                                <div class="error-messages" ng-if="interacted(myForm.optradio31)" ng-messages="myForm.optradio31.$error">
                                    <div ng-message="required">Select any one of the radio button</div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-sm-8" ng-show="stud==true">
                            <div class="well">
                                <div class="row">
                                    <div class="col-sm-7 col-sm-offset-1">
                                        <div class="form-group">

                                            <label class="control-label col-sm-4">Academic Year :</label>
                                            <div class="col-sm-8">
                                                <select class="form-control" value="asmaY_Id" id="sm" name="year" ng-model="asmaY_Id" ng-change="OnAcdyear(asmaY_Id)" ng-required="stud==true">
                                                    <option value="">Select Academic Year</option>
                                                    <option ng-repeat="year in yearlt" value="{{year.asmaY_Id}}" ng-selected="year.asmaY_Id == asmaY_Id">{{year.asmaY_Year}}</option>
                                                </select>
                                                <div class="error-messages" ng-if="interacted(myForm.year)" ng-messages="myForm.year.$error">
                                                    <div ng-message="required"> Select Academic Year</div>
                                                </div>
                                            </div>

                                        </div>
                                    </div>

                                    <div class="col-sm-6">




                                        <div class="form-group">
                                            <label class="control-label col-sm-12">COURSE :<strong style="color:red;display:inline; font-weight: bolder; margin-left: 1px;">*</strong></label>
                                            <div class="multiselect col-sm-12" style="height:122px !important;width:20.1em;">
                                                <input class="form-control" ng-model="searchchkbx" type="text" placeholder="search here...">
                                                <!--<label>
                        <input name="stdd" value="1" ng-model="usercheck" type="checkbox" data-ng-click="all_check()">
                        <span class="lbl padding-8">
                            All
                        </span>
                    </label>-->
                                                <label data-ng-model="ASMCL_Id" ng-repeat="class in course_list |filter:filterchkbx" value="{{class.amcO_Id}}">
                                                    <input name="clsss" value="1" data-ng-model="class.select" type="checkbox" ng-click="togchkbx();" ng-required="isOptionsRequiredcls()">
                                                    <!--ng-required="isOptionsRequired()"-->
                                                    <span class="lbl padding-8">
                                                        {{class.amcO_CourseName}}
                                                    </span>
                                                </label>
                                            </div>

                                            <div class="error-messages col-sm-8 col-sm-offset-3" ng-if="interacted(myForm.clsss)" ng-messages="myForm.clsss.$error">
                                                <div ng-message="required" style="color:red">Select Course</div>
                                            </div>

                                        </div>








                                        <div class="form-group">
                                            <label class="control-label col-sm-12">SEM :<strong style="color:red;display:inline; font-weight: bolder; margin-left: 1px;">*</strong></label>
                                            <div class="multiselect col-sm-12" style="height:122px !important;width:20.1em;">
                                                <input class="form-control" ng-model="smsearchchkbx" type="text" placeholder="search here...">

                                                <label data-ng-model="amsE_Id" ng-repeat="class in semisterlist |filter:smfilterchkbx" value="{{class.amsE_Id}}">
                                                    <input name="smclsss" value="1" data-ng-model="class.select" type="checkbox" ng-click="smtogchkbx();" ng-required="smisOptionsRequiredcls()">
                                                    <!--ng-required="isOptionsRequired()"-->
                                                    <span class="lbl padding-8">
                                                        {{class.amsE_SEMName}}
                                                    </span>
                                                </label>
                                            </div>

                                            <div class="error-messages col-sm-8 col-sm-offset-3" ng-if="interacted(myForm.smclsss)" ng-messages="myForm.smclsss.$error">
                                                <div ng-message="required" style="color:red">Select Sem</div>
                                            </div>

                                        </div>





                                        <div class="form-group">
                                            <label class="control-label col-sm-12">SUBJECT :<strong style="color:red;display:inline; font-weight: bolder; margin-left: 1px;">*</strong></label>
                                            <div class="multiselect col-sm-12" style="height:122px !important;width:20.1em;">
                                                <input class="form-control" ng-model="searchchkbx231" type="text" placeholder="search here...">

                                                <label data-ng-model="ASMS_Id" ng-repeat="sectn in subjlist |filter:filterchkbx231" value="{{sectn.ismS_Id}}">
                                                    <input name="sectionnam11" value="1" data-ng-model="sectn.select" type="checkbox" ng-click="togchkbx231();" ng-required="isOptionsRequiredsub()">
                                                    <!--ng-required="isOptionsRequired23()"-->
                                                    <span class="lbl padding-8">
                                                        {{sectn.ismS_SubjectName}}
                                                    </span>
                                                </label>
                                            </div>

                                            <div class="error-messages col-sm-8 col-sm-offset-3" ng-if="interacted(myForm.sectionnam11)" ng-messages="myForm.sectionnam11.$error">
                                                <div ng-message="required" style="color:red">Select subject</div>
                                            </div>

                                        </div>
                                    </div>

                                    <div class="col-sm-6">
                                        <div class="form-group">
                                            <label class="control-label col-sm-12">BRANCH :<strong style="color:red;display:inline; font-weight: bolder; margin-left: 1px;">*</strong></label>
                                            <div class="multiselect col-sm-12" style="height:122px !important;width:20.1em;">
                                                <input class="form-control" ng-model="brsearchchkbx" type="text" placeholder="search here...">

                                                <label data-ng-model="ASMCL_Id" ng-repeat="class in branchlist |filter:brfilterchkbx" value="{{class.amB_Id}}">
                                                    <input name="brclsss" value="1" data-ng-model="class.select" type="checkbox" ng-click="brtogchkbx();" ng-required="brisOptionsRequiredcls()">
                                                    <!--ng-required="isOptionsRequired()"-->
                                                    <span class="lbl padding-8">
                                                        {{class.amB_BranchName}}
                                                    </span>
                                                </label>
                                            </div>

                                            <div class="error-messages col-sm-8 col-sm-offset-3" ng-if="interacted(myForm.brclsss)" ng-messages="myForm.brclsss.$error">
                                                <div ng-message="required" style="color:red">Select Branch</div>
                                            </div>

                                        </div>
                                        <div class="form-group">
                                            <label class="control-label col-sm-12">SECTION  :<strong style="color:red;display:inline; font-weight: bolder; margin-left: 1px;">*</strong></label>
                                            <div class="multiselect col-sm-12" style="height:122px !important;width:20.1em;">
                                                <input class="form-control" ng-model="searchchkbx23" type="text" placeholder="search here...">
                                                <!--<label>
                        <input name="stdd" value="1" ng-model="usercheck23" type="checkbox" data-ng-click="all_check23()">
                        <span class="lbl padding-8">
                            All
                        </span>
                    </label>-->
                                                <label data-ng-model="ASMS_Id" ng-repeat="sectn in sectionList |filter:filterchkbx23" value="{{sectn.acmS_Id}}">
                                                    <input name="sectionnam" value="1" data-ng-model="sectn.select" type="checkbox" ng-click="togchkbx23();" ng-required="isOptionsRequiredsec()">
                                                    <!--ng-required="isOptionsRequired23()"-->
                                                    <span class="lbl padding-8">
                                                        {{sectn.acmS_SectionName}}
                                                    </span>
                                                </label>
                                            </div>

                                            <div class="error-messages col-sm-8 col-sm-offset-3" ng-if="interacted(myForm.sectionnam)" ng-messages="myForm.sectionnam.$error">
                                                <div ng-message="required" style="color:red">Select Section</div>
                                            </div>

                                        </div>
                                    </div>
                                </div>
                            </div>
                            </div>
                        


                        <div class="col-sm-4" ng-show="stf==true">
                            <div class="well">
                               
                                <div class="form-group">
                                    <label class="control-label col-sm-12">STAFF NAME :<strong style="color:red;display:inline; font-weight: bolder; margin-left: 1px;">*</strong></label>
                                    <div class="multiselect col-sm-12" style="height:450px !important;width: 20.1em;">
                                        <input class="form-control" ng-model="searchchkbx5" type="text" placeholder="search here...">
                                       
                                        <label data-ng-model="ASMCL_Id" ng-repeat="class in stafflist |filter:filterchkbx5" value="{{class.hrmE_Id}}">
                                            <input name="clsss12" value="1" data-ng-model="class.select" type="checkbox" ng-required="isOptionsRequiredcls1()">
                                            <!--ng-required="isOptionsRequired()"-->
                                            <span class="lbl padding-8">
                                                {{class.hrmE_EmployeeFirstName}}
                                            </span>
                                        </label>
                                    </div>

                                    <div class="error-messages col-sm-8 col-sm-offset-3" ng-if="interacted(myForm.clsss12)" ng-messages="myForm.clsss12.$error">
                                        <div ng-message="required" style="color:red">Select Staff</div>
                                    </div>

                                </div>


                               
                            </div>
                        </div>
                    </div>
                        </div>
                        <hr>
                        <div class="text-center">
                            <input type="hidden" ng-model="LMSLMEET_Id" value="{{LMSLMEET_Id}}" />
                            <md-button type="submit" class="md-raised md-primary" ng-disabled="form.$invalid" id="save-btn" aria-disabled="false">
                                <i class="fa fa-floppy-o" aria-hidden="true"></i>
                                SAVE
                            </md-button>
                            <md-button type="button" class="md-raised md-warn" data-ng-click="cleardata()">
                                <i class="fa fa-times" aria-hidden="true"></i>
                                CLEAR
                            </md-button>
                        </div>
                    </div>


</form>

    </div>
    <div class="box box-primary" ng-show="meetinglist.length>0">
        <div class="box-header with-border">
            <h3 class="box-title">Meeting Details</h3>
            <div class="box-tools pull-right">
                <button type="button" class="btn btn-box-tool" data-widget="collapse"><i class="fa fa-minus"></i></button>
            </div>
        </div>       
        <div class="box-body">
            <div class="box-body">
                <div class="row">
                    <div class="col-sm-4">
                        <div class="form-group">
                            <label class="control-label">
                                <b> Total Grid Records :</b>
                                <label class="badge">
                                    {{meetinglist.length}}
                                </label>
                            </label>
                        </div>
                    </div>
                    <div class="col-sm-4">
                        <div class="form-group" ng-if="searchValue!=''">
                            <label class="control-label">
                                <b>Total Records Searched : </b>
                                <label class="badge">
                                    {{filterValue1.length}}
                                </label>
                            </label>
                        </div>
                    </div>
                    <div class="col-sm-4 pull-right">
                        <div class="form-group">
                            <div class="input-group">

                                <input class="form-control" ng-model="searchValue" type="text" placeholder="search here...">
                            </div>
                        </div>
                    </div>
                </div>
                <table class="table table-hover table-responsive table-bordered text-center">
                    <thead>
                        <tr>
                            <th><a href="">SL.No.</a></th>
                            <th><a href="" ng-click="sort('trhG_HirerGroup')">Meeting ID</a></th>
                            <th><a href="" ng-click="sort('trmH_HirerName')">Meeting Topic</a> </th>
                            <th><a href="" ng-click="sort('trmH_ConatctPerName')">Meeting PlanDate </a></th>
                            <th><a href="" ng-click="sort('trmH_ContactPersonDesg')">Schedule Start Time</a></th>
                            <th><a href="" ng-click="sort('trmH_ContactPersonDesg')">Schedule End Time</a></th>
                            
                            <th>Action</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr dir-paginate="user in filterValue1 = (meetinglist | filter : searchValue)  |orderBy:sortKey:sortReverse |itemsPerPage:itemsPerPage" current-page="currentPage" ng-class-odd="'odd'">
                            <td>{{itemsPerPage *(currentPage-1)+$index+1}}</td>
                            <td style="text-align:left">{{user.lmslmeeT_MeetingId}}</td>
                            <td style="text-align:left">{{user.lmslmeeT_MeetingTopic}}</td>
                            <td>{{user.lmslmeeT_PlannedDate | date:'dd/MM/yyyy'}}</td>
                            <td>{{user.lmslmeeT_PlannedStartTime}}</td>
                            <td>{{user.lmslmeeT_PlannedEndTime}}</td>
                         
                            <td class="text-center" >
                                <span ng-show="user.lmslmeeT_EndTime==null || user.lmslmeeT_EndTime==''"></span>
                                <a class="text-aqua" href="" ng-click="edit(user)" data-placement="bottom" data-toggle="tooltip" title="Edit">
                                    <i class="fa fa-pencil-square-o" aria-hidden="true"></i>
                                </a>
                               
                                
                                <span ng-show="(user.lmslmeeT_EndTime==null || user.lmslmeeT_EndTime=='') && user.lmslmeeT_MeetingDate ==null">
                                    <span ng-if="user.lmslmeeT_ActiveFlg === false">
                                        <a href="" ng-click="deactive(user)"
                                           class="text-green" data-placement="bottom" data-toggle="tooltip" title=" Re-Schedule Meeting">
                                            <i>| &nbsp; Re-Schedule </i>
                                        </a>
                                    </span>
                                    <span ng-if="user.lmslmeeT_ActiveFlg === true">
                                        <a href="" ng-click="deactive(user)"
                                           class="text-danger" data-placement="bottom" data-toggle="tooltip" title="Cancel Meeting">
                                            <i> | &nbsp; Cancel</i>
                                        </a>
                                    </span>
                                </span>
                              
                            </td>
                        </tr>
                    </tbody>
                </table>
                <dir-pagination-controls max-size="5"
                                         direction-links="true"
                                         boundary-links="true">
                </dir-pagination-controls>
            </div>
        </div>
    </div>

   

</section>