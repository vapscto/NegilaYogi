<STYLE>
    .tableheader {
        font-size: 16px !important;
        table-layout: fixed;
        border: 0px !important;
        text-align: left !important;
        line-height: 1.4;
        /*line-height: 1;*/
    }

    div.scrollTable {
        overflow: auto;
        /*white-space: nowrap;*/
    }

        div.scrollTable a {
            display: inline-block;
            color: white;
            text-align: center;
            padding: 14px;
            text-decoration: none;
        }

            div.scrollTable a:hover {
                background-color: #777;
            }
</STYLE>


<div data-ng-init="loaddata()">
    <section class="content twocoloumn">
        <form class="form-horizontal ng-pristine ng-valid" role="form" name="myForm" novalidate>
            <div class="box box-primary">
                <div class="box-header with-border">
                    <h3 class="box-title">PDA Summary Report</h3>
                    <div class="box-tools pull-right">
                        <button type="button" class="btn btn-box-tool" data-widget="collapse"><i class="fa fa-minus" ng-click="ShowHideup()"></i></button>
                    </div>
                </div>
                <div class="box-body">


                    <!--<div class="row">
                        <div class="col-sm-10 col-sm-offset-1">
                            <div class="well">
                                <div class="text-center" ng-init="type='Ind'">
                                    <label class="radio-inline">
                                        <input name="optradio" type="radio" data-ng-model="type" value="Ind" data-ng-click="onclickloaddata()" required>
                                        <span class="lbl padding-8">Individual</span>
                                    </label>
                                    <label class="radio-inline">
                                        <input name="optradio" type="radio" data-ng-model="type" value="All" data-ng-click="onclickloaddata()" required>
                                        <span class="lbl padding-8">All</span>
                                    </label>

                                </div>
                                <div class="error-messages" ng-if="interacted(myForm.optradio)" ng-messages="myForm.optradio.$error">
                                    <div ng-message="required">Select any one of the radio button</div>
                                </div>
                            </div>
                        </div>
                    </div>-->

                    <div class="row">
                        <div class="col-sm-6">
                            <div class="form-group">
                                <label class="control-label col-sm-5">Academic Year:<span style="color:red;">*</span></label>
                                <div class="col-sm-7">
                                    <select class="form-control" id="sel1" ng-model="asmaY_Id" name="acd_year" required>
                                        <option value="">Select Year</option>
                                        <option ng-repeat="options in acdyr" value="{{options.asmaY_Id}}" ng-selected="{{option.Selected == true}}">{{options.asmaY_Year}}</option>
                                    </select>
                                    <div class="error-messages" ng-if="interacted(myForm.acd_year)" ng-messages="myForm.acd_year.$error">
                                        <div ng-message="required">Please Select the Academic Year</div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="col-sm-6">
                            <div class="form-group">
                                <label class="control-label col-sm-5">Class:<span style="color:red;">*</span></label>
                                <div class="col-sm-7">
                                    <select class="form-control" id="sel1" ng-model="asmcL_Id" name="acd_year" data-ng-change="onselectclass()" required>
                                        <option value="">Select Class</option>
                                        <option ng-repeat="options in classcount" value="{{options.asmcL_Id}}" ng-selected="{{option.Selected == true}}">{{options.asmcL_ClassName}}</option>
                                        <!--<option value="0">--All--</option>-->
                                    </select>
                                   
                                    <div class="error-messages" ng-if="interacted(myForm.acd_year)" ng-messages="myForm.acd_year.$error">
                                        <div ng-message="required">Please Select the Class</div>
                                    </div>
                                </div>

                            </div>
                        </div>
                    </div>


                    <div class="row">
                        <div class="col-sm-6">
                            <div class="form-group">
                                <label class="control-label col-sm-5">Section :<strong style="color:red;display:inline; font-weight: bolder; margin-left: 7px;">*</strong></label>
                                <div class="col-sm-7">
                                    <select class="form-control" ng-model="asmC_Id" name="section" data-ng-change="onselectsection()" ng-required="section">
                                        <option value="">Select Section</option>
                                        <option ng-repeat="option in sectioncount" value="{{option.amsC_Id}}" ng-selected="{{option.Selected == true}}">
                                            {{option.asmc_sectionname}}
                                        </option>
                                        <option value="0">--All--</option>
                                    </select>
                                    <div class="error-messages" ng-if="interacted(myForm.section)" ng-messages="myForm.section.$error">
                                        <div ng-message="required">Please Select Student</div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!--<div class="col-sm-6">
                            <div class="form-group" ng-show="type=='Ind'">
                                <label class="control-label col-sm-5">Student Name:<span style="color:Red">*</span></label>
                                <div class="col-sm-7">
                                    <ui-select id="sel1" name="studentname" ng-model="$parent.AMST_Id" ng-disabled="BokStud" theme="bootstrap" ng-keyup="searchfilter1($select);" ng-change="get_Studentdetails($parent.AMST_Id)" title="Select book">
                                        <ui-select-match ng-trim="false" placeholder="Select or search Student Name..."> {{$select.selected.amsT_AdmNo}}::{{$select.selected.amsT_FirstName}}</ui-select-match>
                                        <ui-select-choices repeat="user in studlist | filter: $select.search" value="{{user.amsT_Id}}" ng-selected="{{user.Selected == true}}">
                                            <div ng-bind-html="(user.amsT_AdmNo)+'::'+(user.amsT_FirstName) | highlight: $select.search"></div>
                                        </ui-select-choices>
                                    </ui-select>
                                    <label id="upnme11" ng-show="updateshowlabel1">{{updatename}}</label>
                                    <div class="error-messages" ng-if="interacted(myForm.stud)" ng-messages="myForm.stud.$error">
                                        <div ng-message="required">Please Select Student Name</div>
                                    </div>
                                </div>
                            </div>
                        </div>-->
                    </div>

                    <!--<div class="row">
                        <div class="col-sm-6">
                            <div class="form-group" id="frmdt">
                                <label class="control-label col-sm-5">From Date:<span style="color:red;">*</span></label>
                                <div class="col-sm-5 input-group text-right" style="">
                                    <md-datepicker ng-model="fromDate" md-min-date="minDatemf" md-max-date="maxDatemf" onkeydown="return false" name="From_Date" id="date1" md-placeholder="Enter  date" required></md-datepicker>
                                </div>
                                <div class="error-messages" ng-if="interacted(myForm.From_Date)" ng-messages="myForm.From_Date.$error">
                                    <div ng-message="required" style="margin-left:195px;">Please Select Date</div>
                                </div>
                            </div>
                        </div>
                        <div class="col-sm-6">
                            <div class="form-group" id="frmdt">
                                <label class="control-label col-sm-5">To Date:<span style="color:red;">*</span></label>

                                <div class="col-sm-5 input-group text-right">
                                    <md-datepicker ng-model="todate" onkeydown="return false"
                                                   md-min-date="minDatemf" md-max-date="maxDatemf" name="To_Date" id="date2" md-placeholder="Enter  date" required></md-datepicker>
                                </div>
                                <div class="error-messages" ng-if="interacted(myForm.To_Date)" ng-messages="myForm.To_Date.$error">
                                    <div ng-message="required" style="margin-left:195px;">Please Select Date</div>
                                </div>
                            </div>
                        </div>

                    </div>-->
                    <hr />
                    <div class="text-center">
                        <md-button type="submit" class="md-raised md-primary" ng-disabled="form.$invalid" id="save-btn" ng-click="ShowReport(fmG_Id, asmaY_Id, fromDate,rpttyp,result,status,due)">
                            <i class="fa fa-edit" aria-hidden="true"></i>
                            Report
                        </md-button>
                        <md-button type="button" class="md-raised md-warn" id="clear-btn" ng-click="clear_feedef()">
                            <i class="fa fa-times" aria-hidden="true"></i>
                            Cancel
                        </md-button>

                        <md-button type="button" ng-click="printToCart('Baldwin')" class="md-raised md-primary">
                            <i class="fa fa-print" aria-hidden="true"></i>
                            print
                        </md-button>
                    </div>
                </div>
            </div>

            <div class="box box-primary" ng-show="Grid_view">
                <!--ng-show="EmployeeDis"-->
                <div class="box-header with-border">
                    <h3 class="box-title">PDA Summarry Report</h3>
                    <div class="box-tools pull-right">
                        <button type="button" class="btn btn-box-tool" data-widget="collapse" data-placement="bottom" data-toggle="tooltip" title="collapsible"><i class="fa fa-minus"></i></button>
                    </div>
                </div>
                <!-- /.box-header -->
                <div class="box-body">
                    <div class="PFChallan" id="Baldwin">
                        <div id="PFChallan">
                            <div class="margin-top-20 margin-bottom-10">

                                <div class="baldwin text-center">
                                    <img src="{{imgname}}" class="img-responsive" alt="baldwin">
                                    <!--<img src="images/Boldwin Boys.png" class="img-responsive" />-->
                                </div>
                                <br />
                                <center>
                                    <div>
                                        <table>
                                            <tbody>
                                                <tr style="text-align:center;font-size:20px;margin-left:5px">
                                                    <td><b>PDA Consolidated Report for {{year}}</b></td>
                                                </tr>
                                            </tbody>

                                        </table>
                                    </div>
                                </center>
                            </div>
                            <div class="scrollTable">
                                <div id="Table" class="margin-top-20 margin-bottom-10">
                                    <table class="table-bordered text-center margin-bottom-10">
                                        <thead>
                                            <tr>
                                                <th rowspan="2">Sl.No</th>
                                                <th rowspan="2">Adm No</th>
                                                <th rowspan="2">Student Name</th>
                                                <th rowspan="2">Class:Section</th>
                                                <th colspan="2">Opening Balance</th>
                                                <th colspan="{{earnlen-2}}">PDA Heads</th><!-- Earning heads-->
                                                <th colspan="{{dedlen-1}}">Stores</th><!--deduction heads -->
                                                <th rowspan="2">Fee Concession</th>
                                                <th rowspan="2">Total Expenses</th>
                                                <th rowspan="2">Deposit</th>
                                                <th rowspan="2">Balance</th>
                                                <th rowspan="2">Refund</th>
                                            </tr>
                                            <tr>
                                                <th>Student Due</th>
                                                <th>School Due</th>
                                                <th ng-repeat="pdacolumn in pdaheadlist" ng-if="pdacolumn.pdaR_RefundRemarks!='KANNADA COACHING' && pdacolumn.pdaR_RefundRemarks!='EXTRA STAFF SALARY'">{{pdacolumn.pdaR_RefundRemarks}}</th>
                                                <th ng-repeat="invcolumn in invheadlist" ng-if="invcolumn.invmG_GroupName!='PUBLICATION SECTION'">{{invcolumn.invmG_GroupName}}</th>
                                            </tr>
                                        </thead>
                                        <!--pdamH_HeadName-->
                                        <tbody>
                                            <tr ng-repeat="employee in reportinv">
                                                <td style="text-align:right">{{$index +1}}</td>
                                                <td class="text-left">{{employee.AMST_AdmNo}}</td>
                                                <td class="text-center">{{employee.AMST_FirstName}}</td>
                                                <td class="text-left">{{employee.ASMCL_ClassName}}-{{employee.ASMC_SectionName}}</td>
                                                <td>
                                                    <label ng-repeat="invdOB in reportob" ng-if="invdOB.AMST_Id==employee.AMST_Id && invdOB.AMST_Id">

                                                        {{invdOB.PDAS_OBStudentDue}}
                                                    </label>
                                                </td>
                                                <td >
                                                    <label ng-repeat="invdOB in reportob" ng-if="invdOB.AMST_Id==employee.AMST_Id && invdOB.AMST_Id">
                                                        {{invdOB.PDAS_OBExcessPaid}}
                                                    </label>
                                                </td>
                                                <td ng-repeat="invdD in pdaheadlist"  ng-if="invdD.pdaR_RefundRemarks!='KANNADA COACHING' && invdD.pdaR_RefundRemarks!='EXTRA STAFF SALARY'">
                                                    <label ng-repeat="pda in reportpda">
                                                        <span ng-if="pda.AMST_Id==employee.AMST_Id ">
                                                            {{pda[invdD.pdaR_RefundRemarks]}}
                                                        </span> 
                                                    </label>
                                                </td>
                                                <td ng-repeat="invd in invheadlist" ng-if="invd.invmG_GroupName!='PUBLICATION SECTION'">

                                                    <label ng-repeat="inv in reportinvv" ng-if="inv.AMST_Id==employee.AMST_Id ">
                                                            {{employee[invd.invmG_GroupName]}}
                                                    </label>

                                                </td>

                                                <td>
                                                    <label ng-repeat="invdcon in reportcon" ng-if="invdcon.AMST_Id==employee.AMST_Id && invdcon.AMST_Id">

                                                        {{invdcon.FSS_ConcessionAmount}}
                                                    </label>
                                                </td>


                                                <td ng-repeat="tot in totallist" ng-if="tot.Amst_id==employee.AMST_Id">
                                                    <label>
                                                        {{tot.totexp | number:0}}
                                                    </label>
                                                </td>

                                                <td ng-repeat="invdOB in reportob" ng-if="invdOB.AMST_Id==employee.AMST_Id && invdOB.AMST_Id">
                                                    <label>
                                                        {{invdOB.PDAS_CYDeposit}}
                                                    </label>
                                                </td>

                                                <!--<td ng-repeat="invdOB in reportob" ng-if="invdOB.AMST_Id==employee.AMST_Id && invdOB.AMST_Id">
        <span ng-repeat="tot in totallist" ng-if="tot.Amst_id==invdOB.AMST_Id && invdOB.PDAS_OBStudentDue>0">
            {{invdOB.PDAS_CYDeposit -invdOB.PDAS_OBStudentDue -tot.totexp - invdOB.PDAS_CYRefundAmt| number:0}}
        </span>
        <span ng-repeat="tot in totallist" ng-if="tot.Amst_id==invdOB.AMST_Id && invdOB.PDAS_OBExcessPaid>0">
            {{invdOB.PDAS_CYDeposit + invdOB.PDAS_OBExcessPaid - tot.totexp - invdOB.PDAS_CYRefundAmt| number:0}}
        </span>

        <span ng-repeat="tot in totallist" ng-if="tot.Amst_id==invdOB.AMST_Id  && invdOB.PDAS_OBExcessPaid==0 && invdOB.PDAS_OBStudentDue==0">
            {{invdOB.PDAS_CYDeposit - tot.totexp - invdOB.PDAS_CYRefundAmt| number:0}}
        </span>

    </td>-->
                                                <td ng-repeat="invdOB in reportob" ng-if="invdOB.AMST_Id==employee.AMST_Id && invdOB.AMST_Id">

                                                    <span ng-repeat="invdcon in reportcon" ng-if="invdcon.AMST_Id==invdOB.AMST_Id">

                                                        <span ng-repeat="tot in totallist" ng-if="tot.Amst_id==invdOB.AMST_Id && invdOB.PDAS_OBStudentDue>0">
                                                            {{invdOB.PDAS_CYDeposit + invdcon.FSS_ConcessionAmount -invdOB.PDAS_OBStudentDue -tot.totexp - invdOB.PDAS_CYRefundAmt| number:0}}
                                                        </span>

                                                    </span>

                                                    <span ng-repeat="invdcon in reportcon" ng-if="invdcon.AMST_Id==invdOB.AMST_Id">

                                                        <span ng-repeat="tot in totallist" ng-if="tot.Amst_id==invdOB.AMST_Id && invdOB.PDAS_OBExcessPaid>0">
                                                            {{invdOB.PDAS_CYDeposit + invdcon.FSS_ConcessionAmount + invdOB.PDAS_OBExcessPaid - tot.totexp - invdOB.PDAS_CYRefundAmt| number:0}}
                                                        </span>

                                                    </span>

                                                    <span ng-repeat="invdcon in reportcon" ng-if="invdcon.AMST_Id==invdOB.AMST_Id">

                                                        <span ng-repeat="tot in totallist" ng-if="tot.Amst_id==invdOB.AMST_Id  && invdOB.PDAS_OBExcessPaid==0 && invdOB.PDAS_OBStudentDue==0">
                                                            {{invdOB.PDAS_CYDeposit + invdcon.FSS_ConcessionAmount - tot.totexp - invdOB.PDAS_CYRefundAmt| number:0}}
                                                        </span>

                                                    </span>

                                                </td>

                                                <td ng-repeat="invdOB in reportob" ng-if="invdOB.AMST_Id==employee.AMST_Id && invdOB.AMST_Id">
                                                    <label>
                                                        {{invdOB.PDAS_CYRefundAmt}}
                                                    </label>
                                                </td>

                                            </tr>
                                            <tr>
                                                <td colspan="4">Total</td>
                                                <td>{{StudentDue}}</td>
                                                <td>{{InstDue}}</td>
                                                <td>
                                                    {{dispensary_expenses}}
                                                </td>
                                                <td>
                                                    {{educational_excursion}}
                                                </td>
                                                <td>{{fines_and_compensations}}</td>
                                                <td>{{lab_expenses}}</td>
                                                <td>{{misc_photo_id_card_exams}}</td>
                                                <td>{{boarding_charges}}</td>
                                                <td>{{edn_establishment}}</td>
                                                <td>{{retreat_expenses}}</td>
                                                <td>{{pocket_money_expenses}}</td>
                                                <td>{{development_fund}}</td>
                                                <td>{{building_fund}}</td>
                                                <td>{{stationary_stores}}</td>
                                                <td>{{cloth_stores}}</td>
                                                <td>{{conamount}}</td>
                                                <td>{{totexpenditure}}</td>
                                                <td>{{depototal}}</td>
                                                <td>{{totbalance}}</td>
                                                <td>{{pdarefund}}</td>
                                            </tr>
                                            
                                        </tbody>
                                    </table>

                                </div>
                            </div>


                        </div>
                    </div>

                   
                </div>


            </div>

        </form>
    </section>

</div>