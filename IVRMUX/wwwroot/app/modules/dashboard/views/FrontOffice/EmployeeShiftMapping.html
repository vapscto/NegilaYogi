<section class="content">
    <div data-ng-init="loaddata()">
        <div class="box box-primary" ng-app="MyModule">
            <div class="box-header with-border">
                <h3 class="box-title">
                    Employee Shift Mapping
                </h3>
                <div class="box-tools pull-right">
                    <button type="button" class="btn btn-box-tool" data-widget="collapse"><i class="fa fa-minus"></i></button>
                </div>
            </div>
                    <div class="box-body">
                        <form class="form-horizontal" role="form" name="myForm" data-ng-submit="saveddata()" novalidate>
                            <div class="row">
                                <div class="col-sm-4">


                                    <div class="form-group">
                                        <label class="checkbox-inline">
                                            Type :
                                            <input type="checkbox" name="checktype" ng-model="emtype" data-ng-click="all_check_type(emtype)" ng-disabled="FOEST_Id>0">
                                            <span class="lbl padding-8"> All</span>
                                        </label>
                                        <div class="multiselect col-sm-8">
                                            <label data-ng-model="PASR_Id" ng-repeat="emptype in type | filter:filterValue1" value="{{emptype.hrmgT_Id}}">
                                                <input name="etype" value="{{emptype.hrmgT_Id}}" ng-model="emptype.typ" type="checkbox" ng-required="isOptionsRequired()" ng-click="addColumn1(emptype)" ng-disabled="FOEST_Id>0">
                                                <span class="lbl padding-8">
                                                    {{emptype.hrmgT_EmployeeGroupType}}
                                                </span>
                                            </label>
                                            
                                        </div>
                                     
                                    </div>
                                    <div class="error-messages" ng-if="interacted(myForm.etype)" ng-messages="myForm.etype.$error">
                                        <div ng-message="required" style="padding-left: 30px;">Please Select Type</div>
                                    </div>
                                </div>
                                <div class="col-sm-4">
                                    <div class="form-group">
                                        <label class="checkbox-inline">
                                            Department :
                                            <input type="checkbox" name="checkdept" ng-model="dept" data-ng-click="all_check_dept(dept)" ng-disabled="FOEST_Id>0">
                                            <span class="lbl padding-8"> All</span>
                                        </label>
                                        <div class="multiselect col-sm-8" >
                                            <label data-ng-model="PASR_Id" ng-repeat="dept in department | filter:filterValue2" value="{{dept.hrmD_Id}}"  ng-show="showdepartment">
                                                <input name="dept" value="1" ng-model="dept.dep" type="checkbox" ng-required="isOptionsRequired1()" ng-click="addColumn2()" ng-disabled="FOEST_Id>0">
                                                <span class="lbl padding-8">
                                                    {{dept.hrmD_DepartmentName}}
                                                </span>
                                            </label>
                                        </div>
                                    </div>
                                    <div class="error-messages" ng-if="interacted(myForm.dept)" ng-messages="myForm.dept.$error">
                                        <div ng-message="required" style="padding-left: 30px;">Please Select Department</div>
                                    </div>
                                </div>
                                <div class="col-sm-4 padding-left-none">
                                    <div class="form-group" >

                                        <label class="checkbox-inline">
                                            Designation :
                                            <input type="checkbox" name="checkdesig" ng-model="desig" data-ng-click="all_check_desig(desig)" ng-disabled="FOEST_Id>0">
                                            <span class="lbl padding-8"> All</span>
                                        </label>
                                        <div class="multiselect col-sm-8">
                                            <label data-ng-model="PASR_Id" ng-repeat="desig in designation | filter:filterValue3" value="{{desig.hrmdeS_Id}}" ng-show="showdesignation">
                                                <input name="desig" value="1" ng-model="desig.desg" type="checkbox" ng-required="isOptionsRequired2()" ng-click="addColumn3()" ng-disabled="FOEST_Id>0">
                                                <span class="lbl padding-8">
                                                    {{desig.hrmdeS_DesignationName}}
                                                </span>
                                            </label>
                                           
                                        </div>
                                       
                                    </div>
                                    <div class="error-messages" ng-if="interacted(myForm.desig)" ng-messages="myForm.desig.$error">
                                        <div ng-message="required" style="padding-left: 30px;">Please Select Designation</div>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-sm-4">
                                    <div class="form-group">
                                        <label  class="checkbox-inline">
                                            Day Type : <strong style="color:red;">*</strong>
                                        </label>
                                        <div class="multiselect col-sm-8">
                                            <label  ng-repeat="holi in holiday">
                                                <input name="holi" value="{{holi.fohwdT_Id}}" ng-model="holi.Selected" type="checkbox" ng-required="isOptionsRequired4()" ng-click="selectedHoliday(holi)" ng-disabled="FOEST_Id>0">
                                                <span class="lbl padding-8">
                                                    {{holi.fohtwD_HolidayWDType}}
                                                </span>
                                            </label>
                                            <div class="error-messages" ng-if="interacted(myForm.holi)" ng-messages="myForm.holi.$error">
                                                <div ng-message="required">Please Select any one DayType</div>
                                            </div>
                                        </div>
                                      
                                    </div>
                                    <!--<div class="form-group">
                                        <label class="control-label col-sm-3">
                                            Holiday :<strong style="color:red;">*</strong>
                                        </label>
                                        <div class="col-sm-8">
                                            <select class="form-control" id="sel1" name="holiday" ng-model="fohwdT_Id" required>
                                                <option value="">Select</option>
                                                <option ng-repeat="holi in holiday" value="{{holi.fohwdT_Id}}" ng-selected="{{holi.Selected == true}}">
                                                   {{holi.fohtwD_HolidayWDType}}
                                                </option>
                                            </select>
                                            <div class="error-messages" ng-if="interacted(myForm.holiday)" ng-messages="myForm.holiday.$error">
                                                <div ng-message="required">Please Select holidays</div>
                                            </div>
                                        </div>
                                        
                                    </div>-->
                                  
                                 

                                </div>
                                <div class="col-sm-6">
                                    <div class="form-group">
                                        <label class="control-label col-sm-3">Shift Name: <strong style="color:red;">*</strong></label>
                                        <div class="col-sm-8">
                                            <select class="form-control" id="sel" name="acd" ng-model="fomS_Id" required ng-change="Onshiftname()">
                                                <option value="">--Select--</option>
                                                <option ng-repeat="sfname in shiftname" value="{{sfname.fomS_Id}}" ng-selected="{{sfname.Selected == true}}">
                                                    {{sfname.fomS_ShiftName}}
                                                </option>
                                            </select>
                                            <div class="error-messages" ng-if="interacted(myForm.acd)" ng-messages="myForm.acd.$error">
                                                <div ng-message="required">Enter Shift Name</div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label class="control-label col-sm-3">Applicable Date: <strong style="color:red;">*</strong></label>
                                        <div class="col-sm-8">
                                            <md-datepicker name="sch_date" ng-model="FOEST_Date" onkeydown="return false" md-min-date="minDatef" md-max-date="maxDatef" required></md-datepicker>
                                            <div class="error-messages" ng-if="interacted(myForm.sch_date)" ng-messages="myForm.sch_date.$error">
                                                <div ng-message="required">Select Date</div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-sm-4" ng-show="FOEST_Id==0">
                                    <div class="form-group">
                                        <label class="checkbox-inline">
                                            Employee :
                                            <input type="checkbox" name="ckeckempl" ng-model="empl" data-ng-click="all_check_empl(empl)">
                                            <span class="lbl padding-8"> All</span>
                                        </label>
                                        <div class="multiselect col-sm-8">
                                            <input class="form-control" ng-model="search" type="text" placeholder="search here...">
                                            <label data-ng-model="PASR_Id" ng-repeat="emp in employee | filter: search" value="{{emp.hrmE_Id}}" ng-show="showemployeelist">
                                                <input name="emp1" value="1" ng-model="emp.emple" type="checkbox" ng-required="isOptionsRequired3()" ng-click="addColumn4()" ng-change="CheckedClassName(emp)" ng-disabled="FOEST_Id>0">
                                                <span class="lbl padding-8"> {{emp.hrmE_EmployeeFirstName}} </span>
                                            </label>
                                            <div class="error-messages" ng-if="interacted(myForm.emp)" ng-messages="myForm.emp.$error">
                                                <div ng-message="required" style="padding-left: 30px;">Please Select Employee</div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="col-sm-4" ng-show="morning">
                                    <div class="form-group">
                                        <label class="control-label col-sm-5" style="padding-top:7%;">Shift Start Time : <strong style="color:red;">*</strong></label>
                                        <div class="col-sm-7">
                                            <div uib-timepicker="" name="sch_time1" ng-model="fomsT_IHalfLoginTime" show-meridian="ismeridian" ng-change="valstrtm(fomsT_IHalfLoginTime);" required></div>
                                            <div class="error-messages" ng-if="interacted(myForm.sch_time1)" ng-messages="myForm.sch_time1.$error">
                                                <div ng-message="required">Select Shift Start Time</div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label class="control-label col-sm-5" style="padding-top:7%;">Shift End Time : <strong style="color:red;">*</strong></label>
                                        <div class="col-sm-7">
                                            <div uib-timepicker="" name="sch_time2" ng-model="FOMST_IIHalfLogoutTime" min="min" ng-change="validatemax(FOMST_IIHalfLogoutTime)" show-meridian="ismeridian" required></div>
                                            <div class="error-messages" ng-if="interacted(myForm.sch_time2)" ng-messages="myForm.sch_time2.$error">
                                                <div ng-message="required">Select Shift End Time</div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                               <div class="col-sm-4" ng-show="lunch">
                                    <div class="form-group">
                                        <label class="control-label col-sm-5" style="padding-top:7%;">Lunch start time : <strong style="color:red;">*</strong></label>
                                        <div class="col-sm-7">
                                            <div uib-timepicker="" name="sch_time6" ng-model="FOMST_IHalfLogoutTime" show-meridian="ismeridian" required min="fomsT_IHalfLoginTime" max="FOMST_IIHalfLogoutTime" ng-change="validateTomintime1(FOMST_IHalfLogoutTime)"></div>
                                            <div class="error-messages" ng-if="interacted(myForm.sch_time6)" ng-messages="myForm.sch_time6.$error">
                                                <div ng-message="required">Select Lunch start time</div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label class="control-label col-sm-5" style="padding-top:7%;">Lunch End time : <strong style="color:red;">*</strong></label>
                                        <div class="col-sm-7">
                                            <div uib-timepicker="" name="sch_time7" ng-model="FOMST_IIHalfLoginTime" min="FOMST_IHalfLogoutTime" max="FOMST_IIHalfLogoutTime"  show-meridian="ismeridian" required></div><!--ng-change="validatefromtime1()"-->
                                            <div class="error-messages" ng-if="interacted(myForm.sch_time7)" ng-messages="myForm.sch_time7.$error">
                                                <div ng-message="required">Select Lunch End time</div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                            </div>

                            <div class="row" ng-show="all">
                                <div class="col-sm-4">
                                    <div class="form-group">
                                        <label class="control-label col-sm-6" style="padding-top:7%;">Total working hours per shift : </label>
                                        <div class="col-sm-6">
                                            <div uib-timepicker="" name="sch_time3" ng-model="FOMST_FDWHrMin" show-meridian="ismeridian" required></div>
                                            <div class="error-messages" ng-if="interacted(myForm.sch_time3)" ng-messages="myForm.sch_time3.$error">
                                                <div ng-message="required">Select Total working hours per shift</div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label class="control-label col-sm-6" style="padding-top:7%;">Half day working hours per shift :</label>
                                        <div class="col-sm-6">
                                            <div uib-timepicker="" name="sch_time4" ng-model="FOMST_HDWHrMin" show-meridian="ismeridian" required></div>
                                            <div class="error-messages" ng-if="interacted(myForm.sch_time4)" ng-messages="myForm.sch_time4.$error">
                                                <div ng-message="required">Select Half day working hours per shift</div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-sm-4">
                                    <div class="form-group">
                                        <label class="control-label col-sm-6" style="padding-top:7%;">Delay per shift : <strong style="color:red;">*</strong></label>
                                        <div class="col-sm-6">
                                            <div uib-timepicker="" name="sch_time9" ng-model="FOMST_DelayPerShiftHrMin" show-meridian="ismeridian" required></div>
                                            <div class="error-messages" ng-if="interacted(myForm.sch_time9)" ng-messages="myForm.sch_time9.$error">
                                                <div ng-message="required">Select Delay per shift</div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label class="control-label col-sm-6" style="padding-top:7%;">Early per shift : <strong style="color:red;">*</strong></label>
                                        <div class="col-sm-6">
                                            <div uib-timepicker="" name="sch_time10" ng-model="FOMST_EarlyPerShiftHrMin" show-meridian="ismeridian" required></div>
                                            <div class="error-messages" ng-if="interacted(myForm.sch_time10)" ng-messages="myForm.sch_time10.$error">
                                                <div ng-message="required">Select Early per shift</div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-sm-4">
                                    <div class="form-group">
                                        <label class="control-label col-sm-6" style="padding-top:7%;">Lunch Hours : <strong style="color:red;">*</strong></label>
                                        <div class="col-sm-6">
                                            <div uib-timepicker="" name="sch_time5" ng-model="FOMST_LunchHoursDuration" show-meridian="ismeridian" required></div>
                                            <div class="error-messages" ng-if="interacted(myForm.sch_time5)" ng-messages="myForm.sch_time5.$error">
                                                <div ng-message="required">Select Lunch Hours</div>
                                            </div>
                                        </div>
                                    </div>
                                    <!--<div class="form-group">
                    <label class="control-label col-sm-6" style="padding-top:7%;">Min Time Between Two Punching : <strong style="color:red;">*</strong></label>
                    <div class="col-sm-6">
                        <div uib-timepicker="" name="sch_time8" ng-model="FOMST_FixTimings" show-meridian="ismeridian" required></div>
                        <div class="error-messages" ng-if="interacted(myForm.sch_time8)" ng-messages="myForm.sch_time8.$error">
                            <div ng-message="required">Select Min Time Between Two Punching</div>
                        </div>
                    </div>
                </div>-->
                                </div>
                            </div>
                            <hr />
                            <div class="text-center">
                                <input type="hidden" ng-model="FOEST_Id" value="{{foesT_Id}}" />
                                <md-button type="submit" ng-disabled="form.$invalid" class="md-raised md-primary">
                                    <i class="fa fa-save" aria-hidden="true"></i> Save
                                </md-button>
                                <md-button type="button" class="md-raised md-warn" ng-click="clearid()">
                                    <i class="fa fa-times" aria-hidden="true"></i> Cancel
                                </md-button>
                                <md-button type="button" class="md-raised md-primary" ng-click="exptoex()" ng-show="!grid_view">
                                    <i class="fa fa-floppy-o" aria-hidden="true"></i>
                                    Export Data 
                                </md-button>
                            </div>
                        </form>
                    </div>
                </div>
        </div>
        <div class="box box-primary">
            <div class="box-header with-border">
                <h3 class="box-title">Grid View</h3>
                <div class="box-tools pull-right">
                    <button type="button" class="btn btn-box-tool" data-widget="collapse" data-placement="bottom" data-toggle="tooltip" title="collapsible"><i class="fa fa-minus"></i></button>
                </div>
            </div>
            <!-- /.box-header -->
            <div class="box-body">
                <!--<div ui-grid="gridOptions" ui-grid-pagination ui-grid-exporter class="grid text-center" id="style-4" style="height: 270px;"></div>-->
                <div class="box-body">
                    <div class="from-group">
                        <div class="col-sm-12">
                            <div class="col-sm-2">
                                <div class="from-group">
                                    <input class="form-control" ng-model="search1.fomS_ShiftName" type="text" placeholder="Search Shift Name" />
                                </div>
                            </div>
                            <div class="col-sm-2">
                                <div class="from-group">
                                    <input class="form-control" ng-model="search1.hrmE_EmployeeFirstName" type="text" placeholder="Search Employee FirstName" />
                                </div>
                            </div>
                            <div class="col-sm-2">
                                <div class="from-group">
                                    <input class="form-control" ng-model="search1.fohtwD_HolidayWDType" type="text" placeholder="Search Holiday Type" />
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div>
                    <table class="table table-hover table-responsive table-bordered text-center">
                        <thead>
                            <tr>
                                <th><a href="" ng-click="order('sno')">SNO</a></th>
                                <th><a href="" ng-click="sort('fomS_ShiftName')">Shift Name</a></th>
                                <th><a href="" ng-click="sort('hrmE_EmployeeFirstName')">Employee</a></th>
                                <th><a href="" ng-click="sort('fohtwD_HolidayWDType')">Holiday Type</a></th>
                                <th><a href="" ng-click="sort('foesT_Date')">Applicable Date</a></th>
                                <th><a href="" ng-click="sort('foesT_FDWHrMin')">Total Work Hour</a></th>
                                <th><a href="" ng-click="sort('foesT_HDWHrMin')">Half Day Work Hour</a></th>
                                <th><a href="" ng-click="sort('foesT_IHalfLoginTime')">Morning Login</a></th>
                                <th><a href="" ng-click="sort('foesT_IHalfLogoutTime')">Morning Logout</a></th>
                                <th><a href="" ng-click="sort('foesT_IIHalfLoginTime')">Afternoon Login</a></th>
                                <th><a href="" ng-click="sort('foesT_IIHalfLogoutTime')">Afternoon Logout</a></th>
                                <th><a href="" ng-click="sort('foesT_DelayPerShiftHrMin')">Delay Shift</a></th>
                                <th><a href="" ng-click="sort('foesT_EarlyPerShiftHrMin')">Early Shift</a></th>
                                <th><a href="" ng-click="sort('foesT_LunchHoursDuration')">'Lunch Hour</a></th>
                                <th>Actions</></th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr dir-paginate="user in filterValue=(gridOptions | filter : search1) | orderBy:sortKey:reverse |itemsPerPage:itemsPerPage" current-page="currentPage">
                                <td>{{$index+1}}</td>
                                <td>{{user.fomS_ShiftName}}</td>
                                <td>{{user.hrmE_EmployeeFirstName}}</td>
                                <td>{{user.fohtwD_HolidayWDType}}</td>
                                <td>{{user.foesT_Date |date:'dd/MM/yyyy'}}</td>
                                <td>{{user.foesT_FDWHrMin}}</td>
                                <td>{{user.foesT_HDWHrMin}}</td>
                                <td>{{user.foesT_IHalfLoginTime}}</td>
                                <td>{{user.foesT_IHalfLogoutTime}}</td>
                                <td>{{user.foesT_IIHalfLoginTime}}</td>
                                <td>{{user.foesT_IIHalfLogoutTime}}</td>
                                <td>{{user.foesT_DelayPerShiftHrMin}}</td>
                                <td>{{user.foesT_EarlyPerShiftHrMin}}</td>
                                <td>{{user.foesT_LunchHoursDuration}}</td>
                                <td class="text-center">
                                    <span>
                                        <a href="javascript:void(0)" ng-click="getorgvalue(user);"
                                           data-toggle="tooltip" title="Edit"><i class="fa fa-pencil-square-o" style="color:blue;" aria-hidden="true"></i></a>
                                    </span>
                                    <a href="javascript:void(0)" style="color:red;" ng-click="deletedata(user)" data-toggle="tooltip" title="Deactivate">
                                        <i class="fa fa-trash text-danger"></i>
                                    </a>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                    <dir-pagination-controls max-size="10"
                                             direction-links="true"
                                             boundary-links="true">
                    </dir-pagination-controls>
                </div>
                <div id="table"  ng-show="grid_view">
                    <table class="table table-hover table-responsive table-bordered text-center">
                        <thead>
                            <tr>
                                <th><a href="" ng-click="order('sno')">SNO</a></th>
                                <th><a href="" ng-click="sort('fomS_ShiftName')">Shift Name</a></th>
                                <th><a href="" ng-click="sort('hrmE_EmployeeFirstName')">Employee</a></th>
                                <th><a href="" ng-click="sort('fohtwD_HolidayWDType')">Holiday Type</a></th>
                                <th><a href="" ng-click="sort('foesT_Date')">Applicable Date</a></th>
                                <th><a href="" ng-click="sort('foesT_FDWHrMin')">Total Work Hour</a></th>
                                <th><a href="" ng-click="sort('foesT_HDWHrMin')">Half Day Work Hour</a></th>
                                <th><a href="" ng-click="sort('foesT_IHalfLoginTime')">Morning Login</a></th>
                                <th><a href="" ng-click="sort('foesT_IHalfLogoutTime')">Morning Logout</a></th>
                                <th><a href="" ng-click="sort('foesT_IIHalfLoginTime')">Afternoon Login</a></th>
                                <th><a href="" ng-click="sort('foesT_IIHalfLogoutTime')">Afternoon Logout</a></th>
                                <th><a href="" ng-click="sort('foesT_DelayPerShiftHrMin')">Delay Shift</a></th>
                                <th><a href="" ng-click="sort('foesT_EarlyPerShiftHrMin')">Early Shift</a></th>
                                <th><a href="" ng-click="sort('foesT_LunchHoursDuration')">'Lunch Hour</a></th>
                               
                            </tr>
                        </thead>
                        <tbody>
                            <tr ng-repeat="user in gridOptions">
                                <td>{{$index+1}}</td>
                                <td>{{user.fomS_ShiftName}}</td>
                                <td>{{user.hrmE_EmployeeFirstName}}</td>
                                <td>{{user.fohtwD_HolidayWDType}}</td>
                                <td>{{user.foesT_Date |date:'dd/MM/yyyy'}}</td>
                                <td>{{user.foesT_FDWHrMin}}</td>
                                <td>{{user.foesT_HDWHrMin}}</td>
                                <td>{{user.foesT_IHalfLoginTime}}</td>
                                <td>{{user.foesT_IHalfLogoutTime}}</td>
                                <td>{{user.foesT_IIHalfLoginTime}}</td>
                                <td>{{user.foesT_IIHalfLogoutTime}}</td>
                                <td>{{user.foesT_DelayPerShiftHrMin}}</td>
                                <td>{{user.foesT_EarlyPerShiftHrMin}}</td>
                                <td>{{user.foesT_LunchHoursDuration}}</td>
                                
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
</section>