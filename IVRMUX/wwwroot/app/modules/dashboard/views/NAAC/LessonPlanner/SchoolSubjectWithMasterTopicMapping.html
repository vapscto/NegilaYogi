<style>
    .file-blue:before {
        content: 'Browse';
        background: #2757a6;
        border-color: #2757a6;
        color: #FFF;
        text-shadow: 1px 1px rgba(000,000,000,0.5);
    }

    .imgpfgdownload {
        width: 30px;
        height: 30px;
    }
</style>

<section class="content">
    <div class="box box-primary">
        <div class="box-header with-border">
            <h3 class="box-title">Master Topic </h3>
            <div class="box-tools pull-right">
                <button type="button" class="btn btn-box-tool" data-widget="collapse"><i class="fa fa-minus"></i></button>
            </div>
        </div>
        <div class="box-body">
            <form class="form-horizontal ng-pristine ng-valid" name="myForm" data-ng-submit="saveddata()" role="form" novalidate>
                <div data-ng-init="BindData()">
                    <div class="row">
                        <div class="col-sm-12">
                            <div class="col-sm-6">
                                <div class="form-group">
                                    <label class="control-label col-sm-4">Academic Year :<span style="color:red;">*</span></label>
                                    <div class="col-sm-8">
                                        <select class="form-control" id="sel1" name="yr" data-ng-model="ASMAY_Id" ng-change="onchangeyear()" required
                                                ng-disabled="editdata==true">
                                            <option value="">-- Select Year --</option>
                                            <option ng-repeat="year in masteryear" value="{{year.asmaY_Id}}" ng-selected="{{year.asmaY_Id == ASMAY_Id}}">
                                                {{year.asmaY_Year}}
                                            </option>
                                        </select>
                                        <div class="error-messages" ng-if="interacted(myForm.yr)" ng-messages="myForm.yr.$error">
                                            <div ng-message="required">Select Year </div>
                                        </div>
                                    </div>                                   
                                </div>
                            </div>
                            <div class="col-sm-6">
                                <div class="form-group">
                                    <label class="control-label col-sm-4">Class :<span style="color:red;">*</span></label>
                                    <div class="col-sm-8">
                                        <select class="form-control" id="sel1" name="cls" data-ng-model="ASMCL_Id" ng-change="onchangeclass()" required
                                                ng-disabled="editdata==true">
                                            <option value="">-- Select Class --</option>
                                            <option ng-repeat="clas in masterclass" value="{{clas.asmcL_Id}}" ng-selected="{{clas.asmcL_Id == ASMCL_Id}}">
                                                {{clas.asmcL_ClassName}}
                                            </option>
                                        </select>
                                        <div class="error-messages" ng-if="interacted(myForm.cls)" ng-messages="myForm.cls.$error">
                                            <div ng-message="required">Select Class </div>
                                        </div>
                                    </div>                                   
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-sm-12">
                            <div class="col-sm-6">
                                <div class="form-group">
                                    <label class="control-label col-sm-4">Subject Name :<strong style="color:red;">*</strong></label>
                                    <div class="col-sm-8">
                                        <ui-select id="sel1" name="stuayear" ng-model="$parent.ISMS_Id" ng-change="onchangesubject()" theme="bootstrap"
                                                   ng-keyup="searchfilter($select,user.status);" title="Select Subject" required ng-disabled="editdata==true">
                                            <ui-select-match ng-trim="false" placeholder="Select or Search Subject">
                                                {{$select.selected.ismS_SubjectName}}
                                            </ui-select-match>
                                            <ui-select-choices repeat="catgry in subjectlist | filter: $select.search" value="{{catgry.ismS_Id}}"
                                                               ng-selected="{{catgry.Selected == true}}">
                                                <div ng-bind-html="catgry.ismS_SubjectName | highlight: $select.search"></div>
                                            </ui-select-choices>
                                        </ui-select>
                                        <div class="error-messages" ng-if="interacted(myForm.stuayear)" ng-messages="myForm.stuayear.$error">
                                            <div ng-message="required">Select Subject Name</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-6">
                                <div class="form-group">
                                    <label class="control-label col-sm-4">Unit Name :<strong style="color:red;">*</strong></label>
                                    <div class="col-sm-8">
                                        <select class="form-control" id="sel2" name="topicunit" data-ng-model="LPMU_Id" ng-change="onchangeunit()" required 
                                                ng-disabled="editdata==true">
                                            <option value="">-- Select Unit --</option>
                                            <option ng-repeat="masterunit in masteruinotdetails" value="{{masterunit.lpmU_Id}}"
                                                    ng-selected="{{masterunit.lpmU_Id == LPMU_Id}}">
                                                {{masterunit.lpmU_UnitName}}
                                            </option>
                                        </select>
                                        <div class="error-messages" ng-if="interacted(myForm.topicunit)" ng-messages="myForm.topicunit.$error">
                                            <div ng-message="required">Select Unit Name</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-sm-12">
                            <div class="col-sm-6">
                                <div class="form-group">
                                    <label class="control-label col-sm-4">Main Topic Name :<strong style="color:red;">*</strong></label>
                                    <div class="col-sm-8">
                                        <select class="form-control" id="sel3" name="topic" data-ng-model="LPMMT_Id" ng-change="onselectAcdYear()" required 
                                                ng-disabled="editdata==true">
                                            <option value="">-- Select Topic --</option>
                                            <option ng-repeat="acedmicYear in topicdetailsnew" value="{{acedmicYear.lpmmT_Id}}"
                                                    ng-selected="{{acedmicYear.lpmmT_Id == LPMMT_Id}}">
                                                {{acedmicYear.lpmmT_TopicName}}
                                            </option>
                                        </select>
                                        <div class="error-messages" ng-if="interacted(myForm.topic)" ng-messages="myForm.topic.$error">
                                            <div ng-message="required">Select Main Topic Name</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-6">
                                <div class="form-group">
                                    <label class="control-label col-sm-4">Topic Name:<span style="color:red;">*</span></label>
                                    <div class="col-sm-8">
                                        <input type="text" id="sel4" name="topicname" class="form-control" ng-model="LPMT_TopicName"  required />
                                    </div>
                                    <div class="col-sm-8 col-sm-offset-4 error-messages" ng-if="interacted(myForm.topicname)" ng-messages="myForm.topicname.$error">
                                        <div ng-message="required">Enter Topic Name</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-sm-12">
                            <div class="col-sm-6">
                                <div class="form-group">
                                    <label class="control-label col-sm-4">Topic Description:<span style="color:red;">*</span></label>
                                    <div class="col-sm-8">
                                        <input type="text" id="sel5" name="topicnamedes" class="form-control" ng-model="LPMT_LessonPlan"/>
                                    </div>
                                    <div class="col-sm-8 col-sm-offset-4 error-messages" ng-if="interacted(myForm.topicnamedes)"
                                         ng-messages="myForm.topicnamedes.$error">
                                        <div ng-message="required">Enter Topic Description</div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-6">
                                <div class="form-group">
                                    <label class="control-label col-sm-4">Total Hours:<span style="color:red;">*</span></label>
                                    <div class="col-sm-8">
                                        <input type="text" id="sel6" name="topicnamehours" allow-pattern="[0-9]" class="form-control" ng-model="LPMT_TotalHrs" maxlength="3"/>
                                    </div>
                                    <div class="col-sm-8 col-sm-offset-4 error-messages" ng-if="interacted(myForm.topicnamehours)"
                                         ng-messages="myForm.topicnamehours.$error">
                                        <div ng-message="required">Enter Total Hours</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-sm-12">
                            <div class="col-sm-6">
                                <div class="form-group">
                                    <label class="control-label col-sm-4">Total Periods:<span style="color:red;">*</span></label>
                                    <div class="col-sm-8">
                                        <input type="text" id="sel7" name="topicnamedesh" class="form-control" allow-pattern="[0-9]" ng-model="LPMT_TotalPeriods" maxlength="3"/>
                                    </div>
                                    <div class="col-sm-8 col-sm-offset-4 error-messages" ng-if="interacted(myForm.topicnamedesh)"
                                         ng-messages="myForm.topicnamedesh.$error">
                                        <div ng-message="required">Enter Total Periods</div>
                                    </div>
                                </div>
                            </div>

                            <div class="col-sm-6">
                                <div class="form-group">
                                    <label class="control-label col-sm-4">Teacher Guide :</label>
                                    <div class="col-sm-8">
                                        <input type="text" id="sel8" name="teacherguide" class="form-control" ng-model="LPMT_TeacherGuide" />
                                    </div>
                                    <div class="col-sm-8 col-sm-offset-4 error-messages" ng-if="interacted(myForm.teacherguide)"
                                         ng-messages="myForm.teacherguide.$error">
                                        <div ng-message="required">Enter Teacher Guide</div>
                                    </div>
                                </div>
                            </div>

                        </div>
                    </div>
                    <div class="row">
                        <div class="col-sm-12">
                            <div class="col-sm-6">
                                <div class="form-group">
                                    <label class="control-label col-sm-4">Student Guide :</label>
                                    <div class="col-sm-8">
                                        <input type="text" id="sel9" name="studentguide" class="form-control" ng-model="LPMT_StudentGuide"  />
                                    </div>
                                    <div class="col-sm-8 col-sm-offset-4 error-messages" ng-if="interacted(myForm.studentguide)" ng-messages="myForm.studentguide.$error">
                                        <div ng-message="required">Enter Total Periods</div>
                                    </div>
                                </div>
                            </div>

                            <div class="col-sm-6">
                                <div class="form-group">
                                    <label class="control-label col-sm-4">Material Needed :</label>
                                    <div class="col-sm-8">
                                        <input type="text" name="materal" id="sel10" class="form-control" ng-model="LPMT_MaterialNeeded" />
                                    </div>
                                    <div class="col-sm-8 col-sm-offset-4 error-messages" ng-if="interacted(myForm.materal)" ng-messages="myForm.materal.$error">
                                        <div ng-message="required">Enter Material Needed</div>
                                    </div>
                                </div>
                            </div>

                        </div>
                    </div>
                    <div class="row">
                        <div class="col-sm-12">
                            <div class="col-sm-6">
                                <div class="form-group">
                                    <label class="control-label col-sm-4">References :</label>
                                    <div class="col-sm-8">
                                        <input type="text" id="sel11" name="refernce" class="form-control" ng-model="LPMT_References"  />
                                    </div>
                                    <div class="col-sm-8 col-sm-offset-4 error-messages" ng-if="interacted(myForm.refernce)" ng-messages="myForm.refernce.$error">
                                        <div ng-message="required">Enter References</div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-6">
                                <div class="form-group">
                                    <label class="control-label col-sm-4">Home Work :</label>
                                    <div class="col-sm-8">
                                        <input type="text" id="sel12" name="homewarks" class="form-control" ng-model="LPMT_Homework"/>
                                    </div>
                                    <div class="col-sm-8 col-sm-offset-4 error-messages" ng-if="interacted(myForm.homewarks)" ng-messages="myForm.homewarks.$error">
                                        <div ng-message="required">Enter Home Work</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-sm-12">
                            <div class="col-sm-6">
                                <div class="box box-primary">
                                    <div class="box-header with-border">
                                        <h3 class="box-title">Teachers' Guide Upload </h3>
                                        <div class="box-tools pull-right">
                                            <button type="button" class="btn btn-box-tool" data-widget="collapse"><i class="fa fa-minus"></i></button>
                                        </div>
                                    </div>
                                    <div class="box-body margin-top-10">
                                        <table class="table table-responsive table-bordered clearfix" style="width:100%;">
                                            <thead>
                                                <tr>
                                                    <th>SL.NO.</th>
                                                    <th>File</th>
                                                    <th>View</th>
                                                    <th>Action</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr ng-repeat="teacher in teacherdocuupload" ng-class-odd="'odd'">
                                                    <td class="text-center">{{ $index + 1 }}</td>
                                                    <td class="text-center lessonplanner">
                                                        <input class="custom-file-input file-blue text-center" id="{{teacher.lpmtR_Resources}}"
                                                               data-ng-model="teacher.lpmtR_Resources" type="file"
                                                               accept="image/*, application/pdf,video/mp4,application/msword,application/vnd.ms-powerpoint,
                                                               application/vnd.openxmlformats-officedocument.presentationml.presentation,
                                                               application/vnd.openxmlformats-officedocument.spreadsheetml.sheet,
                                                               application/vnd.openxmlformats-officedocument.wordprocessingml.document,
                                                               application/vnd.ms-excel"
                                                               name="filetypeteacher{{$index}}"
                                                               onchange="angular.element(this).scope().uploadtecherdocuments(this,angular.element(this).scope().teacher)">
                                                        <div class="error-messages" ng-if="interacted(myForm['filetypeteacher'+$index])"
                                                             ng-messages="myForm['filetypeteacher'+$index].$error">
                                                            <div ng-message="required">Upload File</div>
                                                        </div>
                                                    </td>
                                                    <td>
                                                        <span ng-if="teacher.lpmtR_Resources !=null && teacher.lpmtR_Resources !=''">
                                                            <a ng-if="teacher.filetype=='jpg' || teacher.filetype=='png' || teacher.filetype=='svg'||                                                 teacher.filetype=='jpeg' || teacher.filetype=='gif'"
                                                               style="color:red;display:inline; font-weight: bolder;"
                                                               data-ng-click="showmothersign(teacher.lpmtR_Resources,teacher.lpmtR_FileName)">
                                                                Image
                                                            </a>
                                                            <a ng-if="teacher.filetype=='mp4' || teacher.filetype=='mp4'"
                                                               style="color:red;display:inline; font-weight: bolder;" data-toggle="modal" data-target="#popup15"
                                                               ng-click="showGuardianPhotonew(teacher)">
                                                                Video
                                                            </a>
                                                            <a ng-if="teacher.filetype=='pdf'" style="color:blue;display:inline;"
                                                               ng-click="onview(teacher.lpmtR_Resources,teacher.lpmtR_FileName)">
                                                                <b style="color:orangered;display:inline; ">Pdf</b>
                                                            </a>

                                                            <a ng-if="teacher.filetype=='doc'|| teacher.filetype=='docx'"
                                                               style="color:blue;display:inline;"
                                                               href="{{teacher.document_Pathnew}}" target="_blank">
                                                                <b style="color:orangered;display:inline;">Document</b>
                                                            </a>
                                                            <a ng-if="teacher.filetype=='ppt'|| teacher.filetype=='pptx'"
                                                               style="color:blue;display:inline;"
                                                               href="{{teacher.document_Pathnew}}" target="_blank">
                                                                <b style="color:orangered;display:inline;">PPT</b>
                                                            </a>
                                                            <a ng-if="teacher.filetype=='xls'|| teacher.filetype=='xlsx'"
                                                               style="color:blue;display:inline;"
                                                               href="{{teacher.document_Pathnew}}" target="_blank">
                                                                <b style="color:orangered;display:inline;">Excel</b>
                                                            </a>
                                                        </span>
                                                    </td>
                                                    <td class="text-center">
                                                        <span class="" ng-hide="teacherdocuupload.length > 9">
                                                            <a href="" ng-show="$last" ng-click="addNewsiblingguard()">
                                                                <i class="fa fa-plus"></i>
                                                            </a>
                                                        </span>
                                                        <span class="" id="remove" ng-hide="teacherdocuupload.length ==1">
                                                            <a href="" ng-click="removeNewsiblingguard($index)">
                                                                <i class="fa fa-minus" aria-hidden="true"></i>
                                                            </a>
                                                        </span>
                                                    </td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>

                            <div class="col-sm-6">
                                <div class="box box-primary">
                                    <div class="box-header with-border">
                                        <h3 class="box-title">Students' Guide Upload </h3>
                                        <div class="box-tools pull-right">
                                            <button type="button" class="btn btn-box-tool" data-widget="collapse"><i class="fa fa-minus"></i></button>
                                        </div>
                                    </div>
                                    <div class="box-body margin-top-10">
                                        <table class="table table-responsive table-bordered clearfix" style="width:100%;">
                                            <thead>
                                                <tr>
                                                    <th>SL.NO.</th>
                                                    <th>File</th>
                                                    <th>View</th>
                                                    <th>Action</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr ng-repeat="studentdocuuploaddet in studentdocuupload" ng-class-odd="'odd'">
                                                    <td class="text-center">{{ $index + 1 }}</td>
                                                    <td class="text-center lessonplanner">
                                                        <input class="custom-file-input file-blue text-center" id="{{studentdocuuploaddet.lpmtR_Resources}}"
                                                               data-ng-model="studentdocuuploaddet.lpmtR_Resources" type="file"
                                                               accept="image/*, application/pdf,application/msword,video/mp4,application/vnd.ms-powerpoint,
                                                               application/vnd.openxmlformats-officedocument.presentationml.presentation
                                                               application/vnd.openxmlformats-officedocument.spreadsheetml.sheet,
                                                               application/vnd.openxmlformats-officedocument.wordprocessingml.document,
                                                               application/vnd.ms-excel"
                                                               name="filetypestudent{{$index}}"
                                                               onchange="angular.element(this).scope().uploadstudentdocuments(this, angular.element(this).scope().studentdocuuploaddet)">
                                                        <div class="error-messages" ng-if="interacted(myForm['filetypestudent'+$index])"
                                                             ng-messages="myForm['filetypestudent'+$index].$error">
                                                            <div ng-message="required">Upload File</div>
                                                        </div>
                                                    </td>
                                                    <td>
                                                        <span ng-if="studentdocuuploaddet.lpmtR_Resources !=null && studentdocuuploaddet.lpmtR_Resources !=''">
                                                            <a ng-if="studentdocuuploaddet.filetype=='jpg' || studentdocuuploaddet.filetype=='png' ||
                                                               studentdocuuploaddet.filetype=='svg'|| studentdocuuploaddet.filetype=='jpeg'
                                                               || studentdocuuploaddet.filetype=='gif'"
                                                               style="color:red;display:inline; font-weight: bolder;"
                                                               data-ng-click="showmothersign(studentdocuuploaddet.lpmtR_Resources,studentdocuuploaddet.lpmtR_FileName)">
                                                                Image
                                                            </a>
                                                            <a ng-if="studentdocuuploaddet.filetype=='mp4' || studentdocuuploaddet.filetype=='mp4'"
                                                               style="color:red;display:inline; font-weight: bolder;" data-toggle="modal" data-target="#popup15"
                                                               ng-click="showGuardianPhotonew(studentdocuuploaddet)">
                                                                Video
                                                            </a>
                                                            <a ng-if="studentdocuuploaddet.filetype=='pdf'" style="color:blue;display:inline;"
                                                               ng-click="onview(studentdocuuploaddet.lpmtR_Resources,studentdocuuploaddet.lpmtR_FileName)">
                                                                <b style="color:orangered;display:inline; ">Pdf</b>
                                                            </a>
                                                            <a ng-if="studentdocuuploaddet.filetype=='doc'|| studentdocuuploaddet.filetype=='docx'"
                                                               style="color:blue;display:inline;"
                                                               href="{{studentdocuuploaddet.document_Pathnew}}" target="_blank">
                                                                <b style="color:orangered;display:inline;">Document</b>
                                                            </a>
                                                            <a ng-if="studentdocuuploaddet.filetype=='ppt'|| studentdocuuploaddet.filetype=='pptx'"
                                                               style="color:blue;display:inline;"
                                                               href="{{studentdocuuploaddet.document_Pathnew}}" target="_blank">
                                                                <b style="color:orangered;display:inline;">PPT</b>
                                                            </a>
                                                            <a ng-if="studentdocuuploaddet.filetype=='xls'|| studentdocuuploaddet.filetype=='xlsx'"
                                                               style="color:blue;display:inline;"
                                                               href="{{studentdocuuploaddet.document_Pathnew}}" target="_blank">
                                                                <b style="color:orangered;display:inline;">Excel</b>
                                                            </a>
                                                        </span>
                                                    </td>
                                                    <td class="text-center">
                                                        <span class="" ng-hide="studentdocuupload.length > 9">
                                                            <a href="" ng-show="$last" ng-click="addstudent()">
                                                                <i class="fa fa-plus"></i>
                                                            </a>
                                                        </span>
                                                        <span class="" id="remove" ng-hide="studentdocuupload.length ==1">
                                                            <a href="" ng-click="removestudent($index)">
                                                                <i class="fa fa-minus" aria-hidden="true"></i>
                                                            </a>
                                                        </span>
                                                    </td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>

                        </div>
                    </div>
                    <div class="row">
                        <div class="col-sm-12">
                            <div class="col-sm-6">
                                <div class="box box-primary">
                                    <div class="box-header with-border">
                                        <h3 class="box-title">Material Files Upload </h3>
                                        <div class="box-tools pull-right">
                                            <button type="button" class="btn btn-box-tool" data-widget="collapse"><i class="fa fa-minus"></i></button>
                                        </div>
                                    </div>
                                    <div class="box-body margin-top-10">
                                        <table class="table table-responsive table-bordered clearfix" style="width:100%;">
                                            <thead>
                                                <tr>
                                                    <th>SL.NO.</th>
                                                    <th>File</th>
                                                    <th>View</th>
                                                    <th>Action</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr ng-repeat="materal in materaldocuupload" ng-class-odd="'odd'">
                                                    <td class="text-center">{{ $index + 1 }}</td>
                                                    <td class="text-center lessonplanner">
                                                        <input class="custom-file-input file-blue text-center" id="{{materal.lpmtR_Resources}}"
                                                               data-ng-model="materal.lpmtR_Resources" type="file"
                                                               accept="image/*, application/pdf,application/msword,video/mp4,application/vnd.ms-powerpoint,
                                                               application/vnd.openxmlformats-officedocument.presentationml.presentation
                                                               application/vnd.openxmlformats-officedocument.spreadsheetml.sheet,
                                                               application/vnd.openxmlformats-officedocument.wordprocessingml.document,
                                                               application/vnd.ms-excel"
                                                               name="filetypematerial{{$index}}"
                                                               onchange="angular.element(this).scope().uploadmateraldocuments(this, angular.element(this).scope().materal)">
                                                        <div class="error-messages" ng-if="interacted(myForm['filetypematerial'+$index])"
                                                             ng-messages="myForm['filetypematerial'+$index].$error">
                                                            <div ng-message="required">Upload File</div>
                                                        </div>
                                                    </td>
                                                    <td>
                                                        <span ng-if="materal.lpmtR_Resources !=null && materal.lpmtR_Resources !=''">
                                                            <a ng-if="materal.filetype=='jpg' || materal.filetype=='png' ||
                                                               materal.filetype=='svg'|| materal.filetype=='jpeg'
                                                               || materal.filetype=='gif'"
                                                               style="color:red;display:inline; font-weight: bolder;"
                                                               data-ng-click="showmothersign(materal.lpmtR_Resources,materal.lpmtR_FileName)">
                                                                Image
                                                            </a>
                                                            <a ng-if="materal.filetype=='mp4' || materal.filetype=='mp4'"
                                                               style="color:red;display:inline; font-weight: bolder;" data-toggle="modal" data-target="#popup15"
                                                               ng-click="showGuardianPhotonew(materal)">
                                                                Video
                                                            </a>
                                                            <a ng-if="materal.filetype=='pdf'" style="color:blue;display:inline;"
                                                               ng-click="onview(materal.lpmtR_Resources,materal.lpmtR_FileName)">
                                                                <b style="color:orangered;display:inline; ">Pdf</b>
                                                            </a>
                                                            <a ng-if="materal.filetype=='doc'|| materal.filetype=='docx'"
                                                               style="color:blue;display:inline;"
                                                               href="{{materal.document_Pathnew}}" target="_blank">
                                                                <b style="color:orangered;display:inline;">Document</b>
                                                            </a>
                                                            <a ng-if="materal.filetype=='ppt'|| materal.filetype=='pptx'"
                                                               style="color:blue;display:inline;"
                                                               href="{{materal.document_Pathnew}}" target="_blank">
                                                                <b style="color:orangered;display:inline;">PPT</b>
                                                            </a>
                                                            <a ng-if="materal.filetype=='xls'|| materal.filetype=='xlsx'"
                                                               style="color:blue;display:inline;"
                                                               href="{{materal.document_Pathnew}}" target="_blank">
                                                                <b style="color:orangered;display:inline;">Excel</b>
                                                            </a>
                                                        </span>
                                                    </td>
                                                    <td class="text-center">
                                                        <span class="" ng-hide="materaldocuupload.length > 9">
                                                            <a href="" ng-show="$last" ng-click="addmateral()">
                                                                <i class="fa fa-plus"></i>
                                                            </a>
                                                        </span>
                                                        <span class="" id="remove" ng-hide="materaldocuupload.length ==1">
                                                            <a href="" ng-click="removemateral($index)">
                                                                <i class="fa fa-minus" aria-hidden="true"></i>
                                                            </a>
                                                        </span>
                                                    </td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>

                            <div class="col-sm-6">
                                <div class="box box-primary">
                                    <div class="box-header with-border">
                                        <h3 class="box-title">Reference Files Upload </h3>
                                        <div class="box-tools pull-right">
                                            <button type="button" class="btn btn-box-tool" data-widget="collapse"><i class="fa fa-minus"></i></button>
                                        </div>
                                    </div>
                                    <div class="box-body margin-top-10">
                                        <table class="table table-responsive table-bordered clearfix" style="width:100%;">
                                            <thead>
                                                <tr>
                                                    <th>SL.NO.</th>
                                                    <th>File</th>
                                                    <th>View</th>
                                                    <th>Action</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr ng-repeat="referencedocuuploaddet in referencedocuupload" ng-class-odd="'odd'">
                                                    <td class="text-center">{{ $index + 1 }}</td>
                                                    <td class="text-center lessonplanner">
                                                        <input class="custom-file-input file-blue text-center" id="{{referencedocuuploaddet.lpmtR_Resources}}"
                                                               data-ng-model="referencedocuuploaddet.lpmtR_Resources" type="file"
                                                               accept="image/*, application/pdf,application/msword,video/mp4,application/vnd.ms-powerpoint,
                                                               application/vnd.openxmlformats-officedocument.presentationml.presentation
                                                               application/vnd.openxmlformats-officedocument.spreadsheetml.sheet,
                                                               application/vnd.openxmlformats-officedocument.wordprocessingml.document,
                                                               application/vnd.ms-excel"
                                                               name="filetyperefernce{{$index}}"
                                                               onchange="angular.element(this).scope().uploadreferncedocuments(this, angular.element(this).scope().referencedocuuploaddet)">
                                                        <div class="error-messages" ng-if="interacted(myForm['filetyperefernce'+$index])"
                                                             ng-messages="myForm['filetyperefernce'+$index].$error">
                                                            <div ng-message="required">Upload File</div>
                                                        </div>
                                                    </td>
                                                    <td>
                                                        <span ng-if="referencedocuuploaddet.lpmtR_Resources !=null && referencedocuuploaddet.lpmtR_Resources !=''">
                                                            <a ng-if="referencedocuuploaddet.filetype=='jpg' || referencedocuuploaddet.filetype=='png' ||
                                                               referencedocuuploaddet.filetype=='svg'|| referencedocuuploaddet.filetype=='jpeg'
                                                               || referencedocuuploaddet.filetype=='gif'"
                                                               style="color:red;display:inline; font-weight: bolder;"
                                                               data-ng-click="showmothersign(referencedocuuploaddet.lpmtR_Resources,referencedocuuploaddet.lpmtR_FileName)">
                                                                Image
                                                            </a>
                                                            <a ng-if="referencedocuuploaddet.filetype=='mp4' || referencedocuuploaddet.filetype=='mp4'"
                                                               style="color:red;display:inline; font-weight: bolder;" data-toggle="modal" data-target="#popup15"
                                                               ng-click="showGuardianPhotonew(referencedocuuploaddet)">
                                                                Video
                                                            </a>
                                                            <a ng-if="referencedocuuploaddet.filetype=='pdf'" style="color:blue;display:inline;"
                                                               ng-click="onview(referencedocuuploaddet.lpmtR_Resources,referencedocuuploaddet.lpmtR_FileName)">
                                                                <b style="color:orangered;display:inline; ">Pdf</b>
                                                            </a>
                                                            <!--<a ng-if="referencedocuuploaddet.filetype=='doc' || referencedocuuploaddet.filetype=='docx' "
                                                               style="color:blue;display:inline; " href="{{referencedocuuploaddet.lpmtR_Resources}}" target="_blank"
                                                               full-frame="">
                                                                <b style="color:orangered;display:inline;">Document</b>
                                                            </a>
                                                            <a ng-if="referencedocuuploaddet.filetype=='ppt' || referencedocuuploaddet.filetype=='pptx' "
                                                               style="color:blue;display:inline; " href="{{referencedocuuploaddet.lpmtR_Resources}}" target="_blank"
                                                               full-frame="">
                                                                <b style="color:orangered;display:inline;">PPT</b>
                                                            </a>-->
                                                            <a ng-if="referencedocuuploaddet.filetype=='doc'|| referencedocuuploaddet.filetype=='docx'"
                                                               style="color:blue;display:inline;"
                                                               href="{{referencedocuuploaddet.document_Pathnew}}" target="_blank">
                                                                <b style="color:orangered;display:inline;">Document</b>
                                                            </a>
                                                            <a ng-if="referencedocuuploaddet.filetype=='ppt'|| referencedocuuploaddet.filetype=='pptx'"
                                                               style="color:blue;display:inline;"
                                                               href="{{referencedocuuploaddet.document_Pathnew}}" target="_blank">
                                                                <b style="color:orangered;display:inline;">PPT</b>
                                                            </a>
                                                            <a ng-if="referencedocuuploaddet.filetype=='xls'|| referencedocuuploaddet.filetype=='xlsx'"
                                                               style="color:blue;display:inline;"
                                                               href="{{referencedocuuploaddet.document_Pathnew}}" target="_blank">
                                                                <b style="color:orangered;display:inline;">Excel</b>
                                                            </a>
                                                        </span>
                                                    </td>
                                                    <td class="text-center">
                                                        <span class="" ng-hide="referencedocuupload.length > 9">
                                                            <a href="" ng-show="$last" ng-click="addreference()">
                                                                <i class="fa fa-plus"></i>
                                                            </a>
                                                        </span>
                                                        <span class="" id="remove" ng-hide="referencedocuupload.length ==1">
                                                            <a href="" ng-click="removerefrence($index)">
                                                                <i class="fa fa-minus" aria-hidden="true"></i>
                                                            </a>
                                                        </span>
                                                    </td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-sm-12 text-center">
                            <input type="hidden" ng-model="LPSMTM_Id" value="{{LPSMTM_Id}}" />
                            <md-button type="submit" class="md-raised md-primary" ng-disabled="form.$invalid">
                                <i class="fa fa-save" aria-hidden="true"></i> Save
                            </md-button>
                            <!--<md-button type="button" ng-click="onview()">viewpdf</md-button>-->
                            <md-button type="button" class="md-raised md-warn" ng-click="cancel()">
                                <i class="fa fa-times" aria-hidden="true"></i> Cancel
                            </md-button>
                            <md-button type="button" class="md-raised md-primary" data-toggle="modal" data-target="#myModal">
                                <i class="fa fa-sort" aria-hidden="true"></i>Set Order
                            </md-button>
                        </div>
                    </div>
                </div>
            </form>
        </div>
    </div>
    <div class="box box-primary">
        <div class="box-header with-border">
            <h3 class="box-title">Master Main Topic With Topic Mapping</h3>
            <div class="box-tools pull-right">
                <button type="button" class="btn btn-box-tool" data-widget="collapse" data-placement="bottom" data-toggle="tooltip" title="collapsible"><i class="fa fa-minus"></i></button>

            </div>
        </div>
        <!-- /.box-header -->
        <div class="box-body">
            <div ui-grid="gridOptions" ui-grid-pagination class="grid text-center" id="style-4" style="height: 270px;"></div>
        </div>

        <!---Order Set -->
        <div class="modal fade modal-medium" id="myModal" role="dialog" data-backdrop="static">
            <div class="modal-dialog modal-md">
                <!-- Modal content-->
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal" ng-click="BindData()"><i class="fa fa-times text-white" aria-hidden="true"></i><!--&times;--></button>
                        <h4 class="modal-title text-white">Set Order</h4>
                    </div>
                    <div class="modal-body">
                        <div class="row">
                            <div class="col-sm-12">
                                <div class="col-sm-6">
                                    <div class="form-group">
                                        <label class="control-label col-sm-4">Academic Year :<span style="color:red;">*</span></label>
                                        <div class="col-sm-8">
                                            <select class="form-control" id="sel1" name="yrdd" data-ng-model="ASMAY_IdNew" ng-change="onchangeyearnew()" required>
                                                <option value="">-- Select Year --</option>
                                                <option ng-repeat="yearnew in masteryearnew" value="{{yearnew.asmaY_Id}}"
                                                        ng-selected="{{yearnew.asmaY_Id == ASMAY_IdNew}}">
                                                    {{yearnew.asmaY_Year}}
                                                </option>
                                            </select>
                                            <div class="error-messages" ng-if="interacted(myForm.yrdd)" ng-messages="myForm.yrdd.$error">
                                                <div ng-message="required">Select Year </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-sm-6">
                                    <div class="form-group">
                                        <label class="control-label col-sm-4">Class :<span style="color:red;">*</span></label>
                                        <div class="col-sm-8">
                                            <select class="form-control" id="sel1" name="cldds" data-ng-model="ASMCL_IdNew" ng-change="onchangeclassnew()" required>
                                                <option value="">-- Select Class --</option>
                                                <option ng-repeat="clasnew in masterclassnew" value="{{clasnew.asmcL_Id}}"
                                                        ng-selected="{{clasnew.asmcL_Id == ASMCL_Id}}">
                                                    {{clasnew.asmcL_ClassName}}
                                                </option>
                                            </select>
                                            <div class="error-messages" ng-if="interacted(myForm.cldds)" ng-messages="myForm.cldds.$error">
                                                <div ng-message="required">Select Class </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-sm-12">
                                <div class="col-sm-6">
                                    <div class="form-group">
                                        <label class="control-label col-sm-4">Subject Name :<strong style="color:red;">*</strong></label>
                                        <div class="col-sm-8">
                                            <ui-select id="sel1" name="stuayeard" ng-model="$parent.ISMS_IdNew" ng-change="onchangesubjectnew()" theme="bootstrap"
                                                       ng-keyup="searchfilter($select,user.status);" title="Select Subject" required>
                                                <ui-select-match ng-trim="false" placeholder="Select or Search Subject">
                                                    {{$select.selected.ismS_SubjectName}}
                                                </ui-select-match>
                                                <ui-select-choices repeat="catgryq in subjectlistnew | filter: $select.search" value="{{catgryq.ismS_Id}}"
                                                                   ng-selected="{{catgryq.Selected == true}}">
                                                    <div ng-bind-html="catgryq.ismS_SubjectName | highlight: $select.search"></div>
                                                </ui-select-choices>
                                            </ui-select>
                                            <div class="error-messages" ng-if="interacted(myForm.stuayeard)" ng-messages="myForm.stuayeard.$error">
                                                <div ng-message="required">Select Subject Name</div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-sm-6">
                                    <div class="form-group">
                                        <label class="control-label col-sm-4">Unit Name :<strong style="color:red;">*</strong></label>
                                        <div class="col-sm-8">
                                            <select class="form-control" id="sel1" name="topidcd" data-ng-model="LPMU_IdNew" ng-change="onchnageunit()" required>
                                                <option value="">-- Select Unit --</option>
                                                <option ng-repeat="masterunitnews in masterunitnew" value="{{masterunitnews.lpmU_Id}}"
                                                        ng-selected="{{masterunitnews.lpmU_Id == LPMU_IdNew}}">
                                                    {{masterunitnews.lpmU_UnitName}}
                                                </option>
                                            </select>
                                            <div class="error-messages" ng-if="interacted(myForm.topidcd)" ng-messages="myForm.topidcd.$error">
                                                <div ng-message="required">Select Unit Name</div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-sm-12">
                                <div class="col-sm-6">
                                    <div class="form-group">
                                        <label class="control-label col-sm-4">Topic Name :<strong style="color:red;">*</strong></label>
                                        <div class="col-sm-8">
                                            <select class="form-control" id="sel1" name="topidc" data-ng-model="LPMMT_IdNew" ng-change="onselecttopic()" required>
                                                <option value="">-- Select Topic --</option>
                                                <option ng-repeat="acedmicYear in topicdetailsnews" value="{{acedmicYear.lpmmT_Id}}"
                                                        ng-selected="{{acedmicYear.lpmmT_Id == LPMMT_Id}}">
                                                    {{acedmicYear.lpmmT_TopicName}}
                                                </option>
                                            </select>
                                            <div class="error-messages" ng-if="interacted(myForm.topidc)" ng-messages="myForm.topidc.$error">
                                                <div ng-message="required">Select Topic Name</div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <br />
                        <table class="table table-hover table-responsive table-bordered">
                            <thead>
                                <tr>
                                    <th>SLNO</th>
                                    <th>Topic Name</th>
                                    <th>Topic Order</th>
                                </tr>
                            </thead>
                            <tbody ui-sortable="sortableOptions" ng-model="grouptypeListOrder">
                                <tr ng-repeat="user in grouptypeListOrder">
                                    <td class="handle">{{$index+1}}</td>
                                    <td class="handle">{{ user.lpmT_TopicName}}</td>
                                    <td class="handle">{{ user.lpmT_TopicOrder}}</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-default" data-dismiss="modal" ng-show="btn" ng-click="getOrder(grouptypeListOrder);">Save</button>
                        <button type="button" class="btn btn-default" data-dismiss="modal" ng-click="BindData()">Close</button>
                    </div>
                </div>
            </div>
        </div>

        <div id="popup11" class="modal fade modal-medium" role="dialog" data-backdrop="static">
            <div class="modal-dialog modal-md">
                <!-- Modal content-->
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal" ng-click="BindData()"><i class="fa fa-times text-white" aria-hidden="true"></i><!--&times;--></button>
                        <h4 class="modal-title text-white">VIEW UPLOADED FILE</h4>
                    </div>
                    <div class="modal-body">
                        <div class="box-body margin-top-10">
                            <table class="table table-responsive table-bordered clearfix" style="width:100%;">
                                <thead>
                                    <tr>
                                        <th>SL.NO</th>
                                        <th>File Name</th>
                                        <th>View</th>
                                        <th>Action</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr ng-repeat="documents in uploaddocfiles">
                                        <td class="text-center">{{ $index + 1 }}</td>
                                        <td class="text-left">{{documents.lpmtR_FileName}}</td>
                                        <td class="text-center">
                                            <span ng-if="documents.lpmtR_Resources !=null && documents.lpmtR_Resources !=''">
                                                <a ng-if="documents.filetype=='jpg' || documents.filetype=='png' || documents.filetype=='svg'||                                                 documents.filetype=='jpeg' || documents.filetype=='gif'"
                                                   style="color:red;display:inline; font-weight: bolder;"
                                                   data-ng-click="showmothersign(documents.lpmtR_Resources,documents.lpmtR_FileName)">
                                                    <img class="imgpfgdownload" src="/images/Naac/pictures.png" title="Image" />
                                                </a>
                                                <a ng-if="documents.filetype=='mp4' || documents.filetype=='mp4'"
                                                   style="color:red;display:inline; font-weight: bolder;" data-toggle="modal" data-target="#popup15"
                                                   ng-click="showGuardianPhotonew(documents)">
                                                    <img class="imgpfgdownload" src="/images/Naac/play-button.png" title="Video" />
                                                </a>
                                                <a ng-if="documents.filetype=='pdf'" style="color:blue;display:inline;"
                                                   ng-click="onview(documents.lpmtR_Resources,documents.lpmtR_FileName)">
                                                    <img class="imgpfgdownload" src="/images/Naac/pdf.png" title="View Pdf" />
                                                </a>
                                                <a ng-if="documents.filetype=='doc'|| documents.filetype=='docx'" style="color:blue;display:inline;"
                                                   href="{{documents.document_Pathnew}}" target="_blank">
                                                    <img class="imgpfgdownload" src="/images/Naac/filedoc.png" title="View Document" />
                                                </a>
                                                <a ng-if="documents.filetype=='ppt'|| documents.filetype=='pptx'" style="color:blue;display:inline;"
                                                   ng-click="onviewppt(documents.document_Pathnew,documents.lpmtR_FileName)">
                                                    <!--href="{{documents.document_Pathnew}}" target="_blank"-->

                                                    <img class="imgpfgdownload" src="/images/Naac/ppt.png" title="View PPT" />
                                                </a>
                                                <a ng-if="documents.filetype=='xls'|| documents.filetype=='xlsx'"
                                                   style="color:blue;display:inline;"
                                                   href="{{documents.document_Pathnew}}" target="_blank">
                                                    <img class="imgpfgdownload" src="/images/Naac/excel.png" title="View Excel" />
                                                </a>
                                            </span>
                                        </td>
                                        <td class="text-center">
                                            <span>
                                                <a style="color:red;display:inline; font-weight: bolder;" data-toggle="modal"
                                                   ng-click="deleteuploadfile(documents)">
                                                    <img class="imgpfgdownload" src="/images/Naac/delete.png" title="Delete" />
                                                </a>
                                            </span>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<div id="myModalimg" class="modal fade" role="dialog" data-backdrop="static">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-body">
                <img id="preview" class="img-responsive" />
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
            </div>
        </div>
    </div>
</div>

<div class="modal fade modal-small" id="popup15" role="dialog" data-backdrop="static">
    <div class="modal-dialog modal-lg">
        <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal"><i class="fa fa-times text-white" aria-hidden="true"></i></button>
        </div>
        <!-- Modal content-->
        <div class="modal-content">
            <div class="modal-body">
                <div ng-repeat="vi1 in view_videos" style="padding-bottom:20px">
                    <video width="320" height="240" controls="controls" crossorigin="anonymous" controlsList="nodownload" oncontextmenu="return false;">
                        <source ng-src="{{vi1.coeeV_Videos | trustUrl}}" type="video/mp4">
                        Your browser does not support HTML5 video.
                    </video>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" ng-click="pauseOrPlay()" data-dismiss="modal">Close</button>
            </div>
        </div>
    </div>
</div>

<div id="showpdf" class="modal fade" role="dialog" data-backdrop="static">
    <div class="modal-dialog modal-lg">
        <!-- Modal content-->
        <div class="modal-content">
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
            </div>
            <div id="pdfviewdd">

            </div>
            <!--<embed ng-src="{{content}}" style="width: 100%;" height="1000" />-->

            <div class="modal-body" oncontextmenu="return false"></div>
        </div>
    </div>
</div>

<div id="showppt" class="modal fade" role="dialog" data-backdrop="static">
    <div class="modal-dialog modal-lg">
        <!-- Modal content-->
        <div class="modal-content">
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
            </div>

            <iframe ng-src="{{contantppt}}" width='100%' height='1000' frameborder='0'></iframe>   
            <!--{{video.resourceId.videoId}}-->
        </div>
    </div>
</div>



