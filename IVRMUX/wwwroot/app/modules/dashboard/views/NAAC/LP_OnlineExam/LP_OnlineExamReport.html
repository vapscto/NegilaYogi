<style>
    .margin-top-10 {
        margin-top: 10px !important;
    }

    .padding-right-30 {
        padding-right: 30px !important;
    }

    .padding-left-10 {
        padding-left: 10px;
    }

    .headerfixed {
        position: fixed;
        padding: 8em;
        left: 75%;
        top: 0%;
        width: 60%;
        transform: translateX(-50%);
    }

    .questionstyle {
        padding-left: 10px;
        font-size: 14px !important;
        font-weight: bold;
        font-family: Times New Roman !important;
    }

    .optionssytle {
        font-size: 14px !important;
        font-weight: bold !important;
        font-family: Times New Roman !important;
    }

    .imgdisplay {
        height: 100px !important;
        width: 200px !important;
    }

    .imgdisplayoptions {
        height: 100px !important;
        width: 155px !important;
        border: 0.5px solid black;
    }

    .padding-left0px {
        padding-left: 0px;
    }

    .levelheading {
        font-size: 25px !important;
        font-weight: bold !important;
        color: black !important;
        text-transform: none;
    }

    .padding-left12px {
        padding-left: 12px;
    }

    .padding-left18px {
        padding-left: 18px !important;
    }

    .padding-left-35 {
        padding-left: 35px;
    }

    .styleborder {
        border: 1px solid black;
        border-radius: 10px;
        margin-top: 10px !important;
    }

    .padding-left12px {
        padding-left: 12px;
    }
</style>

<section class="content" data-ng-init="loaddata()">
    <form class="form-horizontal ng-pristine ng-valid" role="form" name="myForm" data-ng-submit="savedata(objmaster)">
        <div class="box box-primary">
            <div class="box-header with-border">
                <h3 class="box-title">Online Exam Report</h3>
                <div class="box-tools pull-right">
                    <button type="button" class="btn btn-box-tool" data-widget="collapse"><i class="fa fa-minus"></i></button>
                </div>
            </div>
            <div class="box-body">
                <div class="row">
                    <div class="col-sm-12">
                        <div class="col-sm-6">
                            <div class="form-group">
                                <label class="control-label col-sm-4">Academic Year:<strong style="color:red;">*</strong></label>
                                <div class="col-sm-8">
                                    <select class="form-control" id="sel1" name="yrname" ng-model="ASMAY_Id" ng-change="onchangeyear()" required>
                                        <option value="">--Select Academic Year--</option>
                                        <option ng-repeat="option in getyearlist" value="{{option.asmaY_Id}}"
                                                ng-selected="{{option.asmaY_Id == ASMAY_Id}}">
                                            {{option.asmaY_Year}}
                                        </option>
                                    </select>
                                    <div class="error-messages text-center" ng-if="interacted(myForm.yrname)" ng-messages="myForm.yrname.$error">
                                        <div ng-message="required">Select Academic Year</div>
                                    </div>
                                </div>
                            </div>

                            <div class="form-group">
                                <label class="control-label col-sm-4">Section :<strong style="color:red;">*</strong></label>
                                <div class="col-sm-8">
                                    <select class="form-control" id="sel3" name="secname" ng-model="ASMS_Id" ng-change="OnchangeSection()" required>
                                        <option value="">--Select Section--</option>
                                        <option ng-repeat="option in getsectionlist" value="{{option.asmS_Id}}"
                                                ng-selected="{{option.asmS_Id == ASMS_Id}}">
                                            {{option.asmC_SectionName}}
                                        </option>
                                    </select>
                                    <div class="error-messages text-center" ng-if="interacted(myForm.secname)" ng-messages="myForm.secname.$error">
                                        <div ng-message="required">Select Section </div>
                                    </div>
                                </div>
                            </div>

                            <div class="form-group">
                                <label class="control-label col-sm-4">Exam Name:<strong style="color:red;">*</strong></label>
                                <div class="col-sm-8">
                                    <select class="form-control" id="sel4" name="exname" ng-model="LPMOEEX_Id" ng-change="OnChangeExam()" required>
                                        <option value="">--Select Exam Name--</option>
                                        <option ng-repeat="option in getexamlist" value="{{option.lpmoeeX_Id}}"
                                                ng-selected="{{option.lpmoeeX_Id == LPMOEEX_Id}}">
                                            {{option.lpmoeeX_ExamName}}
                                        </option>
                                    </select>
                                    <div class="error-messages text-center" ng-if="interacted(myForm.exname)" ng-messages="myForm.exname.$error">
                                        <div ng-message="required">Select Exam Name</div>
                                    </div>
                                </div>
                            </div>

                            <div class="form-group">
                                <label class="control-label col-sm-4">To Date:<strong style="color:red;">*</strong></label>
                                <div class="col-sm-4 input-group text-right" style="">
                                    <md-datepicker ng-model="obj.FMCB_toDATE" onkeydown="return false" name="To_Date" id="sel6" md-placeholder="Enter  date"
                                                   md-max-date="maxdate" md-min-date="obj.FMCB_fromDATE" disabled required></md-datepicker>
                                </div>
                                <div class="error-messages" ng-if="interacted(myForm.To_Date)" ng-messages="myForm.To_Date.$error">
                                    <div ng-message="required">Please Select Date</div>
                                </div>
                            </div>

                        </div>
                        <div class="col-sm-6">
                            <div class="form-group">
                                <label class="control-label col-sm-4">Class:<strong style="color:red;">*</strong></label>
                                <div class="col-sm-8">
                                    <select class="form-control" id="sel2" name="clsname" ng-model="ASMCL_Id" ng-change="onchangeclass()" required>
                                        <option value="">--Select Class--</option>
                                        <option ng-repeat="option in getclasslist" value="{{option.asmcL_Id}}"
                                                ng-selected="{{option.asmcL_Id == ASMCL_Id}}">
                                            {{option.asmcL_ClassName}}
                                        </option>
                                    </select>
                                    <div class="error-messages text-center" ng-if="interacted(myForm.clsname)" ng-messages="myForm.clsname.$error">
                                        <div ng-message="required">Select Class</div>
                                    </div>
                                </div>
                            </div>

                            <div class="form-group">
                                <label class="control-label col-sm-4">Subject :<strong style="color:red;">*</strong></label>
                                <div class="col-sm-8">
                                    <select class="form-control" id="sel3" name="subname" ng-model="ISMS_Id" ng-change="onchangesubject()" required>
                                        <option value="">--Select Subject--</option>
                                        <option ng-repeat="option in getsubjectlist" value="{{option.ismS_Id}}"
                                                ng-selected="{{option.ismS_Id == ISMS_Id}}">
                                            {{option.ismS_SubjectName}}
                                        </option>
                                    </select>
                                    <div class="error-messages text-center" ng-if="interacted(myForm.subname)" ng-messages="myForm.subname.$error">
                                        <div ng-message="required">Select Subject </div>
                                    </div>
                                </div>
                            </div>

                            <div class="form-group">
                                <label class="control-label col-sm-4">From Date:<strong style="color:red;">*</strong></label>
                                <div class="col-sm-4 input-group text-right" style="">
                                    <md-datepicker ng-model="obj.FMCB_fromDATE" onkeydown="return false" name="From_Date" id="sel5" md-placeholder="Enter  date"
                                                   required md-max-date="maxdate" disabled>
                                    </md-datepicker>
                                </div>
                                <div class="error-messages" ng-if="interacted(myForm.From_Date)" ng-messages="myForm.From_Date.$error">
                                    <div ng-message="required">Please Select Date</div>
                                </div>
                            </div>

                            <div class="form-group text-center">
                                <md-button type="button" class="md-raised md-primary" ng-disabled="form.$invalid" ng-click="savedata()" id="save-btn">
                                    <i class="fa fa-floppy-o" aria-hidden="true"></i>
                                    Report
                                </md-button>
                                <md-button type="button" class="md-raised md-warn" ng-click="cancel()">
                                    <i class="fa fa-times" aria-hidden="true"></i>
                                    Cancel
                                </md-button>

                                <md-button type="button" class="md-raised md-primary" id="excel-btn" ng-click="exportToExcel('#excelSectionId')" target="_blank"
                                           ng-disabled="reportbtn==true">
                                    <i class="fa fa-file-excel-o" aria-hidden="true"></i>
                                    Export to Excel
                                </md-button>

                                <md-button type="button" class="md-raised md-primary" id="print-btn" ng-click="printData(printSectionId);" ng-disabled="reportbtn==true">
                                    <i class="fa fa-print" aria-hidden="true"></i>
                                    Print
                                </md-button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </form>

    <div class="box box-primary" ng-if="result.length>0">
        <div class="box-header with-border">
            <h3 class="box-title">Online Exam Report </h3>
            <div class="box-tools pull-right">
                <button type="button" class="btn btn-box-tool" data-widget="collapse" data-placement="bottom" data-toggle="tooltip" title="collapsible"><i class="fa fa-minus"></i></button>
            </div>
        </div>
        <div class="box-body">
            <table class="table table-hover table-responsive table-bordered" id="Table">
                <thead>
                    <tr>
                        <th><a href="" ng-click="sort('LMSMOES_Id')">SLNO</a></th>
                        <th><a href="" ng-click="sort('Name')">Student Details </a></th>
                        <th><a href="" ng-click="sort('Examdate')">Exam Date</a> </th>
                        <!--<th><a href="" ng-click="sort('Examdate')">Total No.Of Questions</a> </th>
                        <th><a href="" ng-click="sort('Examdate')">Total Questions Answered</a> </th>-->
                        <th><a href="" ng-click="sort('LMSSTE_TotalMarks')">Total Marks</a></th>
                        <th><a href="" ng-click="sort('LMSSTE_TotalMarks')">Obtained Marks</a></th>
                        <th><a href="" ng-click="sort('LMSSTE_Percentage')">Percentage</a> </th>
                        <th>Action</th>
                    </tr>
                </thead>
                <tbody>
                    <tr ng-repeat="user in result |orderBy:sortKey:reverse">
                        <td class="text-center">{{$index+1}}</td>
                        <td class="text-left">
                            Student Name : {{ user.StudentName}}
                            <br />Admn No. :  {{user.AMST_AdmNo}}
                            <br />Mobile No. : {{ user.AMST_MobileNo}}
                            <br />Class - Sec: {{ user.ASMCL_ClassName}} - {{user.ASMC_SectionName}}
                        </td>
                        <td class="text-center">{{ user.Examdate | date:"dd-MMM-yyyy hh:mm a" }}</td>
                        <!--<td class="text-center">{{ user.TotalNofQuestions}}</td>
                        <td class="text-center">{{ user.LPSTUEX_TotalQnsAnswered}}</td>-->
                        <td class="text-center">{{ user.LPSTUEX_TotalMaxMarks}}</td>
                        <td class="text-center">{{ user.LPSTUEX_TotalMarks}}</td>
                        <td class="text-center">{{ user.LPSTUEX_Percentage}}</td>
                        <td class="text-center">
                            <a href="" ng-click="ViewStudentWiseMarks(user)">
                                <i class="fa fa-eye" style="color:black" title="View Student Details"></i>
                            </a>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
</section>

<div id="printSectionId" ng-show="export_table_flag">
    <div class="baldwin text-center">
        <img src="{{imgname}}" class="img-responsive" alt="baldwin">
    </div>
    <br />
    <center> <h4><u> Online Exam Report</u></h4></center>
    <br />
    <div class="row">
        <div class="col-sm-12">
            <div class="col-sm-6">
                <label class="control-label col-sm-12">Year : {{yearname}}</label>
            </div>
            <div class="col-sm-6">
                <label class="control-label col-sm-12">Subject : {{subjectname}}</label>
            </div>
            <div class="col-sm-6">
                <label class="control-label col-sm-12">Exam : {{examname}} </label>
            </div>
        </div>
    </div>
    <br />
    <table ng-show="tadprint" class="table table-hover table-responsive table-bordered" id="table1">
        <thead>
            <tr>
                <th>SLNO</th>
                <th>Student Details</th>
                <th>Exam Date</th>
                <!--<th>Total No.Of Questions</th>
                <th>Total Questions Answered</th>-->
                <th>Total Marks</th>
                <th>Obtained Marks</th>
                <th>Percentage</th>
            </tr>

        </thead>
        <tbody>
            <tr ng-repeat="user in result |orderBy:sortKey:reverse">
                <td class="text-center">{{$index+1}}</td>
                <td class="text-left">
                    Student Name : {{ user.StudentName}}
                    <br />Adm No. : {{user.AMST_AdmNo}}
                    <br />Mobile No. : {{ user.AMST_MobileNo}}
                    <br />Class - Sec: {{ user.ASMCL_ClassName}} - {{user.ASMC_SectionName}}
                </td>
                <td class="text-center">{{ user.Examdate | date:"dd-MMM-yyyy hh:mm a" }}</td>
                <!--<td class="text-center">{{ user.TotalNofQuestions}}</td>
                <td class="text-center">{{ user.LPSTUEX_TotalQnsAnswered}}</td>-->
                <td class="text-center">{{ user.LPSTUEX_TotalMaxMarks}}</td>
                <td class="text-center">{{ user.LPSTUEX_TotalMarks}}</td>
                <td class="text-center">{{ user.LPSTUEX_Percentage}}</td>
            </tr>
        </tbody>
    </table>
</div>

<div id="excelSectionId" ng-show="export_table_flag">
    <table>
        <tr style="border:0.5px solid black">
            <td colspan="8" style="text-align:center">
                Online Exam Report
            </td>
        </tr>
        <tr style="border:0.5px solid black">
            <td colspan="2" style="text-align:left">
                Year :{{yearname}}
            </td>
            <td colspan="4" style="text-align:left">
                Subject :{{subjectname}}
            </td>
            <td colspan="2" style="text-align:left">
                Exam :{{examname}}
            </td>
        </tr>
        <tr>
            <td colspan="8"> &nbsp;</td>
        </tr>
    </table>
    <table ng-show="tadprint">
        <thead>
            <tr style="border:0.5px solid black">
                <th>SLNO</th>
                <th>Student Details</th>
                <th>Exam Date</th>
                <!--<th>Total No.Of Questions</th>
                <th>Total Questions Answered</th>-->
                <th>Total Marks</th>
                <th>Obtained Marks</th>
                <th>Percentage</th>
            </tr>
        </thead>
        <tbody>
            <tr ng-repeat="user in result |orderBy:sortKey:reverse" style="border:0.5px solid black">
                <td class="text-center">{{$index+1}}</td>
                <td class="text-left" style="word-wrap:break-word">
                    Student Name : {{ user.StudentName}}
                    <br />Adm No. :{{user.AMST_AdmNo}}
                    <br />Mobile No. : {{ user.AMST_MobileNo}}
                    <br />Class - Sec: {{ user.ASMCL_ClassName}} - {{user.ASMC_SectionName}}
                </td>
                <td class="text-center">{{ user.Examdate | date:"dd-MMM-yyyy hh:mm a" }}</td>
                <!--<td class="text-center">{{ user.TotalNofQuestions}}</td>
                <td class="text-center">{{ user.LPSTUEX_TotalQnsAnswered}}</td>-->
                <td class="text-center">{{ user.LPSTUEX_TotalMaxMarks}}</td>
                <td class="text-center">{{ user.LPSTUEX_TotalMarks}}</td>
                <td class="text-center">{{ user.LPSTUEX_Percentage}}</td>
            </tr>
        </tbody>
    </table>
</div>

<div id="modalquestionpaper" class="modal fade" role="dialog" data-backdrop="static">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-body">
                <div class="modal-footer">
                    <div class="row text-right">
                        <md-button type="button" class="md-raised md-primary" ng-click="Print()">
                            Print<i class="fa fa-print"></i>
                        </md-button>
                        <md-button type="button" class="md-raised md-primary" data-dismiss="modal">
                            Close<i class="fa fa-times"></i>
                        </md-button>
                    </div>
                </div>
                <div class="box-body">
                    <div class="styleborder row">
                        <div class="baldwin text-center">
                            <img src="{{imgname}}" style="width: 80%;text-align: center;padding-left: 10%;" class="img-responsive" alt="baldwin">
                        </div>
                        <br />
                        <div class="row">
                            <div class="col-sm-6">
                                <div class="from-group">
                                    <label class="control-label col-sm-4"><b>Student Name</b> </label>
                                    <label class="control-label col-sm-8"><b>: {{StudentName}}</b></label>
                                </div>
                            </div>
                            <div class="col-sm-6">
                                <div class="from-group">
                                    <label class="control-label col-sm-4"><b>Admno</b> </label>
                                    <label class="control-label col-sm-8"><b>: {{AMST_AdmNo}}</b></label>
                                </div>
                            </div>
                            <div class="col-sm-6">
                                <div class="from-group">
                                    <label class="control-label col-sm-4"><b>Year</b> </label>
                                    <label class="control-label col-sm-8"><b>: {{yearname1}}</b></label>
                                </div>
                            </div>
                            <div class="col-sm-6">
                                <div class="from-group">
                                    <label class="control-label col-sm-4"><b>Class/Section</b> </label>
                                    <label class="control-label col-sm-8"><b>: {{ASMCL_ClassName}}/{{ASMC_SectionName}}</b></label>
                                </div>
                            </div>
                            <div class="col-sm-6">
                                <div class="from-group">
                                    <label class="control-label col-sm-4"><b>Subject</b> </label>
                                    <label class="control-label col-sm-8"><b>: {{subjectname1}}</b></label>
                                </div>
                            </div>
                            <div class="col-sm-6">
                                <div class="from-group">
                                    <label class="control-label col-sm-4"><b>Exam</b> </label>
                                    <label class="control-label col-sm-8"><b>: {{examname1}}</b></label>
                                </div>
                            </div>
                            <div class="col-sm-6">
                                <div class="from-group">
                                    <label class="control-label col-sm-4"><b>Exam Date</b></label>
                                    <label class="control-label col-sm-8"><b>: {{Examdate| date:'dd/MMM/yyyy hh:mm a'}}</b></label>
                                </div>
                            </div>
                            <div class="col-sm-6">
                                <div class="from-group">
                                    <label class="control-label col-sm-4"><b>Total Marks</b></label>
                                    <label class="control-label col-sm-8"><b>: {{LPSTUEX_TotalMaxMarks}}</b></label>
                                </div>
                            </div>
                            <div class="col-sm-6">
                                <div class="form-group">
                                    <label class="control-label col-sm-4 text-bold">Marks Obtained </label>
                                    <label class="control-label col-sm-8 text-bold">: {{LPSTUEX_TotalMarks}}</label>
                                </div>
                            </div>
                            <div class="col-sm-6">
                                <div class="form-group">
                                    <label class="control-label col-sm-4 text-bold">Duration </label>
                                    <label class="control-label col-sm-8 text-bold">: {{durationtake}} (In Mins)</label>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div ng-repeat="dd in getexamleveldetails" class="">
                            <div class="">
                                <!--styleborder-->
                                <div class="row margin-top-10">
                                    <div class="col-sm-12">
                                        <div class="col-sm-10">
                                            <h4 class="padding-left-10 levelheading">{{dd.lpmoeexlvL_LevelDesc}}</h4>
                                        </div>
                                        <div class="col-sm-2">
                                            <h4 class="levelheading pull-right">Marks : {{dd.lpmoeexlvL_LevelTotalMarks}}</h4>
                                        </div>
                                    </div>
                                </div>
                                <div ng-repeat="ques in dd.questions">
                                    <div class="row margin-top-10">
                                        <div class="col-sm-12">
                                            <div class="text-left questionstyle" style="display: flex;align-items: center;">
                                                <!--{{ques.lpmoeQ_Question}}-->
                                                <!--<span class="text-left" ng-if="ques.imgOptionCode==''" style="display: flex;align-items: center;">
                                                    {{$index+1}} Q)&nbsp;&nbsp;{{ques.lpmoeQ_Question}}
                                                </span>
                                                <span class="text-left" ng-if="ques.imgOptionCode!=''" style="display: flex;align-items: center;">
                                                    {{$index+1}} Q)&nbsp;&nbsp;<label contenteditable="false"><img align="middle" class="Wirisformula" src="{{ques.imgOptionCode}}" style="max-width: none; vertical-align: -5px;"></label>
                                                </span>-->

                                                <span class="text-left" ng-bind-html="ques.lpmoeQ_Question" style="max-width: none; vertical-align: -5px;white-space: pre-line !important;"></span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row" ng-if="ques.files.length>0">
                                        <div class="col-sm-12">
                                            <div class="col-sm-2 padding-left0px" ng-repeat="filedoc in ques.files">
                                                <img class="imgdisplay" src="{{filedoc.lpmoeqF_FilePath}}" />
                                            </div>
                                        </div>
                                    </div>

                                    <div ng-repeat="test in ques.qst_opt" ng-if="ques.lpmoeQ_SubjectiveFlg==false && ques.lpmoeQ_MatchTheFollowingFlg!=true">
                                        <div class="row margin-top-10">
                                            <div class="col-sm-12 padding-left-35" style="display: flex;align-items: center;">
                                                <!--<input type="radio" data-ng-model="ques.QuizeQuastions" value="{{test.LPMOEQOA_Id}}"
                                                name="option1{{ques.lpmoeQ_Id}}" disabled  />-->

                                                <label class="control-label optionssytle" style="display: flex;align-items: center;">
                                                    {{test.LPMOEQOA_Option}} )
                                                    <!--{{test.LPMOEQOA_OptionCode}}-->
                                                    <span class="text-left" ng-bind-html="test.LPMOEQOA_OptionCode" style="max-width: none; white-space: pre-line !important; vertical-align: -5px;">
                                                    </span>
                                                    <!--<span class="text-left" style="padding-left:5px" ng-if="test.imganswer==''">
                                                        {{test.LPMOEQOA_OptionCode}}
                                                    </span>
                                                    <span class="text-left" ng-if="test.imganswer!=''">
                                                        <span contenteditable="false" style="padding-left:5px"><img align="middle" class="Wirisformula" src="{{test.imganswer}}" style="max-width: none; vertical-align: -5px;"></span>
                                                    </span>-->                                                    
                                                </label>
                                            </div>
                                        </div>

                                        <div class="row margin-top-10" ng-if="test.opt_files.length>0">
                                            <div class="col-sm-12">
                                                <div class="col-sm-2 padding-left12px" ng-repeat="filedocopts in test.opt_files">
                                                    <img class="imgdisplayoptions" src="{{filedocopts.lpmoeqoaF_FilePath}}" />
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row col-sm-12 margin-top-10 padding-left-35" ng-if="ques.lpmoeQ_MatchTheFollowingFlg==true">
                                        <table class="table table-bordered" style="width:90%!important">
                                            <thead style="color:black!important ; background:white !important">
                                                <tr>
                                                    <th></th>
                                                    <th ng-repeat="cols in ques.colms_array">
                                                        {{cols.lpmoeqoamF_MatchtheFollowing}}
                                                    </th>
                                                    <th>Submitted Answer</th>
                                                    <th>Correct Answer</th>
                                                    <th>Marks</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr ng-repeat="rws in ques.qst_opt" ng-init="rws.QuizeQuastions">
                                                    <td class="text-left">
                                                        {{rws.LPMOEQOA_Option}}
                                                    </td>
                                                    <td ng-repeat="dd_cols in rws.cols_rows_array" class="text-center">
                                                        <input type="radio" ng-model="rws.QuizeQuastions" ng-value="{{dd_cols.lpmoeqoamF_Id}}"
                                                               name="option1{{ques.lpmoeQ_Id}}_{{rws.LPMOEQOA_Id}}"
                                                               ng-disabled="(rws.QuizeQuastions!=dd_cols.lpmoeqoamF_Id)"
                                                               ng-init="(rws.QuizeQuastions==dd_cols.lpmoeqoamF_Id)" />
                                                        <span class="lbl padding-8"></span>
                                                    </td>
                                                    <td class="text-left">
                                                        {{rws.studentans}}
                                                    </td>
                                                    <td class="text-left">
                                                        {{rws.correctanswer}}
                                                    </td>
                                                    <td class="text-center">
                                                        {{rws.marks}}
                                                    </td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>

                                    <div class="row" ng-if="ques.lpmoeQ_MatchTheFollowingFlg!=true">
                                        <div class="col-sm-12" style="display: flex;align-items: center;"
                                             ng-if="ques.SubjectiveFilePath==null || ques.SubjectiveFilePath==''">
                                            <div class="col-sm-2 padding-left-10">
                                                <b>Answer</b>
                                            </div>
                                            <div class="col-sm-10">
                                                <b>
                                                    : <span class="text-left" style="padding-left:5px" ng-if="ques.imganswer1==''">
                                                        {{ques.answergiven}}
                                                    </span>
                                                    <span class="text-left" ng-if="ques.imganswer1!=''">
                                                        <span contenteditable="false" style="padding-left:5px"><img align="middle" class="Wirisformula" src="{{ques.imganswer1}}" style="max-width: none; vertical-align: -5px;"></span>
                                                    </span>
                                                    <!--{{ques.answergiven}}-->
                                                </b>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="row" ng-if="ques.lpmoeQ_MatchTheFollowingFlg!=true">
                                        <div class="col-sm-12">
                                            <div class="col-sm-2 padding-left-10">
                                                <b>Marks</b>
                                            </div>
                                            <div class="col-sm-10">
                                                <b> : {{ques.marks}}</b>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="row" ng-if="ques.lpmoeQ_SubjectiveFlg==false && ques.lpmoeQ_MatchTheFollowingFlg!=true">
                                        <div class="col-sm-12">
                                            <div class="col-sm-2 padding-left-10">
                                                <b>Attempt Flag</b>
                                            </div>
                                            <div class="col-sm-10">
                                                <b> : {{ques.attemptflag}}</b>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <hr />
                    <div class="row text-right">
                        <md-button type="button" class="md-raised md-primary" ng-click="Print()">
                            Print<i class="fa fa-print"></i>
                        </md-button>
                        <md-button type="button" class="md-raised md-primary" data-dismiss="modal">
                            Close<i class="fa fa-times"></i>
                        </md-button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="modal fade" id="viewmarks" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" data-backdrop="static" data-keyboard="false">
    <div class="modal-dialog modal-large" style="width:90%;height:auto;margin:auto;">
        <div class="modal-content" style="background:none;">
            <div class="modal-body">
                <div class="box box-primary">
                    <div class="box-header with-border">
                        <md-button type="button" class="md-raised md-warn pull-right" data-dismiss="modal"> <i class="fa fa-times"></i> Close</md-button>
                        <h3 class="text-center">Result</h3>
                    </div>
                    <div class="box-body">
                        <div class="row">
                            <div class="col-sm-12">
                                <div class="col-sm-6">
                                    <div class="form-group">
                                        <label class="control-label col-sm-5 text-bold">Exam Name </label>
                                        <label class="control-label col-sm-7 text-bold">: {{examname1}}</label>
                                    </div>
                                    <div class="form-group">
                                        <label class="control-label col-sm-5 text-bold">Exam Date </label>
                                        <label class="control-label col-sm-7 text-bold">: {{examdate | date:'dd/MM/yyyy hh:mm a'}}</label>
                                    </div>
                                    <div class="form-group">
                                        <label class="control-label col-sm-5 text-bold">Total Max Marks </label>
                                        <label class="control-label col-sm-7 text-bold">: {{maxmarks}}</label>
                                    </div>
                                    <!--<div class="form-group">
                                        <label class="control-label col-sm-5 text-bold">No.Of Question Attempted </label>
                                        <label class="control-label col-sm-7 text-bold">: {{questionattempt}}</label>
                                    </div>-->

                                    <div class="form-group">
                                        <label class="control-label col-sm-5 text-bold">Percentage </label>
                                        <label class="control-label col-sm-7 text-bold">: {{maxmarkspercentage}}</label>
                                    </div>
                                </div>
                                <div class="col-sm-6">
                                    <div class="form-group">
                                        <label class="control-label col-sm-5 text-bold">Subject Name </label>
                                        <label class="control-label col-sm-7 text-bold">: {{subjectname}}</label>
                                    </div>
                                    <div class="form-group">
                                        <label class="control-label col-sm-5 text-bold">Time Taken </label>
                                        <label class="control-label col-sm-7 text-bold">: {{durationtake}} (In Mins)</label>
                                    </div>
                                    <div class="form-group">
                                        <label class="control-label col-sm-5 text-bold">Total Marks Obtained </label>
                                        <label class="control-label col-sm-7 text-bold">: {{marksobtained}}</label>
                                    </div>
                                    <!--<div class="form-group">
                                        <label class="control-label col-sm-5 text-bold">No.Of Correct Answers </label>
                                        <label class="control-label col-sm-7 text-bold">: {{questioncorrect}}</label>
                                    </div>-->
                                </div>
                            </div>
                        </div>
                        <hr />

                        <div class="row" ng-if="lpmoeeX_UploadExamPaperFlg==false">
                            <div class="col-sm-12">
                                <table class="table table-bordered">
                                    <thead>
                                        <tr>
                                            <th>Sl.No</th>
                                            <th>Question</th>
                                            <th>Answer Given</th>
                                            <th>Correct Answer</th>
                                            <th>Correct Answer Flag</th>
                                            <th>Marks Obtained</th>
                                            <th>Attempt Flag</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr ng-repeat="mrks in getallmarksdetails" ng-if="mrks.SubjectiveOrObjective=='Objective'">
                                            <td class="text-center">{{$index+1}}</td>
                                            <td class="text-left">{{mrks.LPMOEQ_Question}}</td>
                                            <td class="text-left">{{mrks.StuQnsOptionName}}</td>
                                            <td class="text-left">{{mrks.CorrectOptionName}}</td>
                                            <td class="text-center">
                                                <span ng-if="mrks.SCorrectAnsFlg==0">
                                                    <i class="fa fa-times text-red" title="Wrong Answer"></i>
                                                </span>
                                                <span ng-if="mrks.SCorrectAnsFlg==1">
                                                    <i class="fa fa-check text-green" title="Correct Answer"></i>
                                                </span>
                                            </td>
                                            <td class="text-center">{{mrks.LPMOEEXQNS_Marks}}</td>
                                            <td class="text-center">
                                                <span ng-if="mrks.Attemptflag=='Not Attempted'">
                                                    <i class="fa fa-times text-red" title="Not Attempted"></i>
                                                </span>
                                                <span ng-if="mrks.Attemptflag=='Attempted'">
                                                    <i class="fa fa-check text-green" title="Attempted"></i>
                                                </span>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                                <hr />
                                <div ng-repeat="mrks in getallmarksdetails" ng-if="mrks.SubjectiveOrObjective=='Subjective'">
                                    <div class="row">
                                        <div class="col-sm-12">
                                            <div class="col-sm-2">
                                                {{$index+1}} Ques
                                            </div>
                                            <div class="col-sm-10">
                                                : {{mrks.LPMOEQ_Question}}
                                            </div>
                                        </div>

                                    </div>
                                    <div class="row">
                                        <div class="col-sm-12">
                                            <div class="col-sm-2">
                                                Ans
                                            </div>
                                            <div class="col-sm-10">
                                                : {{mrks.StuQnsOptionName}}
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-sm-12">
                                            <div class="col-sm-2">
                                                Correct Answer
                                            </div>
                                            <div class="col-sm-8">
                                                : {{mrks.CorrectOptionName}}
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-sm-12">
                                            <div class="col-sm-2">
                                                Marks
                                            </div>
                                            <div class="col-sm-10">
                                                : {{mrks.LPMOEEXQNS_Marks}}
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-sm-12">
                                            <div class="col-sm-2">
                                                Attempt Flag
                                            </div>
                                            <div class="col-sm-10">
                                                : {{mrks.Attemptflag}}
                                            </div>
                                        </div>
                                    </div>
                                    <hr />
                                </div>
                            </div>
                        </div>

                        <div ng-if="lpmoeeX_UploadExamPaperFlg==true">
                            <div class="row">
                                <div class="col-sm-12">
                                    <table class="table table-bordered">
                                        <thead>
                                            <tr>
                                                <th>Sl.No</th>
                                                <th>Student Answer Sheet</th>
                                                <th>Action</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr ng-repeat="details in getallmarksdetails">
                                                <td class="text-center">{{$index+1}}</td>
                                                <td class="text-left"> {{details.lpstuexaS_AnswerSheetFile}}</td>
                                                <td class="text-center">
                                                    <span ng-if="details.lpstuexaS_AnswerSheetPath!==null && details.lpstuexaS_AnswerSheetPath!==''">
                                                        <i class="fa fa-download text-blue" title="Download File" ng-click="downloaddirectimage(details.lpstuexaS_AnswerSheetPath,details.lpstuexaS_AnswerSheetFile)"></i>
                                                    </span>
                                                    |
                                                    <span ng-if="details.lpstuexaS_AnswerSheetPath !=null && details.lpstuexaS_AnswerSheetPath !=''">
                                                        <a ng-if="details.quesfiletypeview1=='jpg' || details.quesfiletypeview1=='png'
                                                           || details.quesfiletypeview1=='svg' || details.quesfiletypeview1=='jpeg' || details.quesfiletypeview1=='gif'"
                                                           data-ng-click="showmothersign(details.lpstuexaS_AnswerSheetPath,details.lpstuexaS_AnswerSheetFile)">
                                                            <i class="fa fa-eye text-black" title="View File"></i>
                                                        </a>
                                                        <a ng-if="details.quesfiletypeview1=='mp4' || details.quesfiletypeview1=='mp4'"
                                                           data-target="#popup15" ng-click="showGuardianPhotonew(details)">
                                                            <i class="fa fa-eye text-black" title="View File"></i>
                                                        </a>
                                                        <a ng-if="details.quesfiletypeview1=='pdf'"
                                                           ng-click="onview(details.lpstuexaS_AnswerSheetPath,details.lpstuexaS_AnswerSheetFile)">
                                                            <i class="fa fa-eye  text-black" title="View File"></i>
                                                        </a>

                                                        <a ng-if="details.quesfiletypeview1=='doc'|| details.quesfiletypeview1=='docx'" ng-click="onviewdocuments(details.lpstuexaS_AnswerSheetPath,details.lpstuexaS_AnswerSheetFile)">
                                                            <i class="fa fa-eye text-black" title="View File"></i>
                                                        </a>
                                                        <a ng-if="details.quesfiletypeview1=='ppt'|| details.quesfiletypeview1=='pptx'" ng-click="onviewdocuments(details.lpstuexaS_AnswerSheetPath,details.lpstuexaS_AnswerSheetFile)">
                                                            <i class="fa fa-eye text-black" title="View File"></i>
                                                        </a>
                                                        <a ng-if="details.quesfiletypeview1=='xls'|| details.quesfiletypeview1=='xlsx'" ng-click="onviewdocuments(details.lpstuexaS_AnswerSheetPath,details.lpstuexaS_AnswerSheetFile)">
                                                            <i class="fa fa-eye text-black" title="View File"></i>
                                                        </a>
                                                    </span>
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                        <hr />
                        <div class="row">
                            <div class="col-sm-12 text-center">
                                <md-button type="button" class="md-raised md-warn" ng-click="OkViewMarks()">
                                    <i class="fa fa-chevron-primary"></i> OK
                                </md-button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<div id="printdetails" ng-show="dfsdfsdf">
    <div class="">
        <div class="styleborder row">
            <div class="baldwin text-center padding-top-5">
                <img src="{{imgname}}" style="width: 80%;text-align: center;" class="img-responsive" alt="baldwin">
            </div>
            <br />
            <div class="row">
                <div class="col-sm-6">
                    <div class="from-group">
                        <label class="control-label col-sm-4"><b>Student Name</b> </label>
                        <label class="control-label col-sm-8"><b>: {{StudentName}}</b></label>
                    </div>
                </div>
                <div class="col-sm-6">
                    <div class="from-group">
                        <label class="control-label col-sm-4"><b>Admno</b> </label>
                        <label class="control-label col-sm-8"><b>: {{AMST_AdmNo}}</b></label>
                    </div>
                </div>
                <div class="col-sm-6">
                    <div class="from-group">
                        <label class="control-label col-sm-4"><b>Year</b> </label>
                        <label class="control-label col-sm-8"><b>: {{yearname1}}</b></label>
                    </div>
                </div>
                <div class="col-sm-6">
                    <div class="from-group">
                        <label class="control-label col-sm-4"><b>Class/Section</b> </label>
                        <label class="control-label col-sm-8"><b>: {{ASMCL_ClassName}}/{{ASMC_SectionName}}</b></label>
                    </div>
                </div>
                <div class="col-sm-6">
                    <div class="from-group">
                        <label class="control-label col-sm-4"><b>Subject</b> </label>
                        <label class="control-label col-sm-8"><b>: {{subjectname1}}</b></label>
                    </div>
                </div>
                <div class="col-sm-6">
                    <div class="from-group">
                        <label class="control-label col-sm-4"><b>Exam</b> </label>
                        <label class="control-label col-sm-8"><b>: {{examname1}}</b></label>
                    </div>
                </div>
                <div class="col-sm-6">
                    <div class="from-group">
                        <label class="control-label col-sm-4"><b>Exam Date</b></label>
                        <label class="control-label col-sm-8"><b>: {{Examdate| date:'dd/MMM/yyyy hh:mm a'}}</b></label>
                    </div>
                </div>
                <div class="col-sm-6">
                    <div class="from-group">
                        <label class="control-label col-sm-4"><b>Total Marks</b></label>
                        <label class="control-label col-sm-8"><b>: {{LPSTUEX_TotalMaxMarks}}</b></label>
                    </div>
                </div>
                <div class="col-sm-6">
                    <div class="form-group">
                        <label class="control-label col-sm-4 text-bold">Marks Obtained </label>
                        <label class="control-label col-sm-8 text-bold">: {{LPSTUEX_TotalMarks}}</label>
                    </div>
                </div>
                <div class="col-sm-6">
                    <div class="form-group">
                        <label class="control-label col-sm-4 text-bold">Duration </label>
                        <label class="control-label col-sm-8 text-bold">: {{durationtake}} (In Mins)</label>
                    </div>
                </div>
            </div>
        </div>
        <div class="row">
            <div ng-repeat="dd in getexamleveldetails" class="">
                <div class="">
                    <!--styleborder-->
                    <div class="row margin-top-10">
                        <div class="col-sm-12">
                            <div class="col-sm-10">
                                <h4 class="padding-left-10 levelheading" style="font-size: 20px !important;">{{dd.lpmoeexlvL_LevelDesc}}</h4>
                            </div>
                            <div class="col-sm-2 padding-rignt-6">
                                <h4 class="levelheading pull-right" style="font-size: 20px !important;">Marks : {{dd.lpmoeexlvL_LevelTotalMarks}}</h4>
                            </div>
                        </div>
                    </div>
                    <div ng-repeat="ques in dd.questions">
                        <hr />
                        <div class="row margin-top-10">
                            <div class="col-sm-12">
                                <div class="text-left questionstyle" style="display: flex;align-items: center;font-size:14px">

                                    <!--<span class="text-left" ng-if="ques.imgOptionCode==''">
                                        {{$index+1}} Q)&nbsp;&nbsp; {{ques.lpmoeQ_Question}}
                                    </span>
                                    <span class="text-left" ng-if="ques.imgOptionCode!=''" style="display: flex;align-items: center;font-size:14px">
                                        {{$index+1}} Q)&nbsp;&nbsp; <label contenteditable="false"><img align="middle" class="Wirisformula" src="{{ques.imgOptionCode}}" style="max-width: none; vertical-align: -5px;"></label>
                                    </span>-->

                                    <span ng-bind-html="ques.lpmoeQ_Question" style="max-width: none; vertical-align: -5px; white-space: pre-line !important;" class="text-left"></span>

                                </div>
                            </div>
                        </div>
                        <div class="row" ng-if="ques.files.length>0">
                            <div class="col-sm-12">
                                <div class="col-sm-2 padding-left0px" ng-repeat="filedoc in ques.files">
                                    <img class="imgdisplay" src="{{filedoc.lpmoeqF_FilePath}}" />
                                </div>
                            </div>
                        </div>
                        <div ng-repeat="test in ques.qst_opt" ng-if="ques.lpmoeQ_SubjectiveFlg==false && ques.lpmoeQ_MatchTheFollowingFlg!=true">
                            <div class="row margin-top-10">
                                <div class="col-sm-12 padding-left-35">
                                    <!--<input type="radio" data-ng-model="ques.QuizeQuastionds" value="{{test.LPMOEQOA_Id}}"
                                           name="option1{{ques.lpmoeQ_Id}}"/>
                                    <span class="lbl padding-8 optionssytle">{{test.LPMOEQOA_Option}} ) {{test.LPMOEQOA_OptionCode}}</span>-->
                                    <label class="control-label optionssytle" style="display: flex;align-items: center;font-size:14px">
                                        {{test.LPMOEQOA_Option}} )
                                        <!--<span class="text-left" style="padding-left:5px;font-size:14px" ng-if="test.imganswer==''">
                                            {{test.LPMOEQOA_OptionCode}}
                                        </span>
                                        <span class="text-left" ng-if="test.imganswer!=''">
                                            <span contenteditable="false" style="padding-left:5px"><img align="middle" class="Wirisformula" src="{{test.imganswer}}" style="max-width: none; vertical-align: -5px;"></span>
                                        </span>-->
                                        <span ng-bind-html="test.LPMOEQOA_OptionCode" style="max-width: none; white-space: pre-line !important; vertical-align: -5px;" class="text-left"></span>
                                    </label>
                                </div>
                            </div>
                            <div class="row margin-top-10" ng-if="test.opt_files.length>0">
                                <div class="col-sm-12">
                                    <div class="col-sm-2 padding-left12px" ng-repeat="filedocopts in test.opt_files">
                                        <img class="imgdisplayoptions" src="{{filedocopts.lpmoeqoaF_FilePath}}" />
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div ng-if="ques.lpmoeQ_SubjectiveFlg==false && ques.lpmoeQ_MatchTheFollowingFlg==true">
                            <div class="row col-sm-12 margin-top-10 padding-left-35">
                                <table class="table table-bordered" style="width:90%!important">
                                    <thead style="color:black!important ; background:white !important">
                                        <tr>
                                            <th></th>
                                            <th ng-repeat="cols in ques.colms_array">
                                                {{cols.lpmoeqoamF_MatchtheFollowing}}
                                            </th>
                                            <th>Submitted Answer</th>
                                            <th>Correct Answer</th>
                                            <th>Marks</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr ng-repeat="rws in ques.qst_opt" ng-init="rws.QuizeQuastions">
                                            <td class="text-left">
                                                {{rws.LPMOEQOA_Option}}
                                            </td>
                                            <td ng-repeat="dd_cols in rws.cols_rows_array" class="text-center">
                                                <input type="radio" ng-model="rws.QuizeQuastions" ng-value="{{dd_cols.lpmoeqoamF_Id}}"
                                                       name="option1{{ques.lpmoeQ_Id}}_{{rws.LPMOEQOA_Id}}" disabled
                                                       ng-init="(rws.QuizeQuastions==dd_cols.lpmoeqoamF_Id)" />
                                                <span class="lbl padding-8"></span>
                                            </td>
                                            <td class="text-left">
                                                {{rws.studentans}}
                                            </td>
                                            <td class="text-left">
                                                {{rws.correctanswer}}
                                            </td>
                                            <td class="text-center">
                                                {{rws.marks}}
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>

                        <div class="row" ng-if="ques.lpmoeQ_MatchTheFollowingFlg!=true">
                            <div class="col-sm-12" ng-if="ques.SubjectiveFilePath==null || ques.SubjectiveFilePath==''">
                                <div class="col-sm-2 padding-left-10">
                                    <b>Answer</b>
                                </div>
                                <div class="col-sm-9">
                                    <b>
                                        : <span class="text-left" style="padding-left:5px" ng-if="ques.imganswer1==''">
                                            {{ques.answergiven}}
                                        </span>
                                        <span class="text-left" ng-if="ques.imganswer1!=''">
                                            <span contenteditable="false" style="padding-left:5px"><img align="middle" class="Wirisformula" src="{{ques.imganswer1}}" style="max-width: none; vertical-align: -5px;"></span>
                                        </span>
                                    </b>
                                </div>
                            </div>
                        </div>

                        <div class="row" ng-if="ques.lpmoeQ_MatchTheFollowingFlg!=true">
                            <div class="col-sm-12">
                                <div class="col-sm-2 padding-left-10">
                                    <b>Marks</b>
                                </div>
                                <div class="col-sm-9">
                                    <b> : {{ques.marks}}</b>
                                </div>
                            </div>
                        </div>

                        <div class="row" ng-if="ques.lpmoeQ_MatchTheFollowingFlg!=true">
                            <div class="col-sm-12">
                                <div class="col-sm-2 padding-left-10">
                                    <b>Attempt Flag</b>
                                </div>
                                <div class="col-sm-9">
                                    <b> : {{ques.attemptflag}}</b>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <hr />
    </div>
</div>


<!-- View Image -->
<div id="myModalimg" class="modal fade" role="dialog" data-backdrop="static">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-body">
                <img id="preview" class="img-responsive zoom" />
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
            </div>
        </div>
    </div>
</div>

<!-- View Video -->
<div class="modal fade modal-small" id="popup15" role="dialog" data-backdrop="static">
    <div class="modal-dialog modal-lg">
        <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal"><i class="fa fa-times text-white" aria-hidden="true"></i></button>
        </div>
        <!-- Modal content-->
        <div class="modal-content">
            <div class="modal-body">
                <div ng-repeat="vi1 in view_videos" style="padding-bottom:20px">
                    <video width="320" height="240" controls="controls" crossorigin="anonymous" controlsList="nodownload" oncontextmenu="return false;">
                        <source ng-src="{{vi1.coeeV_Videos | trustUrl}}" type="video/mp4">
                        Your browser does not support HTML5 video.
                    </video>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" ng-click="pauseOrPlay()" data-dismiss="modal">Close</button>
            </div>
        </div>
    </div>
</div>

<!-- View PDF -->
<div id="showpdf" class="modal fade" role="dialog" data-backdrop="static">
    <div class="modal-dialog modal-lg">
        <!-- Modal content-->
        <div class="modal-content">
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
            </div>
            </
            <div id="viewpdf">
                >

            </div>
            <!--<embed ng-src="{{content}}" style="width: 100%;" height="1000" />-->

            <div class="modal-body" oncontextmenu="return false"></div>
        </div>
    </div>
</div>

<div id="myModaldocx" class="modal fade" role="dialog" style="z-index:9999;overflow:auto !important" data-backdrop="static" data-keyboard="false">
    <div class="modal-dialog modal-lg" style="width: 85%; overflow:auto;">
        <div class="modal-content">
            <div class="modal-footer">
                <div class="row">
                    <div class="col-sm-10 pull-right">
                        <button type="button" class="btn btn-warning" data-toggle="modal" data-dismiss="modal">
                            <i class="fa fa-window-close" aria-hidden="true"> Close</i>
                        </button>
                    </div>
                </div>
            </div>
            <div class="modal-body">
                <div class="box" style="overflow:auto;">
                    <div class="box-body">
                        <iframe width="1150" height="1000" style="overflow:auto" ng-src="{{detailFrame}}"></iframe>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>