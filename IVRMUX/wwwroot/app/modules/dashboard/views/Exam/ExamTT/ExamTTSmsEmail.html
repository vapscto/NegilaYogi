

<section class="content">
    <form class="form-horizontal ng-pristine ng-valid" name="myForm" role="form" ng-init="BindData()" novalidate>
        <div class="box box-primary">
            <div class="box-header with-border">
                <h3 class="box-title">Exam Time Table</h3>
                <div class="box-tools pull-right">
                    <button type="button" class="btn btn-box-tool" data-widget="collapse"><i class="fa fa-minus"></i></button>
                </div>
            </div>
            <div class="box-body">
                <div class="row">
                    <div class="col-sm-6">
                        <div class="form-group">
                            <label class="control-label col-sm-4">Academic Year :<span style="color:Red">*</span></label>
                            <div class="col-sm-8">
                                <select class="form-control" id="sel1" name="Year" ng-model="ASMAY_Id" data-ng-change="onselectAcdYear(ASMAY_Id)" required>
                                    <option value="" label="Select Academic Year"> </option>
                                    <option ng-repeat="option1 in acdlist" value="{{option1.asmaY_Id}}" ng-selected="{{option1.Selected == true}}">
                                        {{option1.asmaY_Year}}
                                    </option>
                                </select>
                            </div>
                            <div class="col-sm-8 col-sm-offset-4 error-messages" ng-if="interacted(myForm.Year)" ng-messages="myForm.Year.$error">
                                <div ng-message="required">Please Select Academic Year</div>
                            </div>
                        </div>
                    </div>


                    <div class="col-sm-6">
                        <div class="form-group">
                            <label class="control-label col-sm-4">Class :<span style="color:Red">*</span></label>
                            <div class="col-sm-8">
                                <select class="form-control" id="sel2" name="cls" ng-model="ASMCL_Id" data-ng-change="onselectclass(ASMCL_Id,ASMAY_Id,EMCA_Id)" required>
                                    <option value="" label="Select Class"> </option>
                                    <option ng-repeat="option2 in ctlist" value="{{option2.asmcL_Id}}" ng-selected="{{option2.Selected == true}}">
                                        {{option2.asmcL_ClassName}}
                                    </option>
                                </select>
                            </div>
                            <div class="col-sm-8 col-sm-offset-4 error-messages" ng-if="interacted(myForm.cls)" ng-messages="myForm.cls.$error">

                                <div ng-message="required">Please Select Class</div>

                            </div>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-sm-6">
                        <div class="form-group">
                            <label class="control-label col-sm-4">Section :<span style="color:Red">*</span></label>
                            <div class="col-sm-8">
                                <select class="form-control" id="sel3" name="sec" ng-model="ASMS_Id" data-ng-change="onselectSection()" required>
                                    <option value="" label="Select Section"> </option>
                                    <option ng-repeat="option3 in seclist" value="{{option3.asmS_Id}}" ng-selected="{{option3.Selected == true}}">
                                        {{option3.asmC_SectionName}}
                                    </option>
                                </select>
                            </div>
                            <div class="col-sm-8 col-sm-offset-4 error-messages" ng-if="interacted(myForm.sec)" ng-messages="myForm.sec.$error">
                                <div ng-message="required">Please Select Section</div>
                            </div>
                        </div>
                    </div>

                    <div class="col-sm-6">
                        <div class="form-group">
                            <label class="control-label col-sm-4">Exam Name :<span style="color:Red">*</span></label>
                            <div class="col-sm-8">
                                <select class="form-control" id="sel8" name="exm" ng-model="EME_Id" ng-change="getsubjectgroup()" required>
                                    <option value="" label="Select Exam"> </option>
                                    <option ng-repeat="option8 in examlist" value="{{option8.emE_Id}}" ng-selected="{{option8.Selected == true}}">
                                        {{option8.emE_ExamName}}
                                    </option>
                                </select>
                            </div>
                            <div class="col-sm-8 col-sm-offset-4 error-messages" ng-if="interacted(myForm.exm)" ng-messages="myForm.exm.$error">
                                <div ng-message="required">Please Select Exam</div>
                            </div>
                        </div>
                    </div>
                </div>   
                <div class="row">
                    <!--<div class="col-sm-6">
                        <div class="form-group">
                            <label class="control-label col-sm-4">Subject Group :<span style="color:Red">*</span></label>
                            <div class="col-sm-8">
                                <select class="form-control" id="sel7" name="sub" ng-model="EMG_Id" data-ng-change="onselectSubject()" required>
                                    <option value="" label="Select Subject"> </option>
                                    <option ng-repeat="option7 in subject_group" value="{{option7.emG_Id}}" ng-selected="{{EMG_Id == option7.emG_Id}}">
                                        {{option7.emG_GroupName}}
                                    </option>
                                </select>
                            </div>
                            <div class="col-sm-8 col-sm-offset-4 error-messages" ng-if="interacted(myForm.sub)" ng-messages="myForm.sub.$error">
                                <div ng-message="required">Please Select Subject</div>
                            </div>
                        </div>
                    </div>-->                    
                </div>         
                <div class="form-group" style="text-align:center">
                    <md-button type="button" class="md-raised md-primary" data-ng-click="generate()">
                        Generate TimeTable <i class="fa fa-refresh" aria-hidden="true"></i>
                    </md-button>
                    <md-button type="button" class="md-raised md-primary" ng-if="main_list2.length > 0" data-ng-click="getStudentsTeachers()">
                        Get Students and Teachers <i class="" aria-hidden="true"></i>
                    </md-button>
                    <md-button type="button" class="md-raised md-warn" ng-click="cancel()">
                        <i class="fa fa-times" aria-hidden="true"></i>
                        Cancel
                    </md-button>
                    <!--<md-button type="button" class="md-raised md-warn" ng-click="pdf()">
                        <i class="fa fa-times" aria-hidden="true"></i>
                        Pdf
                    </md-button>
                    <button pdf-save-button="idOne" pdf-name="someone.pdf" class="btn">Hello Someone</button>-->
                </div>                      
            </div>
        </div>
        <div class="box box-primary" ng-show="main_list.length>0">
            <div class="box-header with-border">
                <h3 class="box-title">Student Details</h3>
                <div class="box-tools pull-right">
                    <button type="button" class="btn btn-box-tool" data-widget="collapse" data-placement="bottom" data-toggle="tooltip" title="collapsible"><i class="fa fa-minus"></i></button>
                </div>
            </div>
            <!-- /.box-header -->
            <div class="box-body" id="table">
                <div style="padding-bottom:50px;">
                    <table class="table table-bordered">
                        <thead>
                            <tr>
                                <th row-select-all="exm.check_save_stud" ng-click="all_check()">
                                    <label>
                                        <input type="checkbox" class="text-center" ng-model="check_all">
                                        <span class="lbl padding-8"></span>
                                    </label>
                                </th>
                                <th><a href="">Admn No</a></th>
                                <th><a href="">Student Name</a></th>
                                <th><a href="">Mobile</a></th>
                                <th><a href="">Email Id</a></th>
                            </tr>
                        </thead>
                        <tbody ng-repeat="exm in main_list">
                            <tr>
                                <td>
                                    <label>
                                        <input type="checkbox" class="text-center" ng-model="exm.check_save_stud" ng-click="addColumn1(exm)">
                                        <span class="lbl padding-8"></span>
                                    </label>
                                </td>
                                <td class="text-left">{{exm.amsT_AdmNo}}</td>
                                <td class="text-left">{{exm.amsT_FirstName}}</td>
                                <td class="text-left">{{exm.amsT_MobileNo}}</td>
                                <td class="text-left">{{exm.amsT_emailId}}</td>
                            </tr>

                        </tbody>
                    </table>
                </div>
            </div>
        </div>

        <div class="box box-primary" ng-show="main_list.length>0">
            <div class="box-header with-border">
                    <h3 class="box-title">Teacher Details</h3>
                    <div class="box-tools pull-right">
                        <button type="button" class="btn btn-box-tool" data-widget="collapse" data-placement="bottom" data-toggle="tooltip" title="collapsible"><i class="fa fa-minus"></i></button>
                    </div>
                </div>
            <!-- /.box-header -->
            <div class="box-body" id="table1">
                    <div style="padding-bottom:50px;">
                        <table class="table table-bordered">
                            <thead>
                                <tr>
                                    <th row-select-all="exm.check_save_teach" ng-click="all_check1()">
                                        <label>
                                            <input type="checkbox" ng-model="check_all1">
                                            <span class="lbl padding-8"></span>
                                        </label>
                                    </th>
                                    <th><a href="">Emp_Code</a></th>
                                    <th><a href="">Name</a></th>
                                    <th><a href="">Mobile</a></th>
                                    <th><a href="">Email Id</a></th>

                                </tr>
                            </thead>
                            <tbody ng-repeat="exm in main_list1">
                                <tr>
                                    <td>
                                        <label>
                                            <input type="checkbox" ng-model="exm.check_save_teach" ng-click="addColumn(exm)">
                                            <span class="lbl padding-8"></span>
                                        </label>
                                    </td>
                                    <td class="text-left">{{exm.hrmE_EmployeeCode}}</td>
                                    <td class="text-left">{{exm.hrmE_EmployeeFirstName}}</td>
                                    <td class="text-left">{{exm.hrmE_MobileNo}}</td>
                                    <td class="text-left">{{exm.hrmE_EmailId}}</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div class="form-group" style="text-align:center">
                        <md-button type="button" class="md-raised md-primary" data-ng-click="sendmail()">
                            Send SMS & Email <i class="" aria-hidden="true"></i>
                        </md-button>                        
                    </div>
                </div>               
        </div>

        <div class="box box-primary" ng-show="main_list2.length>0">
            <div class="box-header with-border">
                <h3 class="box-title">Exam TimeTable</h3>
                <div class="box-tools pull-right">
                    <button type="button" class="btn btn-box-tool" data-widget="collapse" data-placement="bottom" data-toggle="tooltip" title="collapsible"><i class="fa fa-minus"></i></button>
                </div>
            </div>
            <!-- /.box-header -->
            <div class="box-body"  id="timetable"  pdf-save-content="idOne" >
                <div style="padding-bottom:50px;">
                    
                    <table class="table table-bordered" border="1" runat="server"  id="timetable">
                        <thead>
                            <tr>
                               <th><a href="">Subject</a></th>
                                <th><a href="">Session Name</a></th>
                                <th><a href="">Exam Date</a></th>
                                <th><a href="">Start Time</a></th>
                                <th><a href="">End Time</a></th>

                            </tr>
                        </thead>
                        <tbody ng-repeat="exm in main_list2">
                            <tr>  
                                <td class="text-left">{{exm.ismS_SubjectName}}</td>
                                <td class="text-left">{{exm.ettS_SessionName}}</td>
                                <td class="text-left">{{exm.exttS_Date |date:'dd/MM/yyyy'}}</td>
                                <td class="text-left">{{exm.ettS_StartTime}}</td>
                                <td class="text-left">{{exm.ettS_EndTime}}</td>
                            </tr>

                        </tbody>
                    </table>
                </div>
            </div>     
        </div>
    </form>
</section>