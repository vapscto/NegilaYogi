<section class="content" ng-init="loadgrid()">
    <form class="form-horizontal ng-pristine ng-valid" role="form" name="myForm" novalidate>
        <div class="box box-primary">
            <div class="box-header with-border">
                <h3 class="box-title">Inward Entry Form</h3>
                <div class="box-tools pull-right">
                    <button type="button" class="btn btn-box-tool" data-widget="collapse"><i class="fa fa-minus"></i></button>
                </div>
            </div>
            <div class="box-body">
                <div class="row">
                    <div class="col-sm-6">
                        <div class="form-group">
                            <label class="control-label col-sm-4">Description:<span style="color:Red">*</span></label>
                            <div class="col-sm-8">
                                <input type="text" class="form-control" name="visname" ng-model="FOIN_Discription" allow-pattern="(\s|[a-zA-Z0-9])" required ng-maxlength="200">
                                <div class="error-messages" ng-if="interacted(myForm.visname)" ng-messages="myForm.visname.$error">
                                    <div ng-message="required">Enter Description</div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-sm-6">
                        <div class="form-group">
                            <label class="control-label col-sm-4">Date :<span style="color:Red">*</span></label>
                            <div class="col-sm-8">
                                <md-datepicker ng-model="FOIN_DateTime" name="date133" md-placeholder="Enter date" md-min-date="minDatemf" md-max-date="maxDatemf" onkeydown="return false" required></md-datepicker>
                                <div class="error-messages" ng-if="interacted(myForm.date133)" ng-messages="myForm.date133.$error">
                                    <div ng-message="required">Select date</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-sm-6">
                        <div class="form-group">
                            <label class="control-label col-sm-4">From:<span style="color:Red">*</span></label>
                            <div class="col-sm-8">
                                <input type="text" class="form-control" name="phno" ng-model="FOIN_From" required>
                                <div class="error-messages" ng-if="interacted(myForm.phno)" ng-messages="myForm.phno.$error">
                                    <div ng-message="required">Enter From</div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-sm-6">
                        <div class="form-group">
                            <label class="control-label col-sm-4">Contact Person:<span style="color:Red">*</span></label>
                            <div class="col-sm-8">
                                <input type="text" class="form-control" name="mail" ng-model="FOIN_ContactPerson" allow-pattern="(\s|[a-zA-Z])" required>
                                <div class="error-messages" ng-if="interacted(myForm.mail)" ng-messages="myForm.mail.$error">
                                    <div ng-message="required">Enter Contact Person</div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-sm-6">
                        <div class="form-group">
                            <label class="control-label col-sm-4">Phone No:</label>
                            <div class="col-sm-8">
                                <input class="form-control" name="Phone" id="catgry2" type="text" ng-model="FOIN_PhoneNo" placeholder="Enter Phone No" maxlength="10" minlength="10" allow-pattern="\d" required>
                                <div class="text-left error-messages" ng-if="interacted(myForm.Phone)" ng-messages="myForm.Phone.$error">
                                    <div ng-message="required">Enter Phone number</div>
                                    <div ng-message="minlength">Phone number must contain 10 digits</div>
                                    <div ng-message="maxlength">Phone number must contain 10 digits</div>
                                    <div ng-message="pattern"> Phone number will accept only numerics </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-sm-6">
                        <div class="form-group">
                            <label class="control-label col-sm-4">Email Id :<!--<span style="color:Red">*</span>--></label>
                            <div class="col-sm-8">
                                <input type="email" class="form-control" name="emaisdf" ng-model="FOIN_EmailId" pattern="[^ @]*@[^ @]*" 
                                       placeholder="Enter your email" />
                                <div class="text-left error-messages" ng-if="interacted(myForm.emaisdf)" ng-messages="myForm.emaisdf.$error">
                                    <div ng-message="required">Enter a email</div>
                                    <div ng-message="pattern">Please enter valid email which contains '@' and '.'</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-sm-6">
                        <div class="form-group">
                            <label class="control-label col-sm-4">Person To:<span style="color:Red">*</span></label>
                            <div class="col-sm-8">
                                <ui-select id="sel1" name="studentname" ng-model="$parent.emp1" theme="bootstrap" ng-keyup="searchfilter($select);"
                                           ng-change="get_empdetails($parent.emp1)" title="Select emp" required>

                                    <ui-select-match ng-trim="false" placeholder="Select or search employee in the list...">
                                        {{$select.selected.hrmE_EmployeeFirstName}}
                                    </ui-select-match>
                                    <ui-select-choices repeat="option in emplist1 | filter: $select.search " value="{{option.hrmE_Id}}" ng-selected="{{option.Selected == true}}">
                                        <div ng-bind-html="(option.hrmE_EmployeeFirstName) | highlight: $select.search"></div>
                                    </ui-select-choices>
                                </ui-select>
                                <label id="upnme" ng-show="updateshowlabel">{{updatename}}</label>

                                <div class="error-messages" ng-if="interacted(myForm.studentname)" ng-messages="myForm.studentname.$error">
                                    <div ng-message="required">Enter Person</div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-sm-6">
                        <div class="form-group">
                            <label class="control-label col-sm-4">HandedOver To:</label>
                            <div class="col-sm-8">
                                <ui-select id="sel11" name="studentname34" ng-model="$parent.hrmid1" theme="bootstrap" ng-keyup="searchfilter2($select);"
                                           ng-change="get_empdetails2($parent.hrmid1)" title="Select emp" required>

                                    <ui-select-match ng-trim="false" placeholder="Select or search employee in the list...">
                                        {{$select.selected.employeename1}}
                                    </ui-select-match>
                                    <ui-select-choices repeat="user in emplist2 | filter: $select.search " value="{{user.hrmid1}}" ng-selected="{{user.Selected ==true}}">
                                        <div ng-bind-html="(user.employeename1) | highlight: $select.search"></div>
                                    </ui-select-choices>
                                </ui-select>
                                <label id="upnme11" ng-show="updateshowlabel">{{updatename}}</label>
                                <div class="error-messages" ng-if="interacted(myForm.studentname34)" ng-messages="myForm.studentname34.$error">
                                    <div ng-message="required">Enter HandedOver Person</div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-sm-6">
                        <div class="form-group">
                            <label class="control-label col-sm-4">Dispatached By :</label>
                            <div class="col-sm-8">
                                <ui-select id="sel11111" name="studentname3411" ng-model="$parent.hrmid12" theme="bootstrap" ng-keyup="searchfilter2($select);"
                                           ng-change="get_empdetails2($parent.hrmid12)" title="Select emp" required>

                                    <ui-select-match ng-trim="false" placeholder="Select or search employee in the list...">
                                        {{$select.selected.employeename12}}
                                    </ui-select-match>
                                    <ui-select-choices repeat="option in emplist3 | filter: $select.search " value="{{option.hrmid12}}" ng-selected="{{option.Selected == true}}">
                                        <div ng-bind-html="(option.employeename12) | highlight: $select.search"></div>
                                    </ui-select-choices>
                                </ui-select>
                                <label id="upnme1" ng-show="updateshowlabel">{{updatename}}</label>
                                <div class="error-messages" ng-if="interacted(myForm.studentname3411)" ng-messages="myForm.studentname3411.$error">
                                    <div ng-message="required">Enter Dispatached Person</div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-sm-6">
                        <div class="form-group">
                            <label class="control-label col-sm-4">Full Address:</label>
                            <div class="col-sm-8">
                                <!--<input type="text" class="form-control" name="card" ng-model="FOOUT_Address" required>-->
                                <textarea class="form-control" data-ng-model="FOIN_Adddress" placeholder="Full Address" name="lowec" rows="3"></textarea>
                                <div class="error-messages" ng-if="interacted(myForm.card)" ng-messages="myForm.card.$error">
                                    <div ng-message="required">Enter Address</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <hr />
                <div class="text-center">
                    <input type="hidden" ng-model="FOIN_Id" value="{{foiN_Id}}" />
                    <md-button type="submit" class="md-raised md-primary" ng-disabled="form.$invalid" ng-click="saveData()" id="save-btn">
                        <i class="fa fa-floppy-o" aria-hidden="true"></i>
                        Save
                    </md-button>
                    <md-button type="button" class="md-raised md-warn" ng-click="cancel()">
                        <i class="fa fa-times" aria-hidden="true"></i>
                        Cancel
                    </md-button>
                    <md-button type="button" class="md-raised md-primary" id="print-btn" ng-disabled="printbutton" ng-click="Print()">
                        <i class="fa fa-print" aria-hidden="true"></i>
                        Print
                    </md-button>
                </div>
            </div>
        </div>
    </form>
    <div class="box box-primary" ng-show="sttud">
        <div class="box-header with-border">
            <h3 class="box-title">INWARD</h3>
            <div class="box-tools pull-right">
                <button type="button" class="btn btn-box-tool" data-widget="collapse" data-placement="bottom" data-toggle="tooltip" title="collapsible"><i class="fa fa-minus"></i></button>
            </div>
        </div>
        <div class="border" id="printSectionId">
            <br />
            <center>
                <table class="table" style="height: 300px;width: 450px;">
                    <thead style="background-color:white;">
                        <!--<tr>
                            <th> <img style="height: 100px;width: 150px;" src="{{SchoolLogo}}" class="img-responsive"></th>
                            <th colspan="2">
                                <label style="font-size:20px;">Inward</label>
                                <br /><hr />
                                <label style="font-size:15px;">{{SchollName}}</label>
                                <br />
                                <label style="font-size:10px;text-align:center">{{SchollAdd}}</label>
                            </th>
                        </tr>-->
                        <tr>
                            <th colspan="3"> <img style="height: 100px;width: 100%;" src="{{SchoolLogo}}" class="img-responsive"></th>
                        </tr>
                        <tr>
                            <th colspan="3" style="color:black;text-align: center;">Inward</th>
                        </tr>
                    </thead>
                    <tbody ng-repeat="vss in Inwardss" style="padding-bottom: 100px;">
                        <tr>
                            <td align="left"><a href="">Sr. No.</a></td>
                            <td align="left" colspan="2">{{vss.foiN_Id}}</td>
                        </tr>
                        <tr>
                            <td align="left"><a href="">Description</a></td>
                            <td align="left" colspan="2">{{vss.foiN_Discription}}</td>
                        </tr>
                        <tr>
                            <td align="left"><a href="">From</a></td>
                            <td align="left" colspan="2">{{vss.foiN_From}}</td>
                        </tr>
                        <tr>
                            <td align="left"><a href="">Person</a></td>
                            <td align="left" colspan="2">{{vss.foiN_ContactPerson}}</td>
                        </tr>
                        <tr>
                            <td align="left"><a href="">Date & Time</a></td>
                            <td align="left" colspan="2">{{vss.foiN_DateTime|date:'dd-MM-yyyy'}} & {{time}}</td>
                        </tr>
                        <tr>
                            <td align="left"><a href="">Inward No.</a></td>
                            <td align="left" colspan="2">{{vss.foiN_InwardNo}}</td>
                        </tr>
                    </tbody>
                    <tfoot>
                        <tr>
                            <td align="left">sign.Principal</td>
                            <td align="left"></td>
                            <td align="left"></td>
                        </tr>
                    </tfoot>
                </table>
            </center>
        </div>
    </div>
    <div class="box box-primary" ng-show="getdataall.length > 0">
        <div class="box-header with-border">
            <h3 class="box-title">Inward Record</h3>
            <div class="box-tools pull-right">
                <button type="button" class="btn btn-box-tool" data-widget="collapse" data-placement="bottom" data-toggle="tooltip" title="collapsible"><i class="fa fa-minus"></i></button>
            </div>
        </div>
        <div class="box-body">
            <div class="row">
                <div class="col-sm-4">
                    <div class="form-group">
                        <label class="control-label">
                            <b> Total Grid Records :</b>
                            <label class="badge">
                                {{getdataall.length}}
                            </label>
                        </label>
                    </div>
                </div>
                <div class="col-sm-4">
                    <div class="form-group" ng-if="searchValue!=''">
                        <label class="control-label">
                            <b>Total Records Searched : </b>
                            <label class="badge">
                                {{filterValue1.length}}
                            </label>
                        </label>
                    </div>
                </div>
                <div class="col-sm-4 pull-right">
                    <div class="form-group">
                        <div class="input-group">
                            <span class="input-group-addon">
                                <i class="fa fa-search"></i>
                            </span>
                            <input class="form-control" ng-model="searchValue" type="text" placeholder="search here...">
                        </div>
                    </div>
                </div>
            </div>
            <table class="table table-hover table-responsive table-bordered text-center" style="display: inline-block; overflow: auto;">
                <thead>
                    <tr>
                        <th>
                            SL.NO.
                        </th>
                        <th>
                            <a href="" ng-click="sort('foiN_Discription')">Description </a>
                        </th>
                        <th>
                            <a href="" ng-click="sort('foiN_ContactPerson')">Contact Person</a>
                        </th>
                        <th>
                            <a href="" ng-click="sort('foiN_InwardNo')">InWard No</a>
                        </th>

                        <th>
                            <a href="" ng-click="sort('foiN_From')">From</a>
                        </th>
                        <th>
                            <a href="" ng-click="sort('foiN_PhoneNo')">Phone No.</a>
                        </th>
                        <th>
                            <a href="" ng-click="sort('foiN_EmailId')">Email</a>
                        </th>
                        <th>
                            <a href="" ng-click="sort('foiN_DateTime')">Date</a>
                        </th>
                        <th>
                            <a href="" ng-click="sort('foiN_To')">Person To</a>
                        </th>
                        <th>
                            <a href="" ng-click="sort('foiN_HandedOverTo')">HandedOver To</a>
                        </th>
                        <th>
                            <a href="" ng-click="sort('foiN_ReceivedBy')">Dispatached By</a>
                        </th>
                        <th>Action</th>
                    </tr>
                </thead>
                <tbody>
                    <tr dir-paginate="obj in filterValue1 = (getdataall | filter : searchValue) |orderBy:sortKey:sortReverse  |itemsPerPage:itemsPerPage" current-page="currentPage" ng-class-odd="'odd'">
                        <td>{{itemsPerPage *(currentPage-1)+$index+1}}</td>
                        <td>{{obj.foiN_Discription}}</td>
                        <td>{{obj.foiN_ContactPerson}}</td>
                        <td>{{obj.foiN_InwardNo}}</td>
                        <td>{{obj.foiN_From}}</td>
                        <td>{{obj.foiN_PhoneNo}}</td>
                        <td>{{obj.foiN_EmailId}}</td>
                        <td>{{obj.foiN_DateTime | date:'dd/MM/yyyy'}}</td>
                        <td>{{obj.hrmE_EmployeeFirstName}}</td>
                        <td>{{obj.firstName1}} {{obj.firstName2}} {{obj.firstName3}}</td>
                        <td>{{obj.secnam1}} {{obj.secnam2}} {{obj.secnam3}}</td>
                        <td class="text-center">
                            <a href="javascript:void(0)" ng-click="EditDetails(obj)" class="text-primary" data-placement="bottom" data-toggle="tooltip" title="Edit">
                                <i class="fa fa-pencil-square-o" aria-hidden="true"></i>
                            </a>
                            |
                            <span ng-if="obj.foiN_ActiveFlag">
                                <a href="" ng-click="deactive(obj)"
                                   class="text-danger" data-placement="bottom" data-toggle="tooltip" title="Deactivate">
                                    Deactivate
                                </a>
                            </span>
                            <span ng-if="!obj.foiN_ActiveFlag">
                                <a href="" ng-click="deactive(obj)"
                                   class="text-green" data-placement="bottom" data-toggle="tooltip" title="Activate">
                                    Activate
                                </a>
                            </span>
                        </td>
                    </tr>
                </tbody>
            </table>
            <dir-pagination-controls max-size="5"
                                     direction-links="true"
                                     boundary-links="true">
            </dir-pagination-controls>
        </div>
    </div>
</section>