<section class="content" ng-init="loadgrid()">
    <form class="form-horizontal ng-pristine ng-valid" role="form" name="myForm" novalidate>
        <div class="box box-primary">
            <div class="box-header with-border">
                <h3 class="box-title">Outward Entry Form</h3>
                <div class="box-tools pull-right">
                    <button type="button" class="btn btn-box-tool" data-widget="collapse"><i class="fa fa-minus"></i></button>
                </div>
            </div>
            <div class="box-body">
                <div class="row">
                    <div class="col-sm-6">
                        <div class="form-group">
                            <label class="control-label col-sm-4">Description:<span style="color:Red">*</span></label>
                            <div class="col-sm-8">
                                <input type="text" class="form-control" name="visname" ng-model="FOOUT_Discription" allow-pattern="(\s|[a-zA-Z0-9])" placeholder="Enter Your Description." required ng-maxlength="200">
                                <div class="error-messages" ng-if="interacted(myForm.visname)" ng-messages="myForm.visname.$error">
                                    <div ng-message="required">Enter Description</div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="col-sm-6">
                        <div class="form-group">
                            <label class="control-label col-sm-4">Date :<span style="color:Red">*</span></label>
                            <div class="col-sm-8">
                                <md-datepicker ng-model="FOOUT_DateTime" name="date133" md-placeholder="Enter date" md-min-date="minDatemf" md-max-date="maxDatemf" onkeydown="return false" required></md-datepicker>
                                <div class="error-messages" ng-if="interacted(myForm.date133)" ng-messages="myForm.date133.$error">
                                    <div ng-message="required">Select date</div>
                                </div>
                            </div>
                            
                        </div>
                        

                    </div>
                </div>
                <div class="row">
                    <div class="col-sm-6">
                        <div class="form-group">
                            <label class="control-label col-sm-4">From:<span style="color:Red">*</span></label>
                            <div class="col-sm-8">
                                <input type="text" class="form-control" name="phno" ng-model="FOOUT_From" placeholder="From Name" required>
                                <div class="error-messages" ng-if="interacted(myForm.phno)" ng-messages="myForm.phno.$error">
                                    <div ng-message="required">Enter From</div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-sm-6">
                        <div class="form-group">
                            <label class="control-label col-sm-4">To:<span style="color:Red">*</span></label>
                            <div class="col-sm-8">
                                <input type="text" class="form-control" name="mail" ng-model="FOOUT_To" placeholder="From Name" required>
                                <div class="error-messages" ng-if="interacted(myForm.mail)" ng-messages="myForm.mail.$error">
                                    <div ng-message="required">Enter To</div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-sm-6">
                        <div class="form-group">
                            <label class="control-label col-sm-4">Phone No:<span style="color:Red">*</span></label>
                            <div class="col-sm-8">
                                <input class="form-control" name="Phone" id="catgry2" type="text" ng-model="FOOUT_PhoneNo" placeholder="Enter Phone No" maxlength="10" minlength="10" allow-pattern="\d" required>
                                <div class="text-left error-messages" ng-if="interacted(myForm.Phone)" ng-messages="myForm.Phone.$error">
                                    <div ng-message="required">Enter Phone number</div>
                                    <div ng-message="minlength">Phone number must contain 10 digits</div>
                                    <div ng-message="maxlength">Phone number must contain 10 digits</div>
                                    <div ng-message="pattern"> Phone number will accept only numerics </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-sm-6">
                        <div class="form-group">
                            <label class="control-label col-sm-4">Email Id :</label>
                            <div class="col-sm-8">
                                <input type="email" class="form-control" name="emaisdf" ng-model="FOOUT_EmailId" pattern="[^ @]*@[^ @]*" placeholder="Enter your email">

                                <div class="text-left error-messages" ng-if="interacted(myForm.emaisdf)" ng-messages="myForm.emaisdf.$error">
                                    <div ng-message="required">Enter a email</div>
                                    <div ng-message="pattern">Please enter valid email which contains '@' and '.'</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-sm-6">
                        <div class="form-group">
                            <label class="control-label col-sm-4">Dispatached By:<span style="color:Red">*</span></label>
                            <div class="col-sm-8">
                                <ui-select id="sel1" name="studentname" ng-model="$parent.hrmE_Id" theme="bootstrap" ng-keyup="searchfilter($select);"
                                           ng-change="get_empdetails($parent.emp1)" title="Select emp" required>

                                    <ui-select-match ng-trim="false" placeholder="Select or search employee in the list...">
                                        {{$select.selected.hrmE_EmployeeFirstName}}
                                    </ui-select-match>
                                    <ui-select-choices repeat="option in emplist | filter: $select.search " value="{{option.hrmE_Id}}" ng-selected="{{option.Selected == true}}">
                                        <div ng-bind-html="(option.hrmE_EmployeeFirstName) | highlight: $select.search"></div>
                                    </ui-select-choices>
                                </ui-select>
                                <label id="upnme" ng-show="updateshowlabel">{{updatename}}</label>

                                <div class="error-messages" ng-if="interacted(myForm.studentname)" ng-messages="myForm.studentname.$error">
                                    <div ng-message="required">Enter Dispatached By</div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-sm-6">
                        <div class="form-group">
                            <label class="control-label col-sm-4">Dispatched Through:<span style="color:Red">*</span></label>
                            <div class="col-sm-8">
                                <input type="text" class="form-control" name="dsptadthr" placeholder="Dispatched Through." ng-model="FOOUT_DispatchedThrough" required>
                                <div class="error-messages" ng-if="interacted(myForm.dsptadthr)" ng-messages="myForm.dsptadthr.$error">
                                    <div ng-message="required">Enter Dispatched Through</div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-sm-6">
                        <div class="form-group">
                            <label class="control-label col-sm-4">Dispatached Deatils:</label>
                            <div class="col-sm-8">
                                <input type="text" class="form-control" name="dsptdils" placeholder="Dispatached Deatils." ng-model="FOOUT_DispatchedDeatils">
                                <div class="error-messages" ng-if="interacted(myForm.dsptdils)" ng-messages="myForm.dsptdils.$error">
                                    <div ng-message="required">Enter Dispatached Deatils</div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-sm-6">
                        <div class="form-group">
                            <label class="control-label col-sm-4">Dispatched Ph No:</label>
                            <div class="col-sm-8">
                                <input type="text" class="form-control" name="dsptphno" placeholder="Dispatched Phone Number." ng-model="FOOUT_DispatchedPhNo" maxlength="10" minlength="10" allow-pattern="\d">
                                <div class="error-messages" ng-if="interacted(myForm.dsptphno)" ng-messages="myForm.dsptphno.$error">
                                    <div ng-message="required">Enter Dispatched Phone No</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-sm-6">
                        <div class="form-group">
                            <label class="control-label col-sm-4">Full Address:<span style="color:Red">*</span></label>
                            <div class="col-sm-8">
                                <textarea class="form-control" data-ng-model="FOOUT_Address" placeholder="Full Address" name="lowec" rows="3" required></textarea>
                                <div class="error-messages" ng-if="interacted(myForm.lowec)" ng-messages="myForm.lowec.$error">
                                    <div ng-message="required">Enter Address</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <hr />
                <div class="text-center">
                    <input type="hidden" ng-model="FOOUT_Id" value="{{foouT_Id}}" />
                    <md-button type="submit" class="md-raised md-primary" ng-disabled="form.$invalid" ng-click="saveData()" id="save-btn">
                        <i class="fa fa-floppy-o" aria-hidden="true"></i>
                        Save
                    </md-button>
                    <md-button type="button" class="md-raised md-warn" ng-click="cancel()">
                        <i class="fa fa-times" aria-hidden="true"></i>
                        Cancel
                    </md-button>
                    <md-button type="button" class="md-raised md-primary" id="print-btn" ng-disabled="printbutton" ng-click="Print()">
                        <i class="fa fa-print" aria-hidden="true"></i>
                        Print
                    </md-button>
                </div>
            </div>
        </div>
        <div class="box box-primary" ng-show="sttud">
            <div class="box-header with-border">
                <h3 class="box-title">OUTWARD</h3>
                <div class="box-tools pull-right">
                    <button type="button" class="btn btn-box-tool" data-widget="collapse" data-placement="bottom" data-toggle="tooltip" title="collapsible"><i class="fa fa-minus"></i></button>
                </div>
            </div>
            <div class="border" id="printSectionId">
                <center>
                    <table class="table" style="height: 300px;width: 450px;">
                        <thead style="background-color:white;">
                            <!--<tr>
                                <th> <img style="height: 100px;width: 150px;" src="{{SchoolLogo}}" class="img-responsive"></th>
                                <th colspan="2">
                                    <label style="font-size:20px;">Outward</label>
                                    <br /><hr />
                                    <label style="font-size:15px;">{{SchollName}}</label>
                                    <br />
                                    <label style="font-size:10px;text-align:center">{{SchollAdd}}</label>
                                </th>
                            </tr>-->
                            <tr>
                                <th colspan="3"> <img style="height: 100px;width: 100%;" src="{{SchoolLogo}}" class="img-responsive"></th>
                            </tr>
                            <tr>
                                <th colspan="3" style="color:black;text-align: center;">Outward</th>
                            </tr>
                        </thead>
                        <tbody ng-repeat="vis in outward" style="padding-bottom: 100px;">
                            <tr>
                                <td align="left"><a href="">Sr. No.</a></td>
                                <td align="left" colspan="2">{{vis.foouT_Id}}</td>
                            </tr>
                            <tr>
                                <td align="left"><a href="">Description</a></td>
                                <td align="left" colspan="2">{{vis.foouT_Discription}}</td>
                            </tr>
                            <tr>
                                <td align="left"><a href="">From</a></td>
                                <td align="left" colspan="2">{{vis.foouT_From}}</td>
                            </tr>
                            <tr>
                                <td align="left"><a href="">To</a></td>
                                <td align="left" colspan="2">{{vis.foouT_To}}</td>
                            </tr>
                            <tr>
                                <td align="left"><a href="">Date & Time</a></td>
                                <td align="left" colspan="2">{{vis.foouT_DateTime|date:'dd-MM-yyyy'}} & {{time}}</td>
                            </tr>
                            <tr>
                                <td align="left"><a href="">Outward No</a></td>
                                <td align="left" colspan="2">{{vis.foouT_OutwardNo}}</td>
                            </tr>
                        </tbody>
                        <tfoot>
                            <tr>
                                <td align="left">sign.Principal</td>
                                <td align="left"></td>
                                <td align="left"></td>
                            </tr>
                        </tfoot>
                    </table>
                </center>
            </div>
        </div>
    </form>
    <div class="box box-primary" ng-show="getdata.length > 0">
        <div class="box-header with-border">
            <h3 class="box-title">Outward Record</h3>
            <div class="box-tools pull-right">
                <button type="button" class="btn btn-box-tool" data-widget="collapse" data-placement="bottom" data-toggle="tooltip" title="collapsible"><i class="fa fa-minus"></i></button>
            </div>
        </div>
        <div class="box-body">
            <div class="row">
                <div class="col-sm-4">
                    <div class="form-group">
                        <label class="control-label">
                            <b> Total Grid Records :</b>
                            <label class="badge">
                                {{getdata.length}}
                            </label>
                        </label>
                    </div>
                </div>
                <div class="col-sm-4">
                    <div class="form-group" ng-if="searchValue!=''">
                        <label class="control-label">
                            <b>Total Records Searched : </b>
                            <label class="badge">
                                {{filterValue1.length}}
                            </label>
                        </label>
                    </div>
                </div>
                <div class="col-sm-4 pull-right">
                    <div class="form-group">
                        <div class="input-group">
                            <span class="input-group-addon">
                                <i class="fa fa-search"></i>
                            </span>
                            <input class="form-control" ng-model="searchValue" type="text" placeholder="search here...">
                        </div>
                    </div>
                </div>
            </div>
            <table class="table table-hover table-responsive table-bordered text-center" style="display: inline-block; overflow: auto;">
                <thead>
                    <tr>
                        <th>
                            SL.NO.
                        </th>
                        <th>
                            <a href="" ng-click="sort('foouT_Discription')">Description </a>
                        </th>
                        <th>
                            <a href="" ng-click="sort('foouT_From')">From</a>
                        </th>
                        <th>
                            <a href="" ng-click="sort('foouT_To')">To</a>
                        </th>
                        <th>
                            <a href="" ng-click="sort('foouT_Address')">Address</a>
                        </th>
                        <th>
                            <a href="" ng-click="sort('foouT_DateTime')">Date</a>
                        </th>
                        <th>
                            <a href="" ng-click="sort('foouT_OutwardNo')">Outward No</a>
                        </th>
                        <th>
                            <a href="" ng-click="sort('foouT_PhoneNo')">Phone No</a>
                        </th>
                        <th>
                            <a href="" ng-click="sort('foouT_EmailId')">Email Id</a>
                        </th>
                        <th>
                            <a href="" ng-click="sort('hrmE_EmployeeFirstName')">Dispatached By</a>
                        </th>
                        <th>
                            <a href="" ng-click="sort('foouT_DispatchedThrough')">Dispatched Through</a>
                        </th>
                        <th>
                            <a href="" ng-click="sort('foouT_DispatchedDeatils')">Dispatched Deatils</a>
                        </th>
                        <th>Action</th>
                    </tr>
                </thead>
                <tbody>
                    <tr dir-paginate="obj in filterValue1 = (getdata | filter : searchValue) |orderBy:sortKey:sortReverse  |itemsPerPage:itemsPerPage" current-page="currentPage" ng-class-odd="'odd'">
                        <td>{{itemsPerPage *(currentPage-1)+$index+1}}</td>
                        <td>{{obj.foouT_Discription}}</td>
                        <td>{{obj.foouT_From}}</td>
                        <td>{{obj.foouT_To}}</td>
                        <td>{{obj.foouT_Address}}</td>
                        <td>{{obj.foouT_DateTime | date:'dd/MM/yyyy'}}</td>
                        <td>{{obj.foouT_OutwardNo}}</td>
                        <td>{{obj.foouT_PhoneNo}}</td>
                        <td>{{obj.foouT_EmailId}}</td>
                        <td>{{obj.hrmE_EmployeeFirstName}}</td>
                        <td>{{obj.foouT_DispatchedThrough}}</td>
                        <td>{{obj.foouT_DispatchedDeatils}}</td>
                        <td class="text-center">
                            <a href="javascript:void(0)" ng-click="edit(obj)" class="text-primary" data-placement="bottom" data-toggle="tooltip" title="Edit">
                                <i class="fa fa-pencil-square-o" aria-hidden="true"></i>
                            </a>
                            |
                            <span ng-if="obj.foouT_ActiveFlag">
                                <a href="" ng-click="deactive(obj)"
                                   class="text-danger" data-placement="bottom" data-toggle="tooltip" title="Deactivate">
                                    Deactivate
                                </a>
                            </span>
                            <span ng-if="!obj.foouT_ActiveFlag">
                                <a href="" ng-click="deactive(obj)"
                                   class="text-green" data-placement="bottom" data-toggle="tooltip" title="Activate">
                                    Activate
                                </a>
                            </span>
                        </td>
                    </tr>
                </tbody>
            </table>

            <dir-pagination-controls max-size="5"
                                     direction-links="true"
                                     boundary-links="true">
            </dir-pagination-controls>
        </div>
    </div>
</section>