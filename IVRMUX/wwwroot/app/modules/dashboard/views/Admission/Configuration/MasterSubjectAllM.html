
<section class="content">
    <div class="box box-primary" data-ng-init="MasterSubjectCl()">
        <div class="box-header with-border">
            <h3 class="box-title">Master Subject</h3>
            <div class="box-tools pull-right">
                <button type="button" class="btn btn-box-tool" data-widget="collapse"><i class="fa fa-minus"></i></button>
            </div>
        </div>
        <form class="form-horizontal" role="form" name="myForm" novalidate>
            <div class="box-body">
                <div class="row">
                    <div class="col-sm-6">
                        <div class="form-group">
                            <label class="control-label col-sm-4">Subject Name:<span style="color:Red">*</span></label>
                            <div class="col-sm-8">
                                <input class="form-control" name="Subject" id="usr" type="text" data-ng-model="ISMS_SubjectName" maxlength="100"
                                       allow-pattern="(\s|[a-zA-Z]|-|/|&|.|,|(|))" required>
                                <div class="error-messages" ng-if="interacted(myForm.Subject)" ng-messages="myForm.Subject.$error">
                                    <div ng-message="required">Enter Subject Name</div>
                                </div>
                            </div>
                        </div>

                        <div class="form-group">
                            <label class="control-label col-sm-4">Subject code:<span style="color:Red">*</span></label>
                            <div class="col-sm-8">
                                <input class="form-control" id="usr" name="code" type="text" data-ng-model="ISMS_SubjectCode" maxlength="25" required>
                                <div class="error-messages" ng-if="interacted(myForm.code)" ng-messages="myForm.code.$error">
                                    <div ng-message="required">Enter Subject code</div>
                                </div>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="control-label col-sm-4">IVRS Subject Name:<span style="color:Red">*</span></label>
                            <div class="col-sm-8">
                                <input class="form-control" name="Subjectivrs" id="usrd" type="text" data-ng-model="ISMS_IVRSSubjectName" maxlength="100" required>
                                <div class="error-messages" ng-if="interacted(myForm.Subjectivrs)" ng-messages="myForm.Subjectivrs.$error">
                                    <div ng-message="required">Enter IVRS Subject Name</div>
                                </div>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="control-label col-sm-4">Description :</label>
                            <div class="col-sm-8">
                                <input class="form-control" name="Subjectdesc" id="usrdd" type="text" data-ng-model="ISMS_SubjectNameNew" maxlength="100">
                                <div class="error-messages" ng-if="interacted(myForm.Subjectdesc)" ng-messages="myForm.Subjectdesc.$error">
                                    <div ng-message="required">Enter Description</div>
                                </div>
                            </div>
                        </div>
                        <div class="form-group" ng-show="ISMS_PreadmFlag==1">
                            <label class="control-label col-sm-4">Max Marks:<span style="color:Red">*</span></label>
                            <div class="col-sm-8">
                                <input class="form-control" type="text" ng-model="ISMS_Max_Marks" name="maxmarks" ng-pattern="/^[0-9]{0,5}\.?[0-9]{1,2}?$/" allow-pattern="[0-9.]" data-ng-change="valid_max(ISMS_Max_Marks)" ng-required="ISMS_PreadmFlag==1" />
                                <div class="error-messages" ng-if="interacted(myForm.maxmarks)" ng-messages="myForm.maxmarks.$error">
                                    <div ng-message="pattern">Enter Valid Format[For Examples like This 100.00,99.97,......]</div>
                                    <div ng-message="required">Enter Max Marks</div>

                                </div>
                            </div>
                        </div>
                        <div class="form-group" ng-show="ISMS_PreadmFlag==1">
                            <label class="control-label col-sm-4">Min Marks:<span style="color:Red">*</span></label>
                            <div class="col-sm-8">
                                <input class="form-control" type="text" ng-model="ISMS_Min_Marks" name="minmarks" ng-pattern="/^[0-9]{0,5}\.?[0-9]{1,2}?$/" allow-pattern="[0-9.]" data-ng-change="valid_min(ISMS_Max_Marks,ISMS_Min_Marks)" ng-required="ISMS_PreadmFlag==1" />
                                <div class="error-messages" ng-if="interacted(myForm.minmarks)" ng-messages="myForm.minmarks.$error">
                                    <div ng-message="pattern">Enter Valid Format[For Example like This 100.00,99.97,......]</div>
                                    <div ng-message="required">Enter Min Marks</div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-sm-6">

                        <div class="checkbox text-center well" ng-show="ISMS_PreadmFlag==1">
                            <label>
                                <input type="radio" value="1" name="SubjectFlag" data-ng-model="ISMS_SubjectFlag" required>
                                <span class="lbl padding-8">Written</span>
                            </label>
                            <label>
                                <input type="radio" value="0" name="SubjectFlag" data-ng-model="ISMS_SubjectFlag" required>
                                <span class="lbl padding-8">Oral</span>
                            </label>
                            <div class="error-messages" ng-if="interacted(myForm.SubjectFlag)" ng-messages="myForm.SubjectFlag.$error">
                                <div ng-message="required">Select Written / Oral</div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-sm-6">
                                <div class="form-group">
                                    <label class="checkbox-inline">
                                        <input type="checkbox" name="optradio_stud" ng-model="ISMS_PreadmFlag" ng-true-value="1" ng-false-value="0">
                                        <span class="lbl padding-8">PreAdmission Flag</span>
                                    </label>
                                </div>
                                <div class="form-group">
                                    <label class="checkbox-inline">
                                        <input type="checkbox" name="optradio_oldstud" ng-model="ISMS_AttendanceFlag" ng-true-value="1" ng-false-value="0">
                                        <span class="lbl padding-8">Attendance Flag</span>
                                    </label>
                                </div>
                                <div class="form-group">
                                    <label class="checkbox-inline">
                                        <input type="checkbox" name="optradio_stf" ng-model="ISMS_TTFlag" ng-true-value="1" ng-false-value="0">
                                        <span class="lbl padding-8">TimeTable Flag</span>
                                    </label>
                                </div>
                                <div class="form-group">
                                    <label class="checkbox-inline">
                                        <input type="checkbox" name="optradio_stf1" ng-model="ISMS_LanguageFlg" ng-true-value="1" ng-false-value="0">
                                        <span class="lbl padding-8">Language Flag</span>
                                    </label>
                                </div>
                            </div>
                            <div class="col-sm-6">
                                <div class="form-group">
                                    <label class="checkbox-inline">
                                        <input type="checkbox" name="optradio_oth" ng-model="ISMS_ExamFlag" ng-true-value="1" ng-false-value="0">
                                        <span class="lbl padding-8">Exam Flag</span>
                                    </label>

                                </div>
                                <div class="form-group">
                                    <label class="checkbox-inline">
                                        <input type="checkbox" name="optradio_oth" ng-model="ISMS_BatchAppl" ng-true-value="1" ng-false-value="0">
                                        <span class="lbl padding-8">Batch Wise Flag</span>
                                    </label>
                                </div>
                                <div class="form-group">
                                    <label class="checkbox-inline">
                                        <input type="checkbox" name="optradio_oth1" ng-model="ISMS_AtExtraFeeFlg" ng-true-value="1" ng-false-value="0">
                                        <span class="lbl padding-8">Extra Fee Flag</span>
                                    </label>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <hr />
                <div class="row">
                    <div class="text-center">
                        <input type="hidden" ng-model="ISMS_Id" value="{{ISMS_Id}}" />
                        <md-button type="button" class="md-raised md-primary" id="submit" ng-click="saveMasterdata()" data-ng-model="PAMS_ActiveFlag">
                            <i class="fa fa-floppy-o" aria-hidden="true"></i>
                            Save
                        </md-button>
                        <md-button type="button" class="md-raised md-warn" ng-click="clear()">
                            <i class="fa fa-times" aria-hidden="true"></i>
                            Cancel
                        </md-button>
                        <md-button type="button" class="md-raised md-primary" data-toggle="modal" data-target="#myModal">
                            <i class="fa fa-sort" aria-hidden="true"></i>
                            Set Order
                        </md-button>
                    </div>
                </div>
            </div>
        </form>


    </div>
    <div class="box box-primary">
        <div class="box-header with-border">
            <h3 class="box-title">Master Subject List</h3>
            <div class="box-tools pull-right">
                <button type="button" class="btn btn-box-tool" data-widget="collapse" data-placement="bottom" data-toggle="tooltip" title="collapsible"><i class="fa fa-minus"></i></button>
            </div>
        </div>
        <div class="box-body">
            <div class="row">
                <div class="col-sm-4">
                    <div class="form-group">
                        <label class="control-label">
                            <b> Total Grid Records :</b>
                            <label class="badge">
                                {{presentCountgrid}}
                            </label>
                        </label>
                    </div>
                </div>
                <div class="col-sm-4">
                    <div class="form-group" ng-if="searchValue!=''">
                        <label class="control-label">
                            <b>Total Records Searched : </b>
                            <label class="badge">
                                {{filterValue1.length}}
                            </label>
                        </label>
                    </div>
                </div>
                <div class="col-sm-4 pull-right">
                    <div class="form-group">
                        <div class="input-group">
                            <input class="form-control" ng-model="searchValue" type="text" placeholder="search here...">
                            <span class="input-group-addon">
                                <i class="fa fa-search"></i>
                            </span>
                        </div>
                    </div>
                </div>
            </div>
            <div style="overflow:scroll">
                <table class="table table-hover table-responsive table-bordered">
                    <thead>
                        <tr>
                            <th class="text-center">SL NO</th>
                            <th class="text-center"><a href="" ng-click="sort('ismS_SubjectName')">Subject Name</a></th>
                            <th class="text-center"><a href="" ng-click="sort('ismS_IVRSSubjectName')">IVRS Subject Name</a></th>
                            <th class="text-center"><a href="" ng-click="sort('ismS_SubjectCode')"> Subject Code</a> </th>
                            <th class="text-center"><a href="" ng-click="sort('ismS_SubjectFlag')">Subject Type</a> </th>
                            <th class="text-center"><a href="" ng-click="sort('ismS_Max_Marks')">Subject MaxMarks</a> </th>
                            <th class="text-center"><a href="" ng-click="sort('ismS_Min_Marks')">Subject MinMarks</a> </th>
                            <th class="text-center"><a href="" ng-click="sort('ismS_PreadmFlag')">PreAdmission Flag </a> </th>
                            <th class="text-center"><a href="" ng-click="sort('ismS_AttendanceFlag')">Attendance Flag</a> </th>
                            <th class="text-center"><a href="" ng-click="sort('ismS_BatchAppl')">Batch Wise Flag</a> </th>
                            <th class="text-center"><a href="" ng-click="sort('ismS_TTFlag')">TimeTable Flag</a> </th>
                            <th class="text-center"><a href="" ng-click="sort('ismS_ExamFlag')">Exam Flag</a> </th>
                            <th class="text-center"><a href="" ng-click="sort('ismS_LanguageFlg')">Language Flag</a> </th>
                            <th class="text-center"><a href="" ng-click="sort('ismS_AtExtraFeeFlg')">Extra Fee Flag</a> </th>
                            <th class="text-center">Actions</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr dir-paginate="students in filterValue1 = (subject_list | filter : filterValue)  |orderBy:sortKey:sortReverse |itemsPerPage:itemsPerPage" current-page="currentPage" ng-class-odd="'odd'">
                            <td class="text-center">{{itemsPerPage *(currentPage-1)+$index+1}}</td>
                            <td class="text-left">{{students.ismS_SubjectName}}</td>
                            <td class="text-left">{{students.ismS_IVRSSubjectName}}</td>
                            <td class="text-left">{{students.ismS_SubjectCode}}</td>
                            <td class="text-center">{{students.ismS_SubjectFlag}}</td>
                            <td class="text-center" ng-if="students.ismS_PreadmFlag==1">{{students.ismS_Max_Marks}}</td>
                            <td class="text-center" ng-if="students.ismS_PreadmFlag==0|| students.ismS_PreadmFlag==null">--</td>
                            <td class="text-center" ng-if="students.ismS_PreadmFlag==1">{{students.ismS_Min_Marks}}</td>
                            <td class="text-center" ng-if="students.ismS_PreadmFlag==0 ||students.ismS_PreadmFlag==null">--</td>
                            <td class="text-center" ng-if="students.ismS_PreadmFlag==1"><i class="fa fa-check text-green"></i></td>
                            <td class="text-center" ng-if="!students.ismS_PreadmFlag==1"><i class="fa fa-times text-red"></i></td>
                            <td class="text-center" ng-if="students.ismS_AttendanceFlag"><i class="fa fa-check text-green"></i></td>
                            <td class="text-center" ng-if="!students.ismS_AttendanceFlag"><i class="fa fa-times text-red"></i></td>
                            <td class="text-center" ng-if="students.ismS_BatchAppl==1"><i class="fa fa-check text-green"></i></td>
                            <td class="text-center" ng-if="!students.ismS_BatchAppl==1"><i class="fa fa-times text-red"></i></td>
                            <td class="text-center" ng-if="students.ismS_TTFlag"><i class="fa fa-check text-green"></i></td>
                            <td class="text-center" ng-if="!students.ismS_TTFlag"><i class="fa fa-times text-red"></i></td>
                            <td class="text-center" ng-if="students.ismS_ExamFlag==1"><i class="fa fa-check text-green"></i></td>
                            <td class="text-center" ng-if="!students.ismS_ExamFlag==1"><i class="fa fa-times text-red"></i></td>
                            <td class="text-center" ng-if="students.ismS_LanguageFlg==1"><i class="fa fa-check text-green"></i></td>
                            <td class="text-center" ng-if="!students.ismS_LanguageFlg==1"><i class="fa fa-times text-red"></i></td>
                            <td class="text-center" ng-if="students.ismS_AtExtraFeeFlg==1"><i class="fa fa-check text-green"></i></td>
                            <td class="text-center" ng-if="!students.ismS_AtExtraFeeFlg==1"><i class="fa fa-times text-red"></i></td>
                            <td class="text-center" style="width:10%">
                                <a href="javascript:void(0)" ng-click="EditMasterSubvalue(students)" class="text-primary" data-placement="bottom" data-toggle="tooltip" title="Edit">
                                    <i class="fa fa-pencil-square-o" aria-hidden="true"></i>
                                </a>

                                <a ng-if="students.ismS_ActiveFlag == 0" href="javascript:void(0)" ng-click="EditRecord(students);"
                                   class="text-green" data-placement="bottom" data-toggle="tooltip" title="Activate">
                                    Activate
                                </a>
                                <span ng-if="students.ismS_ActiveFlag == 1">
                                    <a href="javascript:void(0)" ng-click="EditRecord(students);"
                                       class="text-red" data-placement="bottom" data-toggle="tooltip" title="De-Activate">
                                        De-Activate
                                    </a>
                                </span>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <dir-pagination-controls max-size="5"
                                     direction-links="true"
                                     boundary-links="true">
            </dir-pagination-controls>
        </div>
    </div>
</section>
<div class="modal fade  modal-medium" id="myModal" role="dialog" data-backdrop="static">
    <div class="modal-dialog modal-md">
        <!-- Modal content-->
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" ng-click="MasterSubjectCl()"><i class="fa fa-times text-white" aria-hidden="true"></i></button><!--&times;-->
                <h4 class="modal-title text-white">MASTER Subjects</h4>
            </div>
            <div class="modal-body">
                <table class="table table-hover table-responsive table-bordered">
                    <thead>
                        <tr>
                            <th>SLNO</th>
                            <th>Subject Name</th>
                            <th>Subject Code</th>
                            <th>Subject Order</th>
                        </tr>
                    </thead>
                    <tbody ui-sortable="sortableOptions" ng-model="grouptypeListOrder">
                        <tr ng-repeat="user in grouptypeListOrder">
                            <td class="handle">{{$index+1}}</td>
                            <td class="text-left handle">{{ user.ismS_SubjectName}}</td>
                            <td class="handle">{{ user.ismS_SubjectCode}}</td>
                            <td class="handle">{{ user.ismS_OrderFlag}}</td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal" ng-click="getOrder(grouptypeListOrder);">Save</button>
                <button type="button" class="btn btn-default" data-dismiss="modal" ng-click="MasterSubjectCl()">Close</button>
            </div>
        </div>
    </div>
</div>