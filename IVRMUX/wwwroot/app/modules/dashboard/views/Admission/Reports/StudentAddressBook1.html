
<section class="content">
    <form class="form-horizontal ng-pristine ng-valid" role="form" ng-init="BindData()" name="myForm" method="post" novalidate>
        <div class="box box-primary">
            <div class="box-header with-border">
                <h3 class="box-title">Student Address Book1</h3>
                <div class="box-tools pull-right">
                    <button type="button" class="btn btn-box-tool"
                            data-widget="collapse">
                        <i class="fa fa-minus"></i>
                    </button>
                </div>
            </div>
            <div class="box-body">
                <div class="row">
                    <div class="col-sm-6">
                        <div class="text-center">
                            <div class="well" data-ng-init="sall =1">
                                <label class="radio-inline">
                                    <input type="radio" value="1" name="sall" data-ng-model="sall" ng-change="radio_but_switch()" required>
                                    <span class="lbl padding-8">All</span>
                                </label>
                                <label class="radio-inline">
                                    <input type="radio" value="0" name="sall" data-ng-model="sall" ng-change="radio_but_switch()" required>
                                    <span class="lbl padding-8">Individual</span>
                                </label>
                            </div>
                            <div class="error-messages" ng-if="interacted(myForm.sall)" ng-messages="myForm.sall.$error">
                                <div ng-message="required">Select any one of the radio button</div>
                            </div>
                        </div>
                        <div class="text-center">
                            <div class="text-center well" data-ng-init="flag ='S'">
                                <label class="checkbox-inline">
                                    <input type="radio" value="S" name="status" data-ng-model="flag" ng-change="leftoractive()" required /><!--ng-disabled="flag1" >-->
                                    <span class="lbl padding-8">Studying</span>
                                </label>
                                <label class="checkbox-inline">
                                    <input type="radio" value="L" name="status" data-ng-model="flag" ng-change="leftoractive()" required /><!--ng-disabled="flag" >-->
                                    <span class="lbl padding-8">Left</span>
                                </label>
                            </div>
                            <div class="error-messages" ng-if="interacted(myForm.status)" ng-messages="myForm.status.$error">
                                <div ng-message="required">Select any one of the radio button</div>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="control-label col-sm-4">
                                Academic Year:<strong style="color:red;">*</strong>
                            </label>
                            <div class="col-sm-8">
                                <select class="form-control" id="sel1" name="year" data-ng-model="asmaY_Id" ng-change="yearchange(asmaY_Id)" required>
                                    <option value="">Select Year</option>
                                    <option ng-repeat="acedmicYear in yeardropdown" value="{{acedmicYear.asmaY_Id}}" ng-selected="{{acedmicYear.Selected == true}}">
                                        {{acedmicYear.asmaY_Year}}
                                    </option>
                                </select>
                                <div class="error-messages" ng-if="interacted(myForm.year)" ng-messages="myForm.year.$error">
                                    <div ng-message="required">Please Select Academic Year</div>
                                </div>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="control-label col-sm-4">Class:<strong style="color:red;">*</strong></label>
                            <div class="col-sm-8">
                                <select class="form-control" id="sel1" name="classname" data-ng-model="asmcL_Id" required>
                                    <option value="">Select Class</option>
                                    <option ng-repeat="class in classdropdown" value="{{class.asmcL_Id}}" ng-selected="{{class.Selected == true}}">
                                        {{class.asmcL_ClassName}}
                                    </option>
                                </select>
                                <div class="error-messages" ng-if="interacted(myForm.classname)" ng-messages="myForm.classname.$error">
                                    <div ng-message="required">Please Select Class Name</div>
                                </div>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="control-label col-sm-4">Section:<strong style="color:red;">*</strong></label>
                            <div class="col-sm-8">
                                <select class="form-control" id="sel1" name="section" data-ng-model="asmC_Id" ng-change="sectionchange(asmC_Id)" required>
                                    <option value="">Select Section</option>
                                    <option ng-repeat="section in sectiondropdown" value="{{section.asmS_Id}}" ng-selected="{{section.Selected == true}}">
                                        {{section.asmC_SectionName}}
                                    </option>
                                </select>
                                <div class="error-messages" ng-if="interacted(myForm.section)" ng-messages="myForm.section.$error">
                                    <div ng-message="required">Please Select Section Name</div>
                                </div>
                            </div>
                        </div>
                        <div class="form-group" ng-show="sall==0">
                            <label class="control-label col-sm-4">Student:<strong style="color:red;">*</strong></label>
                            <div class="col-sm-8">
                                <select class="form-control" id="sel1" name="studName" data-ng-model="amsT_Id" ng-required="sall==0">
                                    <option value="">Select Student</option>
                                    <option ng-repeat="student in studentdropdown" value="{{student.amsT_Id}}" ng-selected="{{student.Selected == true}}">
                                        {{student.amsT_FirstName}}
                                    </option>
                                </select>
                                <div class="error-messages" ng-if="interacted(myForm.studName)" ng-messages="myForm.studName.$error">
                                    <div ng-message="required">Please Select Student Name</div>
                                </div>
                            </div>
                        </div>

                    </div>
                    <div class="col-sm-6">
                        <div class="well">
                            <label class="checkbox-inline">
                                <input type="checkbox" value="admno" name="all" data-ng-model="admno" ng-checked="checadmno" ng-change="admnofunction(admno)">
                                <span class="lbl padding-8">Adm. No.</span>
                            </label>
                            <label class="checkbox-inline">
                                <input type="checkbox" value="email" name="all" data-ng-model="email" ng-checked="checemail" ng-change="emailfunction(email)">
                                <span class="lbl padding-8">Email</span>
                            </label>
                        </div>
                        <div class="well">
                            <label class="checkbox-inline">
                                <input type="checkbox" value="dobirth" name="all" data-ng-model="dob" ng-checked="checdob" ng-change="dobfunction(dob)">
                                <span class="lbl padding-8">Date Of Birth</span>
                            </label>
                            <label class="checkbox-inline">
                                <input type="checkbox" value="phno" name="all" data-ng-model="ph" ng-checked="checph" ng-change="phfunction(ph)">
                                <span class="lbl padding-8">Phone No.</span>
                            </label>
                            <label class="checkbox-inline">
                                <input type="checkbox" value="tcn" name="all" data-ng-model="tc" ng-checked="chectc" ng-change="tcfunction(tc)">
                                <span class="lbl padding-8">
                                    Previous School TC
                                    Submited
                                </span>
                            </label>
                        </div>
                        <div class="text-center well" data-ng-init="per='1'">
                            <label class="">Address:</label>
                            <label class="radio-inline">
                                <input type="radio" value="1" name="all" data-ng-model="per">
                                <span class="lbl padding-8">Permanent</span>
                            </label>
                            <label class="radio-inline">
                                <input type="radio" value="2" name="all" data-ng-model="per">
                                <span class="lbl padding-8">Temporary</span>
                            </label>
                        </div>
                    </div>
                </div>
                <hr />
                <div class="row">
                    <div class="text-center">
                        <md-button type="submit" class="md-raised md-primary"
                                   ng-disabled="form.$invalid" id="save-btn" aria-disabled="false" data-ng-click="ShowReport(flag, asmaY_Id, asmcL_Id, asmC_Id, amsT_Id,sall)">
                            <i class="fa fa-check-square-o" aria-hidden="true"></i>
                            Submit
                        </md-button>
                        <md-button type="button" class="md-raised md-warn" data-ng-click="Clearid()">
                            <i class="fa fa-times" aria-hidden="true"></i>
                            Clear
                        </md-button>

                        <md-button type="submit" class="md-raised md-primary" ng-disabled="excel_flag" id="excel-btn" aria-disabled="false" ng-click="exportToExcel('#table')">
                            <i class="fa fa-file-excel-o" aria-hidden="true"></i>
                            Excel
                        </md-button>
                        <md-button type="button" ng-click="print();" ng-disabled="print_flag" class="md-raised md-warn">
                            <i class="fa fa-print" aria-hidden="true"></i> Print
                        </md-button>
                    </div>
                </div>
            </div>
        </div>
    </form>
    <div class="box box-primary" ng-show="grid_flag" style="overflow:scroll">
        <div class="box-header with-border">
            <h3 class="box-title">Student Address Book1</h3>
            <div class="box-tools pull-right">
                <button type="button" class="btn btn-box-tool" data-widget="collapse" data-placement="bottom" data-toggle="tooltip" title="collapsible"><i class="fa fa-minus"></i></button>
            </div>
        </div>
        <div class="box-body">
            <div class="col-sm-4">
                <div class="form-group">
                    <label class="control-label">
                        <b> Total Grid Records :</b>
                        <label class="badge">
                            {{presentCountgrid}}
                        </label>
                    </label>
                </div>
            </div>
            <div class="col-sm-4">
                <div class="form-group" ng-if="searchValue!=''">
                    <label class="control-label">
                        <b>Total Records Searched : </b>
                        <label class="badge">
                            {{filterValue.length}}
                        </label>
                    </label>
                </div>
            </div>
            <div class="clearfix">
                <div class="col-sm-4 pull-right">
                    <div class="form-group">
                        <div class="input-group">
                            <input class="form-control" ng-model="searchValue" type="text" placeholder="search here...">
                            <span class="input-group-addon">
                                <i class="fa fa-search"></i>
                            </span>

                        </div>
                    </div>
                </div>
            </div>
            <div class="col-sm-12 clearfix" style="overflow:scroll;">
                <table class="table table-hover table-responsive table-bordered text-center" id="tabel1">
                    <thead>
                        <tr>
                            <th class="hdTH">
                                <label>
                                    <input type="checkbox" value="" ng-model="all2" ng-click="toggleAll()">
                                    <span class="lbl padding-8"></span>
                                </label>
                            </th>
                            <th>
                                SL. No.
                            </th>
                            <th>Photo</th>
                            <th>
                                <a href="" ng-click="sort('AMST_RegistrationNo')">
                                    Reg. No.
                                </a>
                            </th>
                            <th ng-if="admno == true">
                                <a href="" ng-click="sort('AMST_AdmNo')">
                                    Adm. No.
                                </a>
                            </th>
                            <th>
                                <a href="" ng-click="sort('AMST_FirstName')">
                                    Student Name
                                </a>
                            </th>
                            <th>
                                <a href="" ng-click="sort('AMST_Date')">
                                    Date Of Admission
                                </a>
                            </th>
                            <th>
                                <a href="" ng-click="sort('ASMCL_ClassName')">
                                    Class Name
                                </a>
                            </th>
                            <th>
                                <a href="" ng-click="sort('AMST_Sex')">
                                    Gender
                                </a>
                            </th>
                            <th>
                                <a href="" ng-click="sort('AMST_BloodGroup')">
                                    Blood Group
                                </a>
                            </th>
                            <th>
                                <a href="" ng-click="sort('AMST_FatherName')">
                                    Father Name
                                </a>
                            </th>
                            <th>
                                <a href="" ng-click="sort('AMST_MotherName')">
                                    Mother Name
                                </a>
                            </th>
                            <th ng-if="dob == true">
                                <a href="" ng-click="sort('AMST_DOB')">
                                    DOB
                                </a>

                            </th>
                            <th ng-if="email == true">
                                <a href="" ng-click="sort('AMST_emailId')">
                                    Email
                                </a>

                            </th>
                            <th ng-if="ph == true">


                                <a href="" ng-click="sort('AMST_MobileNo')">
                                    Phone No.
                                </a>
                            </th>

                            <th ng-if="tc == true">

                                <a href="" ng-click="sort('schoolname')">
                                    School TC Submited

                                </a>

                            </th>
                            <th ng-if="per == '1'">
                                <a href="" ng-click="sort('Per_address')">
                                    Permanent Address
                                </a>

                            </th>
                            <th ng-if="per == '2'">
                                <a href="" ng-click="sort('Temp_address')">
                                    Temporary Address
                                </a>

                            </th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr dir-paginate="user in filterValue=(students |filter:searchValue)  |orderBy:sortKey:reverse  |itemsPerPage:itemsPerPage" current-page="currentPage">
                            <td class="text-center  hdTD">
                                <label>
                                    <input type="checkbox" ng-model="user.selected" value="{{user.columnID}}" ng-change="optionToggled(user,itemsPerPage *(currentPage-1)+$index)">
                                    <span class="lbl padding-8"></span>
                                </label>
                            </td>
                            <td style="height:60px;width:60px">{{itemsPerPage*(currentPage-1)+$index+1}} </td>
                            <td><img style="height:60px;width:60px;" src="{{user.AMST_Photoname}}" alt="Photo Not Available"></td>
                            <td>{{ user.AMST_RegistrationNo}}</td>
                            <td ng-if="admno == true">{{ user.AMST_AdmNo}}</td>
                            <td>{{ user.AMST_FirstName}}</td>
                            <td>{{ user.AMST_Date|date:"dd-MM-yyyy"}}</td>
                            <td>{{user.ASMCL_ClassName}} - {{user.ASMC_SectionName}}</td>
                            <td>{{ user.AMST_Sex}}</td>
                            <td>{{ user.AMST_BloodGroup}}</td>
                            <td>{{ user.AMST_FatherName}}</td>
                            <td>{{ user.AMST_MotherName}}</td>
                            <td ng-if="dob == true">{{ user.AMST_DOB | date:'longDate'}}</td>
                            <td ng-if="email == true">{{user.AMST_emailId}}</td>
                            <td ng-if="ph == true">{{user.AMST_MobileNo}}</td>

                            <td ng-if="tc == true">
                                <label ng-if="user.schoolname=='No'"><b>No</b></label>
                                <label ng-if="user.schoolname!='No'"><b>Yes</b></label>
                            </td>
                            <td ng-if="per == '1'">{{user.AMST_PerStreet}},{{user.AMST_PerArea}},{{user.AMST_PerCity}}</td>
                            <td ng-if="per == '2'">{{user.AMST_ConStreet}},{{user.AMST_ConArea}},{{user.AMST_ConCity}}</td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <dir-pagination-controls max-size="5"
                                     direction-links="true"
                                     boundary-links="true">
            </dir-pagination-controls>

        </div>






        <!--Export and Printing Code-->

        <div ng-show="grid_print_flag" id="grid_print">
            <div class="baldwin text-center">
                <img src="{{imgname}}" class="img-responsive" alt="baldwin">
            </div>
            <center> <h4>Student Address Book1</h4></center>
            <table class="table table-hover table-responsive table-bordered text-center" id="table">
                <thead>
                    <tr>
                        <th style="text-align:center">SL. No.</th>
                        <th style="text-align:center">Photo</th>
                        <th style="text-align:center">Reg. No.</th>
                        <th ng-if="admno == true" style="text-align:center">Adm. No.</th>
                        <th style="text-align:center">Student Name</th>
                        <th style="text-align:center">Date Of Admission</th>
                        <th style="text-align:center">Class Name</th>
                        <th style="text-align:center">Gender</th>
                        <th style="text-align:center">Blood Group</th>
                        <th style="text-align:center">Father Name</th>
                        <th style="text-align:center">Mother Name</th>
                        <th ng-if="dob == true" style="text-align:center">DOB</th>
                        <th ng-if="email == true" style="text-align:center">Email</th>
                        <th ng-if="ph == true" style="text-align:center">Phone No.</th>
                        <th ng-if="tc == true" style="text-align:center">School TC Submited</th>
                        <th ng-if="per == '1'" style="text-align:center">Permanent Address</th>
                        <th ng-if="per == '2'" style="text-align:center">Temporary Address</th>
                    </tr>
                </thead>
                <tbody>

                    <tr ng-repeat="user in printdatatable|filter:searchValue">
                        <td>{{$index+1}} </td>
                        <td class="text-center" height="100" width="100">
                            <span>
                                <img class="img-responsive" height="100" width="100" src="{{user.AMST_Photoname}}" alt="Photo Not Available">
                            </span>
                        </td>
                        <td>{{ user.AMST_RegistrationNo}}</td>
                        <td ng-if="admno == true">{{ user.AMST_AdmNo}}</td>
                        <td>{{ user.AMST_FirstName}}</td>
                        <td>{{ user.AMST_Date|date:"dd-MM-yyyy"}}</td>
                        <td>{{user.ASMCL_ClassName}} - {{user.ASMC_SectionName}}</td>
                        <td>{{ user.AMST_Sex}}</td>
                        <td>{{ user.AMST_BloodGroup}}</td>
                        <td>{{ user.AMST_FatherName}}</td>
                        <td>{{ user.AMST_MotherName}}</td>
                        <td ng-if="dob == true">{{ user.AMST_DOB | date:'longDate'}}</td>
                        <td ng-if="email == true">{{user.AMST_emailId}}</td>
                        <td ng-if="ph == true">{{user.AMST_MobileNo}}</td>

                        <td ng-if="tc == true">
                            <label ng-if="user.AMST_SOL=='S'"><b>No</b></label>
                            <label ng-if="user.AMST_SOL=='L'"><b>Yes</b></label>
                        </td>
                        <td ng-if="per == '1'">{{user.AMST_PerStreet}},{{user.AMST_PerArea}},{{user.AMST_PerCity}}</td>
                        <td ng-if="per == '2'">{{user.AMST_ConStreet}},{{user.AMST_ConArea}},{{user.AMST_ConCity}}</td>
                    </tr>
                </tbody>
                <tfoot>
                    <tr>
                        <td colspan="16" class="col-sm-12 text-center ">
                            <label>
                                Date:{{ddate|date:'dd/MM/yyyy'}} UserName: {{usrname}}  {{coptyright}}
                            </label>
                        </td>
                    </tr>

                </tfoot>
            </table>
        </div>

    </div>

</section>