
<section class="content">
    <div class="box box-primary" data-ng-init="BindData()">
        <div class="box-header with-border">
            <h3 class="box-title">Consecutive / Before/After Constraints</h3>
            <div class="box-tools pull-right">
                <button type="button" class="btn btn-box-tool" ng-click="ShowHide1()" data-widget="collapse"><i class="fa fa-minus"></i></button>
            </div>
        </div>
        <form class="form-horizontal" role="form" name="myForm" novalidate>
            <div class="box-body">
                <div class="row">
                    <div class="col-sm-6">
                        <div class="form-group">
                            <label class="control-label col-sm-4">Academic Year:<span style="color:Red">*</span></label>
                            <div class="col-sm-8">
                                <select class="form-control" id="sel1" name="cat" ng-model="asmaY_Id" ng-change="get_category()" required>
                                    <option value="">--Select--</option>
                                    <option ng-repeat="optlst1 in academic" value="{{optlst1.asmaY_Id}}" ng-selected="{{optlst1.Selected == true}}">
                                        {{optlst1.asmaY_Year}}
                                    </option>
                                </select>
                                <div class="error-messages" ng-if="interacted(myForm.cat)" ng-messages="myForm.cat.$error">
                                    <div ng-message="required">Please Academic Year</div>
                                </div>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="control-label col-sm-4">Class:<span style="color:Red">*</span></label>
                            <div class="col-sm-8">
                                <select class="form-control" name="clsname" ng-model="asmcL_Id" ng-change="get_clearesecstaff('1')" required>
                                    <option value="">--Select--</option>
                                    <option ng-repeat="option in arrlist2" value="{{option.asmcL_Id}}" ng-selected="{{option.Selected == true}}">
                                        {{option.asmcL_ClassName}}
                                    </option>
                                </select>
                                <div class="error-messages" ng-if="interacted(myForm.clsname)" ng-messages="myForm.clsname.$error">
                                    <div ng-message="required">Select Class </div>
                                </div>
                            </div>
                        </div>


                        <div class="form-group">
                            <label class="control-label col-sm-4">Staff:<strong style="color:red;">*</strong></label>
                            <div class="col-sm-8">
                                <select class="form-control" name="staff" ng-model="hrmE_Id" ng-change="get_subject1()" required>
                                    <option value="">--Select--</option>
                                    <option ng-repeat="staff in staff_list1" value="{{staff.hrmE_Id}}" ng-selected="{{staff.hrmE_Id == hrmE_Id}}">
                                        {{staff.staffName}}
                                    </option>
                                </select>
                              
                                <div class="error-messages" ng-if="interacted(myForm.staff)" ng-messages="myForm.staff.$error">
                                    <div ng-message="required">Select Staff</div>
                                </div>
                            </div>
                        </div>



                        <div class="form-group">
                            <label class="control-label col-sm-6">Total No of Consecutive Day :<span style="color:Red">*</span></label>
                            <div class="col-sm-6">
                                <input class="form-control" type="number" ng-model="ttC_NoOfConDays" name="tnocond" value="1" min="1" ng-change="calculatetotal()" />
                                <div class="error-messages" ng-if="interacted(myForm.tnocond)" ng-messages="myForm.tnocond.$error">
                                    <div ng-message="required">Please Enter No Of Period</div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-sm-6">
                        <div class="form-group">
                            <label class="control-label col-sm-4">Category Name:<span style="color:Red">*</span></label>
                            <div class="col-sm-8">
                                <select class="form-control" id="sel1" name="cat" ng-model="ttmC_Id" ng-change="get_class()" required>
                                    <option value="">--Select--</option>
                                    <option ng-repeat="optlst in categorylst" value="{{optlst.ttmC_Id}}" ng-selected="{{optlst.Selected == true}}">
                                        {{optlst.ttmC_CategoryName}}
                                    </option>
                                </select>
                                <div class="error-messages" ng-if="interacted(myForm.cat)" ng-messages="myForm.cat.$error">
                                    <div ng-message="required">Please Select Category</div>
                                </div>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="control-label col-sm-4">Section :<span style="color:Red">*</span></label>
                            <div class="col-sm-8">
                                <select class="form-control" id="sel12" name="sec" ng-model="asmS_Id" ng-change="get_staff1()" required>
                                    <option value="">--Select--</option>
                                    <option ng-repeat="objsect in section" value="{{objsect.asmS_Id}}" ng-selected="{{objsect.Selected == true}}">
                                        {{objsect.asmC_SectionName}}
                                    </option>
                                </select>
                                <div class="error-messages" ng-if="interacted(myForm.sec)" ng-messages="myForm.sec.$error">
                                    <div ng-message="required">Please Select Section</div>
                                </div>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="control-label col-sm-4">Subject :<span style="color:Red">*</span></label>
                            <div class="col-sm-8">
                                <select class="form-control" name="subname" ng-model="ismS_Id" required>
                                    <option value="">--Select--</option>
                                    <option ng-repeat="objsub in sublst" value="{{objsub.ismS_Id}}" ng-selected="{{objsub.Selected == true}}">
                                        {{objsub.ismS_SubjectName}}
                                    </option>
                                </select>
                                <div class="error-messages" ng-if="interacted(myForm.subname)" ng-messages="myForm.subname.$error">
                                    <div ng-message="required">Select Subject Name</div>
                                </div>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="control-label col-sm-6">Total No of Consecutive period :<span style="color:Red">*</span></label>
                            <div class="col-sm-6">
                                <input class="form-control" type="number" ng-model="ttC_NoOfConPeriods" name="tncp" value="1" min="1" ng-change="calculatetotal()" />
                                <div class="error-messages" ng-if="interacted(myForm.tncp)" ng-messages="myForm.tncp.$error">
                                    <div ng-message="required">Please Select No Of Period</div>
                                </div>
                            </div>
                        </div>

                    </div>
                </div>
                <div class="row">

                    <div class="col-sm-6">
                        <div class="form-group">
                            <label class="control-label col-sm-4">No Of Period:<span style="color:Red">*</span></label>
                            <div class="col-sm-8">
                                <input class="form-control" type="number" ng-model="ttC_NoOfPeriods" name="tnop" ng-disabled="asdh=true" />

                            </div>
                        </div>

                    </div>

                </div>
                <div class="">
                    <div class="well text-center">
                        <label class="control-label">
                            <input name="option[]" ng-true-value="1" ng-false-value="0" type="checkbox" ng-model="ttC_BefAftApplFlag" ng-click="cal()" ng-checked="">
                            <span class="lbl padding-8">Before After Consecutive :</span>
                        </label>
                    </div>
                </div>
                <div class="row">
                    <div class="col-sm-6">
                        <div class="form-group">
                            <label class="control-label col-sm-6">
                                Before After Consecutive :
                            </label>
                            <div class="col-sm-6">
                                <select class="form-control" id="sel1" name="baflg" ng-model="ttC_BefAftFalg" ng-required="ttC_BefAftApplFlag == 1" ng-disabled="!ttC_BefAftApplFlag" ng-checked="ttC_BefAftApplFlag && 0">
                                    <option value="">--Select--</option>
                                    <option value="1">Before</option>
                                    <option value="2">After</option>
                                </select>
                                <div class="error-messages" ng-if="interacted(myForm.baflg)" ng-messages="myForm.baflg.$error">
                                    <div ng-message="required">Please select Before After Consecutive</div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-sm-6">
                        <div class="form-group">
                            <label class="control-label col-sm-4">Period :<span style="color:Red">*</span></label>
                            <div class="col-sm-8">
                                <input class="form-control" type="number" ng-maxlength="2" min="1" max={{maxvalue}}  ng-model="ttC_BefAftPeriod" name="ttperiods" ng-required="ttC_BefAftApplFlag == 1" value="" ng-disabled="!ttC_BefAftApplFlag" ng-checked="ttC_BefAftApplFlag && 0" />
                                <div class="error-messages" ng-if="interacted(myForm.ttperiods)" ng-messages="myForm.ttperiods.$error">
                                    <div ng-message="required">Please Select Period</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <hr />
                <div class="text-center">
                    <input type="hidden" ng-model="TTC_Id" />
                    <md-button type="submit" ng-disabled="form.$invalid" class="md-raised md-primary"  data-ng-click="saveddata()">
                        <i class="fa fa-save" aria-hidden="true"></i> Save
                    </md-button>
                    <md-button type="button" class="md-raised md-warn" ng-click="clearid()">
                        <i class="fa fa-times" aria-hidden="true"></i> Cancel
                    </md-button>
                </div>
            </div>
        </form>
    </div>
    <div class="box box-primary">
        <div class="box-header with-border">
            <h3 class="box-title">Grid View</h3>
            <div class="box-tools pull-right">
                <button type="button" class="btn btn-box-tool" data-widget="collapse" data-placement="bottom" data-toggle="tooltip" title="collapsible"><i class="fa fa-minus"></i></button>
            </div>
        </div>
        <!-- /.box-header -->
        <div class="box-body">
            <div ui-grid="gridOptions" ui-grid-pagination ui-grid-edit class="grid text-center" id="style-4" style="height: 270px;"></div>
        </div>
    </div>

</section>