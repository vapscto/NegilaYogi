
<div data-ng-init="formload()">
    <section class="content">
        <form name="myform" class="form-horizontal ng-pristine ng-valid" role="form" data-ng-submit="savedata(totalgrid,finslab1,finslab2)" novalidate>
            <div class="box box-primary">
                <div class="box-header with-border">
                    <h3 class="box-title">Head Ledger Mapping</h3>
                    <div class="box-tools pull-right">
                        <button type="button" class="btn btn-box-tool" data-widget="collapse"><i class="fa fa-minus"></i></button>
                    </div>
                </div>

                <div class="box-body">
                    <div class="row">
                        <div class="col-sm-6 col-sm-offset-3">

                            <div class="form-group">
                                <label class="control-label col-sm-4">Academic Year :<span style="color:Red">*</span></label>
                                <div class="col-sm-8">
                                    <select class="form-control" name="academicyear" id="sel1" data-ng-model="cfg.ASMAY_Id" ng-change="onselectacademic(yearlst)" required>
                                        <option ng-repeat="option in yearlst" value="{{option.asmaY_Id}}" ng-selected="{{option.asmaY_Id == cfg.ASMAY_Id}}">
                                            {{option.asmaY_Year}}
                                        </option>
                                    </select>
                                    <div class="error-messages" ng-if="interacted(myForm.academicyear)" ng-messages="myForm.academicyear.$error">
                                        <div ng-message="required">Select Academic Year </div>
                                    </div>
                                </div>
                            </div>

                            <div class="form-group">
                                <label class="control-label col-sm-4">Fee Group:<span style="color:red;">*</span></label>
                                <div class="col-sm-8">
                                    <select class="form-control" id="sel1" ng-model="FMG_Id" ng-change="onselectgroup()" name="feegroup">
                                        <option value="" label="">--Select Group--</option>
                                        <option ng-repeat="option in groupcount" value="{{option.fmG_Id}}" ng-selected="{{option.Selected == true}}">
                                            {{option.fmG_GroupName}}
                                        </option>
                                    </select>
                                    <div class="error-messages" ng-if="interacted(myForm.feegroup)" ng-messages="myForm.feegroup.$error">
                                        <div ng-message="required">Select fee group </div>
                                    </div>
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="control-label col-sm-4">Company Name :<span style="color:Red">*</span></label>
                                <div class="col-sm-8">
                                    <select class="form-control" name="CompanyNames" id="sel1" data-ng-model="FTMCOM_Id" >
                                        <option value="">--Select Company Name--</option>
                                        <option ng-repeat="option in feeGroupname" value="{{option.ftmcoM_Id}}" ng-selected="{{option.ftmcoM_Id == FTMCOM_Id}}">
                                            {{option.ftmcoM_CompanyName}}:{{option.ftmcoM_CompanyCode}}
                                        </option>
                                    </select>
                                    <!--<div class="error-messages" ng-if="interacted(myForm.CompanyNames)" ng-messages="myForm.CompanyNames.$error">
                                        <div ng-message="required"> select  Company Name </div>
                                    </div>-->
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="box box-primary" ng-show="totalgrid.length>0">
                <div class="box-header with-border">
                    <h3 class="box-title">Head Ledger Mapping</h3>
                    <div class="box-tools pull-right">
                        <button type="button" class="btn btn-box-tool" data-widget="collapse" data-placement="bottom" data-toggle="tooltip" title="collapsible"><i class="fa fa-minus"></i></button>
                    </div>
                </div>
                <!-- /.box-header -->
                <div class="box-body">
                    <table class="table table-table-responsive table-bordered text-center">
                        <thead>
                            <tr>
                                <th><a href="" ng-click="order('sno')">SLNO</a></th>
                                <th><a href="" ng-click="order('Fee')">HEAD NAME</a></th>
                                <th ng-show="stuwiseorheadwise=='H'"><a href="" ng-click="order('Fee')">RV REG LED </a></th>
                                <th><a href="" ng-click="order('Fee')">RV REG LED UND</a></th>
                                <th><a href="" ng-click="order('Fee')">RV ADV LED</a></th>
                                <th><a href="" ng-click="order('Fee')">RV ADV LED UND</a></th>
                                <th><a href="" ng-click="order('Fee')">RV ARR LED</a></th>
                                <th><a href="" ng-click="order('Fee')">RV ARR LED UND</a></th>

                                <th><a href="" ng-click="order('Fee')">JV REG LED </a></th>
                                <th><a href="" ng-click="order('Fee')">JV REG LED UND</a></th>
                                <th><a href="" ng-click="order('Fee')">JV ADV LED</a></th>
                                <th><a href="" ng-click="order('Fee')">JV ADV LED UND</a></th>
                                <th><a href="" ng-click="order('Fee')">JV ARR LED</a></th>
                                <th><a href="" ng-click="order('Fee')">JV ARR LED UND</a></th>

                            </tr>
                        </thead>
                        <tbody>
                            <tr ng-repeat="user in totalgrid track by $index | orderBy:predicate:default | filter:search" ng-class-odd="'odd'" ng-form="dataform">

                                <td>{{itemsPerPage *(currentPage-1)+$index+1}}</td>
                                <td>{{ user.fmH_FeeName}}</td>

                                <td hidden="hidden">{{ user.fyghM_Id}}</td>

                                <td hidden="hidden">{{ user.fyghlM_Id}}</td>

                                <td ng-show="stuwiseorheadwise=='H'">
                                    <input class="form-control" name="RVREGLEG" type="text" placeholder="Enter..." data-ng-model="user.fyghM_RVRegLedgerId" value="{{user.fyghM_RVRegLedgerId}}">
                                    <!--<div class="error-messages" ng-if="interacted(dataform.RVREGLEG)" ng-messages="dataform.RVREGLEG.$error">
                                        <div ng-message="required">Enter due date</div>
                                        <div ng-message="maxlength">The field should not exceed more than 150 Characters</div>
                                    </div>-->
                                </td>

                                <td>
                                    <input class="form-control" name="RVREGLEGUNDER" required type="text" placeholder="Enter..." data-ng-model="user.fyghM_RVRegLedgerUnder" value="{{user.fyghM_RVRegLedgerUnder}}">
                                    <div class="error-messages" ng-if="interacted(dataform.RVREGLEGUNDER)" ng-messages="dataform.RVREGLEGUNDER.$error">
                                        <div ng-message="required">Enter due date</div>
                                        <div ng-message="maxlength">The field should not exceed more than 150 Characters</div>
                                    </div>
                                </td>


                                <td>
                                    <input class="form-control" name="RVADVLEG" required type="text" placeholder="Enter..." data-ng-model="user.fyghM_RVAdvanceLegderId" value="{{user.fyghM_RVAdvanceLegderId}}">
                                    <div class="error-messages" ng-if="interacted(dataform.RVADVLEG)" ng-messages="dataform.RVADVLEG.$error">
                                        <div ng-message="required">Enter due date</div>
                                        <div ng-message="maxlength">The field should not exceed more than 150 Characters</div>
                                    </div>
                                </td>


                                <td>
                                    <input class="form-control" name="RVADVLEGUND" required type="text" placeholder="Enter..." data-ng-model="user.fyghM_RVAdvanceLegderUnder" value="{{user.fyghM_RVAdvanceLegderUnder}}">
                                    <div class="error-messages" ng-if="interacted(dataform.RVADVLEGUND)" ng-messages="dataform.RVADVLEGUND.$error">
                                        <div ng-message="required">Enter due date</div>
                                        <div ng-message="maxlength">The field should not exceed more than 150 Characters</div>
                                    </div>
                                </td>


                                <td>
                                    <input class="form-control" name="RVARRLEG" required type="text" placeholder="Enter..." data-ng-model="user.fyghM_RVArrearLedgerId" value="{{user.fyghM_RVArrearLedgerId}}">
                                    <div class="error-messages" ng-if="interacted(dataform.RVARRLEG)" ng-messages="dataform.RVARRLEG.$error">
                                        <div ng-message="required">Enter due date</div>
                                        <div ng-message="maxlength">The field should not exceed more than 150 Characters</div>
                                    </div>
                                </td>
                                <td>
                                    <input class="form-control" name="RVARRLEGUND" required type="text" placeholder="Enter..." data-ng-model="user.fyghM_RVArrearLedgerUnder" value="{{user.fyghM_RVArrearLedgerUnder}}">
                                    <div class="error-messages" ng-if="interacted(dataform.RVARRLEGUND)" ng-messages="dataform.RVARRLEGUND.$error">
                                        <div ng-message="required">Enter due date</div>
                                        <div ng-message="maxlength">The field should not exceed more than 150 Characters</div>
                                    </div>
                                </td>


                                <td>
                                    <input class="form-control" name="JVREGLEG" required type="text" placeholder="Enter..." data-ng-model="user.fyghM_JVRegLedgerId" value="{{user.fyghM_JVRegLedgerId}}">
                                    <div class="error-messages" ng-if="interacted(dataform.JVREGLEG)" ng-messages="dataform.JVREGLEG.$error">
                                        <div ng-message="required">Enter due date</div>
                                        <div ng-message="maxlength">The field should not exceed more than 150 Characters</div>
                                    </div>
                                </td>


                                <td>
                                    <input class="form-control" name="JVREGLEGUND" required type="text" placeholder="Enter..." data-ng-model="user.fyghM_JVRegLedgerUnder" value="{{user.fyghM_JVRegLedgerUnder}}">
                                    <div class="error-messages" ng-if="interacted(dataform.JVREGLEGUND)" ng-messages="dataform.JVREGLEGUND.$error">
                                        <div ng-message="required">Enter due date</div>
                                        <div ng-message="maxlength">The field should not exceed more than 150 Characters</div>
                                    </div>
                                </td>


                                <td>
                                    <input class="form-control" name="JVADVLEG" required type="text" placeholder="Enter..." data-ng-model="user.fyghM_JVAdvanceLegderId" value="{{user.fyghM_JVAdvanceLegderId}}">
                                    <div class="error-messages" ng-if="interacted(dataform.JVADVLEG)" ng-messages="dataform.JVADVLEG.$error">
                                        <div ng-message="required">Enter due date</div>
                                        <div ng-message="maxlength">The field should not exceed more than 150 Characters</div>
                                    </div>
                                </td>


                                <td>
                                    <input class="form-control" name="JVADVLEGUND" required type="text" placeholder="Enter..." data-ng-model="user.fyghM_JVAdvanceLegderUnder" value="{{user.fyghM_JVAdvanceLegderUnder}}">
                                    <div class="error-messages" ng-if="interacted(dataform.JVADVLEGUND)" ng-messages="dataform.JVADVLEGUND.$error">
                                        <div ng-message="required">Enter due date</div>
                                        <div ng-message="maxlength">The field should not exceed more than 150 Characters</div>
                                    </div>
                                </td>


                                <td>
                                    <input class="form-control" name="JVARRLEG" required type="text" placeholder="Enter..." data-ng-model="user.fyghM_JVArrearLedgerId" value="{{user.fyghM_JVArrearLedgerId}}">
                                    <div class="error-messages" ng-if="interacted(dataform.JVARRLEG)" ng-messages="dataform.JVARRLEG.$error">
                                        <div ng-message="required">Enter due date</div>
                                        <div ng-message="maxlength">The field should not exceed more than 150 Characters</div>
                                    </div>
                                </td>


                                <td>
                                    <input class="form-control" name="JVARRLEGUND" required type="text" placeholder="Enter..." data-ng-model="user.fyghM_JVArrearLedgerUnder" value="{{user.fyghM_JVArrearLedgerUnder}}">
                                    <div class="error-messages" ng-if="interacted(dataform.JVARRLEGUND)" ng-messages="dataform.JVARRLEGUND.$error">
                                        <div ng-message="required">Enter due date</div>
                                        <div ng-message="maxlength">The field should not exceed more than 150 Characters</div>
                                    </div>
                                </td>



                            </tr>
                        </tbody>
                    </table>

                    <hr />
                    <div class="text-center">
                        <md-button type="submit" class="md-raised md-primary" ng-disabled="form.$invalid" id="ee-btn">
                            <i class="fa fa-floppy-o" aria-hidden="true"></i>
                            Save
                        </md-button>
                        <md-button type="button" class="md-raised md-warn" data-ng-click="cleardata()">
                            <i class="fa fa-times" aria-hidden="true"></i>
                            Cancel
                        </md-button>
                    </div>
                </div>
            </div>
            <div class="box box-primary" ng-show="thirdgrid.length>0">
                <div class="box-header with-border">
                    <h3 class="box-title">HEAD LEDGER MAPPING LIST</h3>
                    <!--<h3 class="box-title"> (Total Count -  {{totcountfirst}} )</h3>-->
                    <div class="box-tools pull-right">
                        <button type="button" class="btn btn-box-tool" data-widget="collapse" data-placement="bottom" data-toggle="tooltip" title="collapsible"><i class="fa fa-minus"></i></button>
                    </div>
                </div>
                <!-- /.box-header -->
                <div class="box-body" style="overflow:scroll;">
                    <div class="">
                        <div class="col-sm-4">
                            <div class="form-group">
                                <label class="control-label">
                                    <b> Total Grid Records :</b>
                                    <label class="badge">
                                        {{totcountfirst}}
                                    </label>
                                </label>
                            </div>
                        </div>
                        <div class="col-sm-4">
                            <div class="form-group" ng-if="searchthird!=''">
                                <label class="control-label">
                                    <b>Total Records Searched : </b>
                                    <label class="badge">
                                        {{filterValue.length}}
                                    </label>
                                </label>
                            </div>
                        </div>
                        <div class="col-sm-4 pull-right">
                            <div class="form-group">
                                <div class="input-group">
                                    <span class="input-group-addon">
                                        <i class="fa fa-search"></i>
                                    </span>
                                    <input class="form-control" ng-model="searchthird" type="text" placeholder="search here...">
                                </div>
                            </div>
                        </div>
                    </div>
                    <table class="table table-hover table-responsive table-bordered text-center">
                        <thead>
                            <tr>
                                <th><a href="" ng-click="sort('sno')">SLNO</a></th>
                                <th><a href="" ng-click="order('Fee')">GROUP NAME </a></th>
                                <th><a href="" ng-click="order('Fee')">HEAD NAME </a></th>
                                <th ng-show="stuwiseorheadwise=='H'"><a href="" ng-click="order('Fee')">RV REG LED </a></th>
                                <th><a href="" ng-click="order('Fee')">RV REG LED UND</a></th>
                                <th><a href="" ng-click="order('Fee')">RV ADV LED</a></th>
                                <th><a href="" ng-click="order('Fee')">RV ADV LED UND</a></th>
                                <th><a href="" ng-click="order('Fee')">RV ARR LED</a></th>
                                <th><a href="" ng-click="order('Fee')">RV ARR LED UND</a></th>

                                <th><a href="" ng-click="order('Fee')">JV REG LED </a></th>
                                <th><a href="" ng-click="order('Fee')">JV REG LED UND</a></th>
                                <th><a href="" ng-click="order('Fee')">JV ADV LED</a></th>
                                <th><a href="" ng-click="order('Fee')">JV ADV LED UND</a></th>
                                <th><a href="" ng-click="order('Fee')">JV ARR LED</a></th>
                                <th><a href="" ng-click="order('Fee')">JV ARR LED UND</a></th>
                                <th><a href="" ng-click="order('Fee')">Action</a></th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr dir-paginate="user in filterValue=(thirdgrid  | filter : searchthird) |orderBy:sortKey:reverse  |itemsPerPage:itemsPerPage" current-page="currentPage" ng-class-odd="'odd'">
                                <td>{{itemsPerPage *(currentPage-1)+$index+1}}</td>
                                <td hidden="hidden">{{ user.fyghlM_Id}}</td>
                                <td>{{ user.fmG_GroupName}}</td>
                                <td>{{ user.fmH_FeeName}}</td>
                                <td ng-show="stuwiseorheadwise=='H'" >{{ user.fyghM_RVRegLedgerId}}</td>
                                <td>{{ user.fyghM_RVRegLedgerUnder}}</td>
                                <td>{{ user.fyghM_RVAdvanceLegderId}}</td>
                                <td>{{ user.fyghM_RVAdvanceLegderUnder}}</td>
                                <td>{{ user.fyghM_RVArrearLedgerId}}</td>
                                <td>{{ user.fyghM_RVArrearLedgerUnder}}</td>

                                <td>{{ user.fyghM_JVRegLedgerId}}</td>
                                <td>{{ user.fyghM_JVRegLedgerUnder}}</td>
                                <td>{{ user.fyghM_JVAdvanceLegderId}}</td>
                                <td>{{ user.fyghM_JVAdvanceLegderUnder}}</td>
                                <td>{{ user.fyghM_JVArrearLedgerId}}</td>
                                <td>{{ user.fyghM_JVArrearLedgerUnder}}</td>

                                <td hidden="hidden">{{user.fyghlM_Id}}</td>

                                <td class="text-center">
                                    <a class="text-danger padding-right-5" href="" data-placement="bottom" data-toggle="tooltip" title="Delete">
                                        <i class="fa fa-trash" aria-hidden="true" ng-click="DeletRecord(user.fyghlM_Id)"></i>
                                    </a>
                                </td>

                            </tr>
                        </tbody>
                    </table>
                    <dir-pagination-controls max-size="5"
                                             direction-links="true"
                                             boundary-links="true">
                    </dir-pagination-controls>
                </div>
            </div>
        </form>
    </section>
</div>
