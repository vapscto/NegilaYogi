

<section class="content" data-ng-init="BindData()">
  
        
            <div class="box box-primary">
                <div class="box-header with-border">
                    <h3 class="box-title">Fee Master Concession</h3>
                    <div class="text-center">
                        <label>
                            Previledges :
                        </label>
                        <label>
                            <input type="Checkbox" name="savebtn" ng-model="savebtn" ng-disabled="savedisable">
                            <span class="lbl padding-8">Save</span>
                        </label>
                        <label>
                            <input type="checkbox" name="editbtn" ng-model="editbtn" ng-disabled="savedisable">
                            <span class="lbl padding-8">Edit</span>
                        </label>
                        <label>
                            <input type="checkbox" name="deletebtn" ng-model="deletebtn" ng-disabled="savedisable">
                            <span class="lbl padding-8">Delete</span>
                        </label>

                    </div>

                    <div class="box-tools pull-right">
                        <button type="button" class="btn btn-box-tool" data-widget="collapse"><i class="fa fa-minus"></i></button>
                    </div>
                </div>
                <div class="box-body">
                    <div ng-cloak>
                        <md-content>
                            <md-tabs md-dynamic-height md-border-bottom>
                                <md-tab label="Concession">
                                    <md-content class="md-padding">
                                        <form class="form-horizontal" role="form" name="myform1" novalidate>
                                            <div class="row">
                                                <div class="col-sm-6 col-sm-offset-3">
                                                    <div class="form-group">
                                                        <label class="control-label col-sm-4">Concession Name:<span style="color:red;">*</span></label>
                                                        <div class="col-sm-8">
                                                            <input type="text" name="name123" ng-model="fmcC_ConcessionName" class="form-control" maxlength="25" ng-minlength="3" ng-maxlength="25" required />  <!--allow-pattern="(\s|[a-zA-Z1-9])"-->
                                                            <div class="error-messages" ng-if="interacted(myform1.name123)" ng-messages="myform1.name123.$error">
                                                                <div ng-message="required">Enter the Concession Name</div>
                                                                <div ng-message="minlength">The Concession Name should contain minimum 3 alphabets </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="form-group">
                                                        <label class="control-label col-sm-4">Concession Limit:<span style="color:red;">*</span></label>
                                                        <div class="col-sm-8">
                                                            <input type="text" name="ccde" ng-model="fmcC_ConcessionApplLimit" class="form-control" ng-change="limit()" required />  <!--allow-pattern="(\s|[a-zA-Z1-9])"-->
                                                            <div class="error-messages" ng-if="interacted(myform1.ccde)" ng-messages="myform1.ccde.$error">
                                                                <div ng-message="required">Enter the Concession Limit</div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <hr />

                                            <div class="text-center">

                                                <input type="hidden" ng-model="fmcC_Id" />
                                                <md-button type="submit" ng-disabled="myform1.$invalid" class="md-raised md-primary" ng-click="savedata()" ng-show="saveflg">
                                                    <i class="fa fa-save" aria-hidden="true"></i> Save
                                                </md-button>
                                                <md-button type="button" class="md-raised md-warn" ng-click="clearid()" ng-show="saveflg">
                                                    <i class="fa fa-times" aria-hidden="true"></i> Cancel
                                                </md-button>
                                            </div>

                                        </form>
                                        <div class="box box-primary">
                                            <div class="box-header with-border">
                                                <h3 class="box-title">Fee Master Concession View</h3>
                                                <!--<h3 class="box-title"> (Total Count -  {{totcountfirst}} )</h3>-->
                                                <div class=""></div>
                                                <div class="box-tools pull-right">
                                                    <button type="button" class="btn btn-box-tool" data-widget="collapse" data-placement="bottom" data-toggle="tooltip" title="collapsible"><i class="fa fa-minus"></i></button>
                                                </div>
                                            </div>
                                            <!-- /.box-header -->
                                            <div class="box-body">
                                                <div class="">
                                                    <div class="col-sm-4">
                                                        <div class="form-group">
                                                            <label class="control-label">
                                                                <b> Total Grid Records :</b>
                                                                <label class="badge">
                                                                    {{totcountfirst}}
                                                                </label>
                                                            </label>
                                                        </div>
                                                    </div>
                                                    <div class="col-sm-4">
                                                        <div class="form-group" ng-if="searchValue!=''">
                                                            <label class="control-label">
                                                                <b>Total Records Searched : </b>
                                                                <label class="badge">
                                                                    {{filterValue1.length}}
                                                                </label>
                                                            </label>
                                                        </div>
                                                    </div>
                                                    <div class="col-sm-4 pull-right">
                                                        <div class="form-group">
                                                            <div class="input-group">
                                                                <span class="input-group-addon">
                                                                    <i class="fa fa-search"></i>
                                                                </span>
                                                                <input class="form-control" ng-model="searchValue" type="text" placeholder="search here...">
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>

                                                <table class="table table-hover table-responsive table-bordered text-center">
                                                    <thead>
                                                        <tr>
                                                            <th>
                                                                <a href="" ng-click="order('sno')">SLNO</a>
                                                            </th>
                                                            <th>
                                                                <a href="" ng-click="sort('fmcC_ConcessionName')">Concession Name</a>
                                                            </th>
                                                            <th><a href="" ng-click="sort('fmcC_ConcessionApplLimit')">Concession Limit</a> </th>
                                                            <th>Action</th>
                                                        </tr>
                                                    </thead>
                                                    <tbody>
                                                        <tr dir-paginate="user in filterValue1=(mastervehicle  | filter : filterValue) |orderBy:sortKey:reverse  |itemsPerPage:itemsPerPage" current-page="currentPage" ng-class-odd="'odd'" pagination-id="page1">
                                                            <td>{{ itemsPerPage *(currentPage-1)+$index+1}}</td>
                                                            <td style="text-align:left;">{{ user.fmcC_ConcessionName}}</td>
                                                            <td style="text-align:right;">{{ user.fmcC_ConcessionApplLimit}}</td>
                                                            <td style="display:none;">{{ user.fmcC_ActiveFlag}}</td>
                                                            <td class="text-center">
                                                                <a class="text-aqua" href="" ng-click="edit(user)" data-placement="bottom" data-toggle="tooltip" title="Edit" ng-show="editflg">
                                                                    <i class="fa fa-pencil-square-o" aria-hidden="true"></i>
                                                                </a>
                                                                <span ng-if="user.fmcC_ActiveFlag ===false ">
                                                                    <a href="" ng-click="deactive(user)"
                                                                       class="text-green" data-placement="bottom" data-toggle="tooltip" title="Activate" ng-show="deactiveflag">
                                                                        Activate
                                                                    </a>
                                                                </span>
                                                                <span ng-if="user.fmcC_ActiveFlag === true ">
                                                                    <a href="" ng-click="deactive(user)"
                                                                       class="text-danger" data-placement="bottom" data-toggle="tooltip" title="Deactivate" ng-show="deactiveflag">
                                                                        Deactivate
                                                                    </a>
                                                                </span>
                                                            </td>
                                                        </tr>
                                                    </tbody>
                                                </table>
                                                <dir-pagination-controls max-size="5" pagination-id="page1"
                                                                         direction-links="true"
                                                                         boundary-links="true">
                                                </dir-pagination-controls>
                                            </div>
                                        </div>
                                    </md-content>
                                </md-tab>


                                <md-tab label="Category Details">
                                    <md-content class="md-padding">
                                        <form class="form-horizontal" role="form" name="myform2" novalidate>
                                            <div class="row">
                                                <div class="col-sm-3">
                                                </div>
                                                <div class="col-sm-6">
                                                    <div class="form-group">
                                                        <label class="control-label col-sm-4">Category<strong style="color:red;">*</strong></label>
                                                        <div class="col-sm-8">
                                                            <select class="form-control" ng-model="FMCC_Id" name="cat2" required>
                                                                <option value="">--Select-- </option>
                                                                <option ng-repeat="option in categorylist" value="{{option.fmcC_Id}}" ng-selected="{{option.fmcC_Id == FMCC_Id}}">
                                                                    {{option.fmcC_ConcessionName}}
                                                                </option>
                                                            </select>
                                                            <div class="error-messages" ng-if="interacted2(myform2.cat2)" ng-messages="myform2.cat2.$error">
                                                                <div ng-message="required">Select Category</div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="form-group">
                                                        <label class="control-label col-sm-4">Type<strong style="color:red;">*</strong></label>
                                                        <div class="col-sm-8">
                                                            <select class="form-control" ng-model="FMCCD_PerOrAmtFlag" name="type" required>
                                                                <option value="">--Select-- </option>
                                                                <option value="P">Percent</option>
                                                                <option value="A">Amount</option>

                                                            </select>
                                                            <div class="error-messages" ng-if="interacted2(myform2.type)" ng-messages="myform2.type.$error">
                                                                <div ng-message="required">Select Type</div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="form-group">
                                                        <label class="control-label col-sm-4">From No of Sibling<span style="color:Red">*</span></label>
                                                        <div class="col-sm-8">
                                                            <input class="form-control" name="fromsibl" id="catgr1y1" type="text" data-ng-model="FMCCD_FromNoSibblings" maxlength="5" allow-pattern="\d" required>
                                                            <div class="error-messages" ng-if="interacted2(myform2.fromsibl)" ng-messages="myform2.fromsibl.$error">
                                                                <div ng-message="required">Please Enter From No of Sibbling</div>

                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="form-group">
                                                        <label class="control-label col-sm-4">To No of Sibling<span style="color:Red">*</span></label>
                                                        <div class="col-sm-8">
                                                            <input class="form-control" name="tosibl" id="catgr1y" type="text" data-ng-model="FMCCD_ToNoSibblings" maxlength="5" allow-pattern="\d" required>
                                                            <div class="error-messages" ng-if="interacted2(myform2.tosibl)" ng-messages="myform2.tosibl.$error">
                                                                <div ng-message="required">Please Enter To No of Sibbling</div>

                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="form-group">
                                                        <label class="control-label col-sm-4">Percent/Amount<span style="color:Red">*</span></label>
                                                        <div class="col-sm-8">
                                                            <input class="form-control" name="percentA" id="catgr1y3" type="text" data-ng-model="FMCCD_PerOrAmt" allow-pattern="\d" required>
                                                            <div class="error-messages" ng-if="interacted2(myform2.percentA)" ng-messages="myform2.percentA.$error">
                                                                <div ng-message="required">Please Enter Percent/Amount</div>

                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="col-sm-3">

                                                </div>
                                            </div>
                                            <hr />
                                            <div class="text-center">
                                                <input type="hidden" ng-model="fmccD_Id" />
                                                <md-button type="submit" ng-disabled="myform2.$invalid" class="md-raised md-primary" ng-click="savedata2()" ng-show="saveflg">
                                                    <i class="fa fa-save" aria-hidden="true"></i> Save
                                                </md-button>
                                                <md-button type="button" class="md-raised md-warn" ng-click="clearid2()" ng-show="saveflg">
                                                    <i class="fa fa-times" aria-hidden="true"></i> Cancel
                                                </md-button>
                                            </div>
                                        </form>
                                        <div class="box box-primary">
                                            <div class="box-header with-border">
                                                <h3 class="box-title">Fee Category Details</h3>
                                                <!--<h3 class="box-title"> (Total Count -  {{totcountfirst2}} )</h3>-->
                                                <div class=""></div>
                                                <div class="box-tools pull-right">
                                                    <button type="button" class="btn btn-box-tool" data-widget="collapse" data-placement="bottom" data-toggle="tooltip" title="collapsible"><i class="fa fa-minus"></i></button>
                                                </div>
                                            </div>
                                            <!-- /.box-header -->
                                            <div class="box-body">
                                                <div class="">
                                                    <div class="col-sm-4">
                                                        <div class="form-group">
                                                            <label class="control-label">
                                                                <b> Total Grid Records :</b>
                                                                <label class="badge">
                                                                    {{totcountfirst2}}
                                                                </label>
                                                            </label>
                                                        </div>
                                                    </div>
                                                    <div class="col-sm-4">
                                                        <div class="form-group" ng-if="searchValue2!=''">
                                                            <label class="control-label">
                                                                <b>Total Records Searched : </b>
                                                                <label class="badge">
                                                                    {{filterValue3.length}}
                                                                </label>
                                                            </label>
                                                        </div>
                                                    </div>
                                                    <div class="col-sm-4 pull-right">
                                                        <div class="form-group">
                                                            <div class="input-group">
                                                                <span class="input-group-addon">
                                                                    <i class="fa fa-search"></i>
                                                                </span>
                                                                <input class="form-control" ng-model="searchValue2" type="text" placeholder="search here...">
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <table class="table table-hover table-responsive table-bordered text-center">
                                                    <thead>
                                                        <tr>
                                                            <th><a href="" ng-click="order('sno')">SLNO</a></th>
                                                            <th><a href="" ng-click="sort2('fmcC_ConcessionName')">Category Name</a></th>
                                                            <th><a href="" ng-click="sort2('fmccD_FromNoSibblings')">From no of Sibbling</a></th>
                                                            <th><a href="" ng-click="sort2('fmccD_ToNoSibblings')">To no of Sibbling</a></th>
                                                            <th><a href="" ng-click="sort2('fmccD_PerOrAmt')">Percent or Amount</a></th>
                                                            <!--<th style="display:none;"><a href="" ng-click="sort('FMCC_ActiveFlag')">Active/InActive</a> </th>-->
                                                            <th>Action</th>
                                                        </tr>
                                                    </thead>
                                                    <tbody>
                                                        <tr dir-paginate="user1 in filterValue3=(mastervehicle2  | filter : filterValue2) |orderBy:sortKey:reverse  |itemsPerPage:itemsPerPage2" current-page="currentPage2" ng-class-odd="'odd'" pagination-id="page2">
                                                            <td>{{ itemsPerPage2 *(currentPage2-1)+$index+1}}</td>
                                                            <td style="text-align:left;">{{ user1.fmcC_ConcessionName}}</td>
                                                            <td style="text-align:right;">{{ user1.fmccD_FromNoSibblings}}</td>
                                                            <td style="text-align:right;">{{ user1.fmccD_ToNoSibblings}}</td>
                                                            <td style="text-align:right;">{{ user1.fmccD_PerOrAmt}}</td>
                                                            <td class="text-center">
                                                                <a class="text-aqua" href="" ng-click="edit2(user1)" data-placement="bottom" data-toggle="tooltip" title="Edit" ng-show="editflg">
                                                                    <i class="fa fa-pencil-square-o" aria-hidden="true"></i>
                                                                </a>
                                                                <span ng-if="user1.fmccD_ActiveFlg ===false ">
                                                                    <a href="" ng-click="deactive2(user1)"
                                                                       class="text-green" data-placement="bottom" data-toggle="tooltip" title="Activate" ng-show="deactiveflag"> 
                                                                        Activate
                                                                    </a>
                                                                </span>
                                                                <span ng-if="user1.fmccD_ActiveFlg === true ">
                                                                    <a href="" ng-click="deactive2(user1)"
                                                                       class="text-danger" data-placement="bottom" data-toggle="tooltip" title="Deactivate" ng-show="deactiveflag">
                                                                        Deactivate
                                                                    </a>
                                                                </span>
                                                            </td>
                                                        </tr>
                                                    </tbody>
                                                </table>
                                                <dir-pagination-controls max-size="5" pagination-id="page2"
                                                                         direction-links="true"
                                                                         boundary-links="true">
                                                </dir-pagination-controls>
                                            </div>
                                        </div>

                                    </md-content>
                                </md-tab>


                                <md-tab label="Category Group Head Mapping">
                                    <md-content class="md-padding">
                                        <form class="form-horizontal" role="form" name="myform3" novalidate>
                                            <div class="row">
                                                <div class="col-sm-3">
                                                </div>
                                                <div class="col-sm-6">
                                                    <div class="form-group">
                                                        <label class="control-label col-sm-4">Category<strong style="color:red;">*</strong></label>
                                                        <div class="col-sm-8">
                                                            <select class="form-control" ng-model="FMCC_Id" name="cat2" required>
                                                                <option value="">--Select-- </option>
                                                                <option ng-repeat="option in categorylist3" value="{{option.fmcC_Id}}" ng-selected="{{option.fmcC_Id == FMCC_Id}}">
                                                                    {{option.fmcC_ConcessionName}}
                                                                </option>
                                                            </select>
                                                            <div class="error-messages" ng-if="interacted3(myform3.cat2)" ng-messages="myform3.cat2.$error">
                                                                <div ng-message="required">Select Category</div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="form-group">
                                                        <label class="control-label col-sm-4">Group<strong style="color:red;">*</strong></label>
                                                        <div class="col-sm-8">
                                                            <select class="form-control" ng-model="FMG_Id" name="group" ng-change="gethead()" ng-click="year()" required>
                                                                <option value="">--Select-- </option>
                                                                <option ng-repeat="option in grouplist" value="{{option.fmG_Id}}" ng-selected="{{option.fmG_Id == FMG_Id}}">
                                                                    {{option.fmG_GroupName}}
                                                                </option>
                                                            </select>
                                                            <div class="error-messages" ng-if="interacted3(myform3.group)" ng-messages="myform3.group.$error">
                                                                <div ng-message="required">Select Group</div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="form-group">
                                                        <label for="sel2" class="control-label col-sm-4">Head : <span style="color:red;">*</span></label>
                                                        <div class="multiselect col-sm-8">
                                                            <input class="form-control" ng-model="searchchkbx1" type="text" placeholder="search here..." />
                                                            <label>
                                                                <input name="clsoption" ng-true-value="true" ng-false-value="false" ng-model="usercheckC" type="checkbox" ng-click="all_checkC(usercheckC)" ng-disabled="editflag">
                                                                <span class="lbl padding-8">
                                                                    All
                                                                </span>
                                                            </label>
                                                            <label ng-repeat="user in headlist | filter:searchchkbx1" value="{{fmH_Id}}">
                                                                <input type="checkbox" ng-model="user.selected" ng-click="togchkbxC()" ng-required="isOptionsRequired()" name="clweres" ng-disabled="editflag" required />
                                                                <span class="lbl padding-8">{{user.fmH_FeeName}}</span>
                                                            </label>
                                                        </div>
                                                        <div class="error-messages col-sm-offset-4" ng-if="interacted3(myform3.clweres)" ng-messages="myform3.clweres.$error">
                                                            <div ng-message="required">Please Select any Head Name</div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="col-sm-3">
                                                </div>
                                            </div>
                                            <hr />
                                            <div class="text-center">
                                                <input type="hidden" ng-model="fmaccG_Id" />
                                                <md-button type="submit" ng-disabled="myform3.$invalid" class="md-raised md-primary" ng-click="savedata3()" ng-show="saveflg">
                                                    <i class="fa fa-save" aria-hidden="true"></i> Save
                                                </md-button>
                                                <md-button type="button" class="md-raised md-warn" ng-click="clearid3()" ng-show="saveflg">
                                                    <i class="fa fa-times" aria-hidden="true"></i> Cancel
                                                </md-button>
                                            </div>
                                        </form>
                                        <div class="box box-primary">
                                            <div class="box-header with-border">
                                                <h3 class="box-title">Category Group Head Mapping Details</h3>
                                                <!--<h3 class="box-title"> (Total Count -  {{totcountfirst3}} )</h3>-->
                                                <div class=""></div>
                                                <div class="box-tools pull-right">
                                                    <button type="button" class="btn btn-box-tool" data-widget="collapse" data-placement="bottom" data-toggle="tooltip" title="collapsible"><i class="fa fa-minus"></i></button>
                                                </div>
                                            </div>
                                            <!-- /.box-header -->
                                            <div class="box-body">
                                                <div class="">
                                                    <div class="col-sm-4">
                                                        <div class="form-group">
                                                            <label class="control-label">
                                                                <b> Total Grid Records :</b>
                                                                <label class="badge">
                                                                    {{totcountfirst3}}
                                                                </label>
                                                            </label>
                                                        </div>
                                                    </div>
                                                    <div class="col-sm-4">
                                                        <div class="form-group" ng-if="searchValue3!=''">
                                                            <label class="control-label">
                                                                <b>Total Records Searched : </b>
                                                                <label class="badge">
                                                                    {{filterValue45.length}}
                                                                </label>
                                                            </label>
                                                        </div>
                                                    </div>
                                                    <div class="col-sm-4 pull-right">
                                                        <div class="form-group">
                                                            <div class="input-group">
                                                                <span class="input-group-addon">
                                                                    <i class="fa fa-search"></i>
                                                                </span>
                                                                <input class="form-control" ng-model="searchValue3" type="text" placeholder="search here...">
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>

                                                <table class="table table-hover table-responsive table-bordered text-center">
                                                    <thead>
                                                        <tr>
                                                            <th><a href="" ng-click="order('sno')">SLNO</a></th>
                                                            <th><a href="" ng-click="sort3('fmcC_ConcessionName')">Category Name</a></th>
                                                            <th><a href="" ng-click="sort3('fmG_GroupName')">Group</a></th>
                                                            <th><a href="" ng-click="sort3('fmH_FeeName')">Head</a></th>
                                                            <!--<th style="display:none;"><a href="" ng-click="sort('FMCC_ActiveFlag')">Active/InActive</a> </th>-->
                                                            <th>Action</th>
                                                        </tr>
                                                    </thead>
                                                    <tbody>
                                                        <tr dir-paginate="user3 in filterValue45=(mastervehicle3  | filter : filterValue4) |orderBy:sortKey:reverse  |itemsPerPage:itemsPerPage3" current-page="currentPage3" ng-class-odd="'odd'" pagination-id="page3">
                                                            <td>{{ itemsPerPage3 *(currentPage3-1)+$index+1}}</td>
                                                            <td style="text-align:left;">{{ user3.fmcC_ConcessionName}}</td>
                                                            <td style="text-align:right;">{{ user3.fmG_GroupName}}</td>
                                                            <td style="text-align:right;">{{ user3.fmH_FeeName}}</td>
                                                            <td class="text-center">
                                                                <a class="text-aqua" href="" ng-click="edit3(user3)" data-placement="bottom" data-toggle="tooltip" title="Edit" ng-show="editflg">
                                                                    <i class="fa fa-pencil-square-o" aria-hidden="true"></i>
                                                                </a>
                                                                <span ng-if="user3.fmaccG_ActiveFlg ===false ">
                                                                    <a href="" ng-click="deactive3(user3)"
                                                                       class="text-green" data-placement="bottom" data-toggle="tooltip" title="Activate" ng-show="deactiveflag">
                                                                        Activate
                                                                    </a>
                                                                </span>
                                                                <span ng-if="user3.fmaccG_ActiveFlg === true ">
                                                                    <a href="" ng-click="deactive3(user3)"
                                                                       class="text-danger" data-placement="bottom" data-toggle="tooltip" title="Deactivate" ng-show="deactiveflag">
                                                                        Deactivate
                                                                    </a>
                                                                </span>
                                                            </td>
                                                        </tr>
                                                    </tbody>
                                                </table>
                                                <dir-pagination-controls max-size="5" pagination-id="page3"
                                                                         direction-links="true"
                                                                         boundary-links="true">
                                                </dir-pagination-controls>
                                            </div>
                                        </div>

                                    </md-content>
                                </md-tab>


                            </md-tabs>
                        </md-content>
                        </div>
                    </div>
                </div>
</section>
