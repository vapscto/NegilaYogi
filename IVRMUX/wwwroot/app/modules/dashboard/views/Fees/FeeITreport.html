<div data-ng-init="loaddata()">
    <section class="content">
        <form class="form-horizontal" role="form" method="post" name="myForm">
            <div class="box box-primary">
                <div class="box-header with-border">
                    <h3 class="box-title">FEE IT Certificate</h3>
                    <div class="box-tools pull-right">
                        <button type="button" class="btn btn-box-tool" data-widget="collapse"><i class="fa fa-minus"></i></button>
                    </div>
                </div>
                <div class="box-body">

                    <div class="row">
                        <div class="col-sm-6 col-sm-offset-3" ng-init="Selectionrd='allr'">
                            <div class="well text-center">
                                <label class="radio-inline">
                                    <input type="radio" value="allr" data-ng-model="Selectionrd" data-ng-click="onclickloaddataclass(obj)" required />
                                    <span class="lbl padding-8">All</span>
                                </label>
                                <label class="radio-inline">
                                    <input type="radio" value="Indi" data-ng-model="Selectionrd" data-ng-click="onclickloaddataclass(obj)" required />
                                    <span class="lbl padding-8">Individual</span>
                                </label>
                                <!--<label class="radio-inline">
                            <input type="radio" value="Cons" data-ng-model="Selectionrd" data-ng-click="onclickloaddataclass(obj)"  required />
                            <span class="lbl padding-8">Consolidated</span>
                        </label>-->
                            </div>
                        </div>
                    </div>

                    <div class="row">

                        <div ng-switch="feeit">
                            <div ng-switch-default>

                                <div>
                                    <div class="">

                                        <div class="col-sm-6">
                                            <div class="form-group">
                                                <label class="control-label col-sm-4">Academic Year:<span style="color:red;">*</span></label>
                                                <div class="col-sm-8">
                                                    <select class="form-control" id="sel1" data-ng-model="obj.asmaY_Id" name="acd_year" required>
                                                        <option value="">Select Year</option>
                                                        <option ng-repeat="options in yearlist" value="{{options.asmaY_Id}}" ng-selected="{{options.Selected == true}}">{{options.asmaY_Year}}</option>
                                                    </select>
                                                </div>
                                                <div class="error-messages" ng-if="interacted(myForm.acd_year)" ng-messages="myForm.acd_year.$error">
                                                    <div ng-message="required" style="margin-left:195px;">Please select the Academic Year</div>
                                                </div>
                                            </div>
                                        </div>

                                        <div class="col-sm-6">
                                            <div class="form-group">
                                                <label class="control-label col-sm-4">Class:<strong style="color:red;display:inline; font-weight: bolder; margin-left: 7px;">*</strong></label>
                                                <div class="col-sm-8">
                                                    <select class="form-control" id="cls" ng-model="obj.asmcL_Id" name="class_id" data-ng-change="onselectclass(obj)" required>
                                                        <option value="">Select</option>
                                                        <option ng-repeat="class in classlist" value="{{class.asmcL_Id}}" ng-selected="{{class.Selected == true}}"> {{class.asmcL_ClassName}} </option>
                                                    </select>
                                                </div>
                                                <div class="error-messages" ng-if="interacted(myForm.class_id)" ng-messages="myForm.class_id.$error">
                                                    <div ng-message="required" style="margin-left:195px;">Please select the Class</div>
                                                </div>

                                            </div>
                                        </div>
                                        <div class="col-sm-6">
                                            <div class="form-group">
                                                <label class="control-label col-sm-4">Section :<strong style="color:red;display:inline; font-weight: bolder; margin-left: 7px;">*</strong></label>
                                                <div class="col-sm-8">
                                                    <select class="form-control" ng-model="obj.asmC_Id" name="section" data-ng-change="onselectsection(obj)" required>
                                                        <option value="">Select Section</option>
                                                        <option ng-repeat="option in sectioncount" value="{{option.amsC_Id}}" ng-selected="{{option.Selected == true}}">
                                                            {{option.asmc_sectionname}}
                                                        </option>
                                                    </select>
                                                    <div class="error-messages" ng-if="interacted(myForm.section)" ng-messages="myForm.section.$error">
                                                        <div ng-message="required">Please Select Section</div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                        <div class="col-sm-6">
                                            <div class="form-group">
                                                <label class="control-label col-sm-4">Student Name:<strong style="color:red;display:inline; font-weight: bolder; margin-left: 7px;">*</strong></label>
                                                <div class="col-sm-8">
                                                    <select class="form-control" id="sel1" name="studentname" ng-model="obj.amst_Id" data-ng-change="onselectstudent(obj)" required>
                                                        <option value="">Select student</option>
                                                        <option ng-repeat="option in studentlst" value="{{option.amst_Id}}" ng-selected="{{option.Selected == true}}">

                                                            <!--{{option.amsT_FirstName + ' ' + option.amsT_MiddleName + ' ' + option.amsT_LastName}}-->
                                                            {{ option.amsT_FirstName}} <span ng-if="option.amsT_MiddleName !== null" class="lbl padding-8">  {{ option.amsT_MiddleName}} </span> {{ option.amsT_LastName}}

                                                        </option>
                                                    </select>
                                                    <div class="error-messages" ng-if="interacted(myForm.studentname)" ng-messages="myForm.studentname.$error">
                                                        <div ng-message="required">Please Select Student Name</div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                        <div class="col-sm-6" ng-show="receipt">
                                            <div class="form-group">
                                                <label class="control-label col-sm-4">Receipt No:<span style="color:red;">*</span></label>
                                                <div class="col-sm-8">
                                                    <select class="form-control" id="sel1" data-ng-model="obj.fyp_id" name="rcpt_no">
                                                        <option value="">Select Receipt No</option>
                                                        <option ng-repeat="options in receiptnoterms" value="{{options.fyp_id}}" ng-selected="{{options.Selected == true}}">{{options.fyp_receipt_no}}</option>
                                                    </select>
                                                </div>

                                            </div>
                                        </div>



                                        <!--<div class="col-sm-6" ng-show="head">
                                    <div class="form-group">
                                        <label class="control-label col-sm-4">Fee Head:<span style="color:red;">*</span></label>
                                        <div class="col-sm-8">
                                            <div class="multiselect">
                                                <label ng-repeat="role in fillmasterhead" ng-model="fmH_Id" value="{{role.fmH_Id}}">
                                                    <input type="checkbox" data-ng-model="role.fmH_Id_chk" name="fee_tr" ng-required="Selectionrd=='Indi' && is_optionrequired_groupterm_grp()">
                                                    <span class="lbl padding-8">
                                                        {{role.fmH_FeeName}}
                                                    </span>
                                                </label>
                                            </div>
                                        </div>
                                    </div>
                                </div>-->
                                        <div class="col-sm-6" ng-show="head && studentlst.length>0">
                                            <div class="form-group">
                                                <label class="control-label col-sm-4">Fee Head:<span style="color:red;">*</span></label>
                                                <div class="multiselect col-sm-10" style="margin-left: 4.2%;height:250px;">
                                                    <input type="checkbox" style="float:left;" data-ng-model="obj.allstdcheck" ng-click="allstudentcheck(obj);">
                                                    <span class="lbl padding-8">ALL HEAD</span>
                                                    <hr />
                                                    <input class="form-control" ng-model="searchchkbx1" type="text" placeholder="search here..." />

                                                    <ul class="padding-left-none">

                                                        <li ng-repeat="usr1 in fillmasterhead |filter:searchchkbx1" value="{{usr1.fmh_id}}">
                                                            <div class="col-sm-12">

                                                                <input type="checkbox" style="float:left;" name="selcolchbx1" data-ng-model="usr1.fmH_Ids">
                                                                <span class="lbl padding-8"> {{usr1.fmH_FeeName}}</span>
                                                            </div>
                                                        </li>
                                                    </ul>
                                                </div>
                                            </div>

                                        </div>

                                    </div>
                                </div>
                            </div>
                        </div>

                    </div>

                    <hr />
                    <div class="text-center">
                        <md-button type="button" class="md-raised md-primary" ng-click="showmodaldetail(obj)">
                            Show
                        </md-button>

                        <md-button type="button" class="md-raised md-warn" data-ng-click="Clearid()">
                            <i class="fa fa-times" aria-hidden="true"></i>
                            Clear
                        </md-button>
                        <md-button type="button" class="md-raised md-primary" ng-click="printToCart('printSectionId')" ng-show="print_flag">
                            <i class="fa fa-file-pdf-o" aria-hidden="true"></i>
                            Print
                        </md-button>
                    </div>

                </div>
            </div>
            <div ng-show="result">
                <div class="box box-primary">
                    <div class="box-body">
                        <div class="BArrearReport">

                            <div id="printrcp" style="margin:15px;">
                                <div class="col-sm-12" style="border:1px solid black;">
                                    <div class="baldwin text-center">
                                        <img src="{{imgname}}" class="img-responsive">
                                    </div>
                                    <div>
                                        <div class="col-sm-12 text-center"><h5>Fee IT Receipt</h5></div>
                                        <hr />
                                        <div class="row margin-bottom-5" style="margin:15px;">
                                            <div class="col-sm-5">
                                                <div class="form-group">
                                                    <label class="control-label col-sm-5">Date</label>
                                                    <div class="col-sm-7">
                                                        <label class="control-label">: {{Paid_Date}}</label>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-sm-7">
                                                <div class="form-group">
                                                    <label class="control-label col-sm-4">Adm No</label>
                                                    <div class="col-sm-8">
                                                        <label class="control-label">: {{AMST_AdmNo}} </label>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-sm-5">
                                                <div class="form-group">
                                                    <label class="control-label col-sm-5">Aca Year</label>
                                                    <div class="col-sm-7">
                                                        <label class="control-label">: {{asmaY_Year}}</label>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-sm-7">
                                                <div class="form-group">
                                                    <label class="control-label col-sm-4">Name</label>
                                                    <div class="col-sm-8">
                                                        <label class="control-label">: {{AMST_FirstName}}  &nbsp {{AMST_MiddleName}} &nbsp {{AMST_LastName}} </label>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-sm-5">
                                                <div class="form-group">
                                                    <label class="control-label col-sm-5">Class</label>
                                                    <div class="col-sm-7">
                                                        <label class="control-label">: {{ASMCL_ClassName}} &nbsp {{ASMC_SectionName}}</label>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-sm-7">
                                                <div class="form-group">
                                                    <label class="control-label col-sm-4">Father</label>
                                                    <div class="col-sm-8">
                                                        <label class="control-label">: {{AMST_FatherName}}</label>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-sm-5">
                                                <div class="form-group">
                                                    <label class="control-label col-sm-5">Type</label>
                                                    <div class="col-sm-7">
                                                        <label class="control-label">: {{FMCC_ConcessionName}} </label>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-sm-7">
                                                <div class="form-group">
                                                    <label class="control-label col-sm-4">Mother</label>
                                                    <div class="col-sm-8">
                                                        <label class="control-label">: {{AMST_MotherName}}</label>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-sm-5">
                                                <div class="form-group">
                                                    <label class="control-label col-sm-5">Period</label>
                                                    <div class="col-sm-7">
                                                        <label class="control-label">: {{period}} {{to_day |date:'yyyy'}}</label>
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="col-sm-7">
                                                <div class="form-group">
                                                    <label class="control-label col-sm-4">Receipt No</label>
                                                    <div class="col-sm-8">
                                                        <label class="control-label">: {{FYP_Receipt_No}}</label>
                                                    </div>
                                                </div>
                                            </div>

                                        </div>
                                        <table class="table table-hover table-responsive table-bordered text-center" id="modaltblr" style="margin:15px;max-width:95%;">
                                            <thead>
                                                <tr>
                                                    <th>
                                                        SLNO
                                                    </th>
                                                    <th>Head Name</th>
                                                    <th>Total Charges</th>
                                                    <th>Discount Amount</th>
                                                    <th>Paid Amount</th>

                                                </tr>
                                            </thead>
                                            <tbody>


                                                <tr ng-repeat="user in showdetailsreceipt">
                                                    <td>{{$index+1}}</td>
                                                    <td>{{ user.fmH_FeeName}}</td>
                                                    <!--<td>{{ user.fmA_Amount}}</td>-->
                                                    <td>{{user.totalcharges}}</td>
                                                    <td>{{ user.ftP_Concession_Amt}}
                                                    <td>{{ user.ftP_Paid_Amt}}</td>
                                                </tr>
                                                <tr>
                                                    <td></td>
                                                    <td><b>Total</b></td>
                                                    <td><b>{{totalpayable}}</b></td>
                                                    <td><b>{{totalconcession}}</b></td>
                                                    <td><b>{{totalpaid}}</b></td>
                                                </tr>
                                            </tbody>
                                        </table>

                                        <table class="table table-hover table-responsive table-bordered text-center table-width" id="modaltblr" ng-if="arrearamount.length>0">
                                            <thead>
                                                <tr>
                                                    <th>
                                                        SLNO
                                                    </th>
                                                    <th>Head Name</th>
                                                    <th>Total Charges</th>
                                                    <th>Discount Amount</th>
                                                    <th>Paid Amount</th>

                                                </tr>
                                            </thead>
                                            <tbody>

                                                <tr ng-repeat="user in arrearamount">
                                                    <td>{{$index+1}}</td>
                                                    <td>{{ user.fmH_FeeName}}</td>
                                                    <td>{{user.fsS_OBArrearAmount}}</td>
                                                    <td>{{ user.ftP_Concession_Amt}}
                                                    <td>{{ user.ftP_Paid_Amt}}</td>

                                                </tr>
                                            </tbody>
                                        </table>

                                        <div class="form-group" style="margin:15px;">
                                            <label class="control-label col-sm-4"><b>Amount Received (in Words)</b></label>
                                            <div class="col-sm-8">
                                                <label class="control-label">: {{words}} Only/-</label>
                                            </div>
                                        </div>
                                        <hr />
                                        <!--<div class="row">
                                    <div class="col-sm-12">
                                        <div class="form-group">
                                            <label class="control-label col-sm-2"><b>Note </b></label>
                                            <div class="col-sm-10">
                                                <label class="control-label">: This receipt is valid subject to realisation of Cheque </label>
                                            </div>
                                        </div>
                                    </div>
                                </div>-->
                                        <br />
                                        <div class="row">
                                            <div class="col-sm-offset-8 col-sm-4">
                                                <h5>Authorised Signatory</h5>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>


                        </div>
                    </div>
                </div>
            </div>
            <div id="test" ng-if="htmldata!=''">
            </div>
        </form>
    </section>
</div>
