<style>
    .error-messages.ng-active {
        color: red;
    }
</style>

<section class="content" data-ng-init="loaddata()">
    <form class="form-horizontal ng-pristine ng-valid" role="form" data-ng-submit="ShowReportdata()" name="myForm" novalidate>
        <div class="box box-primary">
            <div class="box-header with-border">
                <h3 class="box-title">Student Concession Report</h3>
                <div class="box-tools pull-right">
                    <button type="button" class="btn btn-box-tool" data-widget="collapse"><i class="fa fa-minus"></i></button>
                </div>
            </div>
            <div class="box-body" ng-show="IsHiddenup">

                <div class="row">
                    <div class="col-sm-10 col-sm-offset-1">
                        <div class="well">
                            <div class="text-center" ng-init="reporttype='Student'">
                                <label class="radio-inline">
                                    <input name="optradio" type="radio" data-ng-model="reporttype" ng-click="checkradio(reporttype)" value="Student" required>
                                    <span class="lbl padding-8">Student</span>
                                </label>
                                <label class="radio-inline">
                                    <input name="optradio" type="radio" data-ng-model="reporttype" ng-click="checkradio(reporttype)" value="Staff" required>
                                    <span class="lbl padding-8">Staff</span>
                                </label>
                                <!--<label class="radio-inline">
                        <input name="optradio" type="radio" data-ng-model="reporttype" value="radio" required>
                        <span class="lbl padding-8">Others</span>
                    </label>-->
                            </div>
                            <div class="error-messages" ng-if="interacted(myForm.optradio)" ng-messages="myForm.optradio.$error">
                                <div ng-message="required">Select any one of the radio button</div>
                            </div>
                        </div>
                    </div>
                </div>


                <div class="row">
                    <div class="col-sm-6">
                        <div class="well text-center">
                            <label class="radio-inline">
                                <input type="radio" value="allr" data-ng-model="Selectionrd" data-ng-click="onclickloaddata()" name="All" required />
                                <span class="lbl padding-8">All</span>
                            </label>
                            <label class="radio-inline">
                                <input type="radio" value="Indi" data-ng-model="Selectionrd" data-ng-click="onclickloaddata()" name="All" required />
                                <span class="lbl padding-8">Individual</span>
                            </label>
                            <label class="radio-inline">
                                <input type="radio" value="con" data-ng-model="Selectionrd" data-ng-click="onclickloaddata()" name="All" required />
                                <span class="lbl padding-8">Consolidated</span>
                            </label>
                            <label class="radio-inline" ng-show="reporttype=='Student'">
                                <input type="radio" value="HeadWise" data-ng-model="Selectionrd" data-ng-click="onclickloaddata()" name="All" required />
                                <span class="lbl padding-8">Head Wise</span>
                            </label>
                            <div class="error-messages" ng-if="interacted(myForm.All)" ng-messages="myForm.All.$error">
                                <div ng-message="required" style="margin-left:20px;">Please Select One</div>
                            </div>
                        </div>
                    </div>
                    <div class="col-sm-6" ng-show="reporttype=='Student'">
                        <div class="form-group">
                            <label class="control-label col-sm-4">Concession Type:<span style="color:red;">*</span></label>
                            <div class="col-sm-8">
                                <select class="form-control" id="seluse" data-ng-model="fmcC_Id" ng-required="reporttype=='Student'">
                                    <option value="" label="Select Concession"> </option>
                                    <option ng-repeat="option in concategory" value="{{option.fmcC_Id}}" ng-selected="{{option.Selected == true}}">
                                        {{option.fmcC_ConcessionName}}
                                    </option>
                                    <option value="0">All</option>
                                </select>
                            </div>
                        </div>
                        <div class="error-messages" ng-if="interacted(myForm.acd_year)" ng-messages="myForm.acd_year.$error">
                            <div ng-message="required" style="margin-left:195px;">Please Select the Concession Type</div>
                        </div>
                    </div>

                </div>
                <div class="row">
                    <div class="col-sm-6">
                        <div class="form-group">
                            <label class="control-label col-sm-4">Academic Year:<span style="color:red;">*</span></label>
                            <div class="col-sm-8">
                                <select class="form-control" id="seluse" data-ng-model="academicyr" ng-disabled="acyeardisable" ng-change="onselectyear()" name="acd_year" required>
                                    <option value="" label="Select Year"> </option>
                                    <option ng-repeat="option in acayyearbind" value="{{option.asmaY_Id}}" ng-selected="{{option.Selected == true}}">
                                        {{option.asmaY_Year}}
                                    </option>
                                </select>
                            </div>
                            <div class="error-messages" ng-if="interacted(myForm.acd_year)" ng-messages="myForm.acd_year.$error">
                                <div ng-message="required" style="margin-left:195px;">Please Select the Academic Year</div>
                            </div>
                        </div>


                    </div>
                    <div ng-show="rndindCLSS && reporttype=='Student'">
                        <div class="col-sm-6">
                            <div class="form-group">
                                <div>
                                    <label class="control-label col-sm-2">Class:<span style="color:red;">*</span></label>
                                    <div class="col-sm-4">
                                        <select class="form-control" id="seluse" data-ng-model="clsdrp" name="Stu_Class" ng-required="rndindCLSS  && reporttype=='Student'">
                                            <option value="" label="Select class"> </option>
                                            <option ng-repeat="option11 in clsdrpdown" value="{{option11.asmcL_Id}}" ng-selected="{{option11.Selected == true}}">
                                                {{option11.asmcL_ClassName}}
                                            </option>
                                        </select>
                                    </div>
                                    <div class="error-messages" ng-if="interacted(myForm.Stu_Class)" ng-messages="myForm.Stu_Class.$error">
                                        <div ng-message="required" style="margin-left:195px;">Please Select the Class</div>
                                    </div>
                                </div>

                                <div>
                                    <label class="control-label col-sm-2">Section:<span style="color:red;">*</span></label>
                                    <div class="col-sm-4">
                                        <select class="form-control" id="seluse" data-ng-model="sectiondrp" name="Stu_Section" ng-required="rndindCLSS  && reporttype=='Student'">
                                            <option value="" label="Select section"> </option>
                                            <option ng-repeat="option1 in sectiondrpre" value="{{option1.asmS_Id}}" ng-selected="{{option1.Selected == true}}">
                                                {{option1.asmC_SectionName}}
                                            </option>
                                            <option value="0">All</option>
                                        </select>
                                    </div>
                                    <div class="error-messages" ng-if="interacted(myForm.Stu_Section)" ng-messages="myForm.Stu_Section.$error">
                                        <div ng-message="required" style="margin-left:195px;">Please Select the Section</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div ng-show="groupterm">
                        <div class="col-sm-4">
                            <div class="form-group">
                                <div class="col-sm-12">


                                    <label class="control-label">
                                        <label class="padding-left-10">
                                            <span class="lbl padding-8">Custom Group</span>
                                        </label>
                                        <strong style="color:red;display:inline; font-weight: bolder; margin-left: 7px;">*</strong><!--ng-hide="custom_check_flag"-->
                                    </label>
                                    <div class="multiselect">
                                        <label ng-repeat="role in custom" ng-model="fmgG_Id" value="{{role.fmgG_Id}}" ng-click="get_groups()">
                                            <input type="checkbox" data-ng-model="role.fmgG_Id_chk1" name="fee_ct1" ng-selected="{{option.Selected == true}}" ng-required="groupterm && is_optionrequired_groupterm_cg()"><!--ng-disabled="custom_check_flag"-->
                                            <span class="lbl padding-8">
                                                {{role.fmg_groupname}}
                                            </span>
                                        </label>
                                    </div>
                                    <div class="error-messages" ng-if="interacted(myForm.fee_ct1)" ng-messages="myForm.fee_ct1.$error">
                                        <div ng-message="required">Select Atleast one Checkbox</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-sm-4">
                            <div class="form-group">

                                <label class="control-label">
                                    <label class="padding-left-10">
                                        Fee Group :
                                    </label>
                                    <strong style="color:red;display:inline; font-weight: bolder; margin-left: 7px;">*</strong>
                                </label>
                                <div class="multiselect col-sm-12">
                                    <label ng-repeat="role in group" ng-model="fmG_Id" value="{{role.fmG_Id}}" ng-click="binddatagrp3(group)">
                                        <input type="checkbox" data-ng-model="role.fmG_Id_chk1" name="fee_gp1" ng-selected="{{option.Selected == true}}" ng-required="groupterm && is_optionrequired_groupterm_grp()"><!--ng-disabled="group_check_flag"-->
                                        <span class="lbl padding-8">
                                            {{role.fmG_GroupName}}
                                        </span>
                                    </label>
                                </div>
                                <div class="error-messages" ng-if="interacted(myForm.fee_gp1)" ng-messages="myForm.fee_gp1.$error">
                                    <div ng-message="required">Select Atleast one Checkbox</div>
                                </div>

                                <input type="checkbox" name="All" ng-model="group_check" ng-true-value="1" ng-false-value="0" data-ng-click="load_group_check()" />
                            </div>
                        </div>
                    </div>

                </div>
                <div class="row" ng-show="term">
                    <div class="col-sm-4">
                        <div class="form-group">
                            <div class="col-sm-12">
                                <label class="control-label">
                                    <label class="padding-left-10">
                                        Custom Group :
                                    </label>
                                    <strong style="color:red;display:inline; font-weight: bolder; margin-left: 7px;">*</strong>
                                </label>
                                <div class="multiselect col-sm-12">
                                    <label>
                                        <input name="all" value="1" ng-model="allcustom" type="checkbox" ng-click="all_checktype()">
                                        <span class="lbl padding-8">
                                            <b> All</b>
                                        </span>
                                    </label>
                                    <label ng-repeat="role in custom" ng-model="fmgG_Id">
                                        <!--ng-click="binddatagrp1(custom)"-->
                                        <input type="checkbox" data-ng-model="role.fmgG_Id_chk" name="fee_ct" ng-required="term && is_optionrequired_trm_cg()">
                                        <span class="lbl padding-8">
                                            {{role.fmg_groupname}}
                                        </span>
                                    </label>

                                </div>
                                <div class="error-messages" ng-if="interacted(myForm.fee_ct)" ng-messages="myForm.fee_ct.$error">
                                    <div ng-message="required">Select Atleast one Checkbox</div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-sm-4">
                        <div class="form-group">
                            <div class="col-sm-12">
                                <label class="control-label">
                                    <label class="padding-left-10">Fee Group : </label> <strong style="color:red;display:inline; font-weight: bolder; margin-left: 7px;">*</strong>
                                </label>
                                <div class="multiselect">
                                    <label>
                                        <input name="all" value="1" ng-model="allgroup" type="checkbox" ng-click="all_checkgroup()">
                                        <span class="lbl padding-8">
                                            <b> All</b>
                                        </span>
                                    </label>
                                    <label ng-repeat="role in group" ng-model="fmG_Id" value="{{role.fmG_Id}}" ng-click="binddatagrp3(group)">
                                        <input type="checkbox" data-ng-model="role.fmG_Id_chk" name="fee_gp" ng-required="term && is_optionrequired_trm_grp()">
                                        <span class="lbl padding-8">
                                            {{role.fmG_GroupName}}
                                        </span>
                                    </label>
                                </div>
                                <div class="error-messages" ng-if="interacted(myForm.fee_gp)" ng-messages="myForm.fee_gp.$error">
                                    <div ng-message="required">Select Atleast one Checkbox</div>
                                </div>
                            </div>
                            <input type="checkbox" name="All" ng-model="group_check" ng-true-value="1" ng-false-value="0" data-ng-click="load_group_check()" />
                        </div>
                    </div>
                    <div class="col-sm-4">
                        <div class="form-group">

                            <div class="">
                                <label class="control-label">Term Name<strong style="color:red;display:inline; font-weight : bolder; margin-left: 7px;">*</strong></label>
                                <div class="multiselect col-sm-12">
                                    <label>
                                        <input name="all" value="1" ng-model="allterm" type="checkbox" ng-click="all_checkterm()">
                                        <span class="lbl padding-8">
                                            <b> All</b>
                                        </span>
                                    </label>
                                    <label ng-repeat="role in groupcount" ng-model="fmT_Id" value="{{role.fmT_Id}}" ng-click="binddatagrp2(groupcount)">
                                        <input type="checkbox" data-ng-model="role.fmT_Id_chk" name="fee_tr" ng-required="term && is_optionrequired_trm_trm()">
                                        <span class="lbl padding-8">
                                            {{role.fmT_Name}}
                                        </span>
                                    </label>
                                </div>
                                <div class="error-messages" ng-if="interacted(myForm.fee_tr)" ng-messages="myForm.fee_tr.$error">
                                    <div ng-message="required">Select Atleast one Checkbox</div>
                                </div>
                            </div>
                        </div>

                    </div>
                </div>
                <div class="row">
                    <label class="checkbox-inline">
                        <input type="checkbox" value="Format" ng-model="Format_I">
                        <span class="lbl padding-4">Format-I</span>
                    </label>
                </div>
                <hr />
                <div class="">
                    <div class="text-center">
                        <md-button type="submit" class="md-raised md-primary" ng-disabled="form.$invalid" id="save-btn" ng-click="ShowReportdata()">
                            <i class="fa fa-print" aria-hidden="true"></i>
                            Report
                        </md-button>
                        <md-button type="button" class="md-raised md-warn" id="clear-btn" ng-click="clear_feeconss()">
                            <i class="fa fa-times" aria-hidden="true"></i>Cancel
                        </md-button>
                        <md-button type="submit" class="md-raised md-primary" ng-click="exportToExcel('#table1','#table4')" target="_blank" ng-show="export_flag">
                            <i class="fa fa-file-excel-o" aria-hidden="true"></i>
                            Export to Excel
                        </md-button>
                        <md-button type="submit" class="md-raised md-warn" ng-click="printData(printSectionId);" ng-show="print_flag">
                            <i class="fa fa-print" aria-hidden="true"></i>
                            Print
                        </md-button>
                    </div>
                </div>
            </div>
        </div>

        <div class="box box-primary" ng-show="Grid_view">
            <div class="box-header with-border">
                <h3 class="box-title">Report Grid View</h3>
                <div class="box-tools pull-right">
                    <button type="button" class="btn btn-box-tool" data-widget="collapse" data-placement="bottom" data-toggle="tooltip" title="collapsible"><i class="fa fa-minus"></i></button>
                </div>
            </div>
            <!-- /.box-header -->
            <div class="box-body" ng-show="IsHiddendown">
                <div class="col-sm-4">
                    <div class="form-group">
                        <label class="control-label">
                            <b> Total Grid Records :</b>
                            <label class="badge">
                                {{totcountfirst}}
                            </label>
                        </label>
                    </div>
                </div>
                <div class="col-sm-4">
                    <div class="form-group" ng-if="searchString!=''">
                        <label class="control-label">
                            <b>Total Records Searched : </b>
                            <label class="badge">
                                {{students1.length}}
                            </label>
                        </label>
                    </div>
                </div>
                <div class="col-sm-offset-2 pull-right">
                    <div class="form-group">
                        <div class="input-group">
                            <input class="form-control" ng-model="searchString" type="text" placeholder="search here..." ng-show="file_disable">

                        </div>
                    </div>
                </div>

                <table class="table table-hover table-responsive table-bordered text-center" id="table1" ng-show="rndindALLGrid">
                    <thead style="border:solid 1px; border-color:#fff;">

                        <tr>
                            <th class="hdTH">
                                <label>
                                    <input type="checkbox" value="" ng-model="all" ng-click="toggleAll()">
                                    <span class="lbl padding-8"></span>
                                </label>
                            </th>
                            <th>
                                <a href="" ng-click="order('sno')">SLNO</a>
                            </th>
                            <th><a href="" ng-click="sort('StudentName')">Student Name</a> </th>
                            <th><a href="" ng-click="sort('Admno')">Adm.No</a> </th>
                            <th>
                                <a href="" ng-click="sort('Class')">Class & Section </a>
                            </th>
                            <th><a href="" ng-click="sort('FeeGroup')">FeeGroup</a> </th>
                            <th><a href="" ng-click="sort('FeeHead')">FeeHead</a> </th>
                            <th><a href="" ng-click="sort('Concession')">Reason</a> </th>
                            <th><a href="" ng-click="sort('Netamount')">Net Amount</a> </th>
                            <th><a href="" ng-click="sort('Concession')">Concession Amount</a> </th>
                            <th><a href="" ng-click="sort('Balance')">Balance Amount</a> </th>


                        </tr>
                        <!--<tr>
                    <th><a href="" ng-click="order('Reason')"> Reason</a></th>
                    <th><a href="" ng-click="order('Concession')"> Amount</a></th>
                </tr>-->
                    </thead>
                    <tbody>
                        <tr ng-repeat="user in students1=(students |filter:searchString)  | orderBy:propertyName:reverse | filter:search |orderBy:sortKey:reverse">


                            <td class="text-center  hdTD">
                                <label>
                                    <input type="checkbox" ng-model="user.selected" ng-change="optionToggled(user,$index)">
                                    <span class="lbl padding-8"></span>
                                </label>
                            </td>
                            <td>{{$index+1}}</td>
                            <td>{{ user.StudentName}}</td>
                            <td>{{ user.Admno}}</td>
                            <td>{{user.Class}}-{{user.Section}}</td>
                            <td>{{ user.FeeGroup}}</td>
                            <td>{{ user.FeeHead}}</td>
                            <td>{{ user.FSC_ConcessionReason}}</td>
                            <td>{{ user.Netamount}}</td>
                            <td>{{ user.Concession}}</td>
                             <td>{{ user.Balance}}</td>

                        </tr>
                        <tr>
                            <td colspan="8"><b>Total:</b></td>
                            <td><b>{{totA_p}}</b></td>
                            <td><b>{{totB_p}}</b></td>
                            <td><b>{{totBal_p}}</b></td>
                        </tr>
                    </tbody>
                </table>


                <table class="table table-hover table-responsive table-bordered text-center" id="Table" ng-show="rndindIndivisual && Format_I==false">
                    <thead style="border:solid 1px; border-color:#fff;">

                        <tr>
                            <th class="hdTH">
                                <label>
                                    <input type="checkbox" value="" ng-model="ind" ng-click="toggleAllind()">
                                    <span class="lbl padding-8"></span>
                                </label>
                            </th>
                            <th>
                                <a href="" ng-click="order('sno')">SLNO</a>
                            </th>
                            <th><a href="" ng-click="sort('StudentName')">Student Name</a> </th>
                            <th><a href="" ng-click="sort('Admno')">Adm.No</a> </th>
                            <th>
                                <a href="" ng-click="sort('Class')">Class & Section </a>
                            </th>
                            <th><a href="" ng-click="sort('FeeGroup')">FeeGroup</a> </th>
                            <th><a href="" ng-click="sort('FeeHead')">FeeHead</a> </th>
                            <th><a href="" ng-click="sort('Concession')">Reason</a> </th>
                            <th><a href="" ng-click="sort('Netamount')">Net Amount</a> </th>
                            <th><a href="" ng-click="sort('Concession')">Concession Amount</a> </th>
                            <th><a href="" ng-click="sort('Balance')">Balance Amount</a> </th>


                        </tr>
                        <!--<tr>
                    <th><a href="" ng-click="order('Reason')"> Reason</a></th>
                    <th><a href="" ng-click="order('Concession')"> Amount</a></th>
                </tr>-->
                    </thead>
                    <tbody>

                        <tr ng-repeat="user in students1=(students |filter:searchString)  | orderBy:propertyName:reverse | filter:search |orderBy:sortKey:reverse">

                            <td class="text-center  hdTD">
                                <label>
                                    <input type="checkbox" ng-model="user.selected" ng-change="optionToggind(user,$index)">
                                    <span class="lbl padding-8"></span>
                                </label>
                            </td>
                            <td>{{$index+1}}</td>
                            <td>{{ user.StudentName}}</td>
                            <td>{{ user.Admno}}</td>
                            <td>{{user.Class}}-{{user.Section}}</td>
                            <td>{{ user.FeeGroup}}</td>
                            <td>{{ user.FeeHead}}</td>
                            <td>{{ user.FSC_ConcessionReason}}</td>
                            <td>{{ user.Netamount}}</td>
                            <td>{{ user.Concession}}</td>
                             <td>{{ user.Balance}}</td>
                        </tr>
                        <tr>
                            <td colspan="8"><b>Total:</b></td>
                            <td><b>{{totA_p}}</b></td>
                            <td><b>{{totB_p}}</b></td>
                            <td><b>{{totBal_p}}</b></td>
                        </tr>
                    </tbody>
                </table>

                <!--//123456-->
                <table class="table table-hover table-responsive table-bordered text-center" id="Table" ng-show="rndindIndivisual && Format_I==true">
                    <thead>
                        <tr>
                            <th class="hdTH">
                                <label>
                                    <input type="checkbox" value="" ng-model="indDDD" ng-click="toggleAllindDDD()">
                                    <span class="lbl padding-8"></span>
                                </label>
                            </th>
                            <th>
                                <a href="" ng-click="order('sno')">SLNO</a>
                            </th>
                            <th><a href="" ng-click="sort('StudentName')">Student Name</a> </th>
                            <th><a href="" ng-click="sort('Admno')">Adm.No</a> </th>
                            <th>
                                <a href="" ng-click="sort('Class')">Class  </a>
                            </th>
                            <th>
                                <a href="" ng-click="sort('Section')"> Section </a>
                            </th>
                            <th>
                                Fee Details
                            </th>
                            <th>
                                Total Net Amount
                            </th>
                            <th>
                                Total Concession Amount
                            </th>


                        </tr>
                    </thead>
                    <tbody ng-repeat="user in employeeid | filter : search">
                        <tr>
                            <td class="text-center  hdTD" rowspan="{{user.studentdetailstwo.length+1}}">
                                <label>
                                    <input type="checkbox" ng-model="user.selected" ng-change="optionToggindDDD(user,$index)">
                                    <span class="lbl padding-8"></span>
                                </label>
                            </td>
                            <td class="text-center" rowspan="{{user.studentdetailstwo.length+1}}">{{$index+1}}</td>
                            <td class="text-left" rowspan="{{user.studentdetailstwo.length+1}}">{{user.StudentName}}</td>
                            <td class="text-left" rowspan="{{user.studentdetailstwo.length+1}}">{{user.Admno}}</td>
                            <td class="text-left" rowspan="{{user.studentdetailstwo.length+1}}">
                                {{user.Class}}

                            </td>
                            <td class="text-left" rowspan="{{user.studentdetailstwo.length+1}}">

                                {{user.Section}}
                            </td>
                            <td>
                                <table class="table table-bordered">
                                    <thead style="background:none;">
                                        <tr>
                                            <th><a href="" ng-click="sort('FeeGroup')" style="color:#3a3636e6 !important">FeeGroup</a> </th>
                                            <th><a href="" ng-click="sort('FeeHead')" style="color:#3a3636e6 !important">FeeHead</a> </th>
                                            <th><a href="" ng-click="sort('Concession')" style="color:#3a3636e6 !important">Reason</a> </th>
                                            <th><a href="" ng-click="sort('Netamount')" style="color:#3a3636e6 !important">Net Amount</a> </th>
                                            <th><a href="" ng-click="sort('Concession')" style="color:#3a3636e6 !important">Concession Amount</a> </th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr ng-repeat="usertwo in (user.studentdetailstwo)">
                                            <td class="text-left">{{usertwo.FeeGroup}}</td>
                                            <td class="text-left">{{usertwo.FeeHead}}</td>
                                            <td class="text-left">{{usertwo.FSC_ConcessionReason}}</td>
                                            <td class="text-left">{{usertwo.Netamount}}</td>
                                            <td class="text-left">{{usertwo.Concession}}</td>

                                        </tr>
                                    </tbody>

                                </table>
                            </td>
                            <td>
                                {{user.totalnetc}}
                            </td>
                            <td>
                                {{user.totalbalncr}}
                            </td>

                        </tr>

                    </tbody>
                    <tr>
                        <td colspan="7"><b>Total:</b></td>
                        <td><b>{{totA_p}}</b></td>
                        <td><b>{{totB_p}}</b></td>
                    </tr>
                </table>

                <!--//123456-->
                <table class="table table-hover table-responsive table-bordered text-center" id="table3" ng-show="rndindconsol">
                    <thead style="border:solid 1px; border-color:#fff;">
                        <tr>
                            <th class="hdTH">
                                <label>
                                    <input type="checkbox" value="" ng-model="cons" ng-click="toggleAllcon()">
                                    <span class="lbl padding-8"></span>
                                </label>
                            </th>
                            <th>
                                <a href="" ng-click="order('sno')">SLNO</a>
                            </th>
                            <th><a href="" ng-click="sort('StudentName')">Student Name</a> </th>
                            <th><a href="" ng-click="sort('Admno')">Adm.No</a> </th>
                            <th>
                                <a href="" ng-click="sort('Class')">Class & Section </a>
                            </th>
                            <th><a href="" ng-click="sort('Concession')">Concession</a> </th>
                            <th><a href="" ng-click="sort('Netamount')">Net Amount</a> </th>
                            <th><a href="" ng-click="sort('paid')">Paid</a> </th>
                            <th><a href="" ng-click="sort('Concession')">Concession Amount</a> </th>
                            <th><a href="" ng-click="sort('Balance')">Balance Amount</a> </th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr ng-repeat="user in students1=(students |filter:searchString)  | orderBy:propertyName:reverse | filter:search |orderBy:sortKey:reverse">
                            <td class="text-center  hdTD">
                                <label>
                                    <input type="checkbox" ng-model="user.selected" ng-change="optionToggcon(user,$index)">
                                    <span class="lbl padding-8"></span>
                                </label>
                            </td>
                            <td>{{$index+1}}</td>
                            <td>{{ user.StudentName}}</td>
                            <td>{{ user.Admno}}</td>
                            <td>{{user.Class}}-{{user.Section}}</td>
                            <td>{{ user.FMCC_ConcessionName}}</td>
                            <td>{{ user.Netamount}}</td>
                            <td>{{ user.Paid}}</td>
                            <td>{{ user.Concession}}</td>
                          <td>{{ user.Balance}}</td>
                        </tr>
                        <tr>
                            <td colspan="6"><b>Total:</b></td>
                            <td><b>{{totA_p}}</b></td>
                            <td><b>{{totC_p}}</b></td>
                            <td><b>{{totB_p}}</b></td>
                            <td><b>{{totBal_p}}</b></td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <div id="printSectionId" ng-show="export_table_flag">
                <div class="baldwin text-center">
                    <img src="{{imgname}}" class="img-responsive" alt="baldwin">
                </div>
                <center> <h4><u> FEE STUDENT CONCESSION REPORT </u></h4></center>
                <table class="table table-hover table-responsive table-bordered text-center" id="table1">
                    <thead>
                        <tr>
                            <th>SL.NO</th>
                            <th>Student Name</th>
                            <th>Adm.No</th>
                            <th>Class & Section</th>
                            <th>FeeGroup</th>
                            <th>FeeHead </th>
                            <th>Reason</th>
                            <th>Net Amount</th>
                            <th>Concession</th>
                            <th>Balance</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr ng-repeat="user in printdatatable | orderBy:propertyName:reverse" ng-class-odd="'odd'">
                            <td>{{$index+1}}</td>
                            <td>{{ user.StudentName}}</td>
                            <td>{{ user.Admno}}</td>
                            <td>{{user.Class}}-{{user.Section}}</td>
                            <td>{{ user.FeeGroup}}</td>
                            <td>{{ user.FeeHead}}</td>
                            <td>{{ user.FSC_ConcessionReason}}</td>
                            <td>{{ user.Netamount}}</td>
                            <td>{{ user.Concession}}</td>
                            <td>{{user.Balance}}</td>
                        </tr>
                        <tr>
                            <td colspan="7"><b>Total:</b></td>
                            <td><b>{{totA_p}}</b></td>
                            <td><b>{{totB_p}}</b></td>
                            <td><b>{{totBal_p}}</b></td>
                        </tr>


                    </tbody>
                    <tfoot>
                        <tr>
                            <td colspan="16" class="col-sm-12 text-center ">
                                <label>
                                    Date:{{ddate|date:'dd/MM/yyyy'}} UserName: {{usrname}}  {{coptyright}}
                                </label>
                            </td>
                        </tr>

                    </tfoot>
                </table>



            </div>

            <!--//123456-->
            <div id="printSectionIdDDDD" ng-show="export_table_flag" style="display
    :none;">
                <div class="baldwin text-center">
                    <img src="{{imgname}}" class="img-responsive" alt="baldwin">
                </div>
                <center> <h4><u> FEE STUDENT CONCESSION REPORT </u></h4></center>
                <table class="table table-hover table-responsive table-bordered text-center" id="Table">

                    <thead>
                        <tr>
                           
                            <th>
                                SLNO
                            </th>
                            <th>Student Name </th>
                            <th>Adm.No </th>
                            <th>
                                Class
                            </th>
                            <th>
                                Section
                            </th>
                            <th>

                                Fee Details
                            </th>
                            <th>
                                Total Net Amount
                            </th>
                            <th>
                                Total Concession Amount
                            </th>


                        </tr>
                    </thead>
                    <tbody ng-repeat="user in printdatatable">
                        <tr>
                          
                            <td class="text-center" rowspan="{{user.studentdetailstwo.length+1}}">{{$index+1}}</td>
                            <td class="text-left" rowspan="{{user.studentdetailstwo.length+1}}">{{user.StudentName}}</td>
                            <td class="text-left" rowspan="{{user.studentdetailstwo.length+1}}">{{user.Admno}}</td>
                            <td class="text-left" rowspan="{{user.studentdetailstwo.length+1}}">
                                {{user.Class}}

                            </td>
                            <td class="text-left" rowspan="{{user.studentdetailstwo.length+1}}">

                                {{user.Section}}
                            </td>
                            <td>
                                <table class="table table-bordered">
                                    <thead style="background:none;">
                                        <tr>
                                            <th>FeeGroup</th>
                                            <th>FeeHead </th>
                                            <th>Reason </th>
                                            <th>Net Amount </th>
                                            <th>Concession Amount</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr ng-repeat="usertwo in (user.studentdetailstwo)">
                                            <td class="text-left">{{usertwo.FeeGroup}}</td>
                                            <td class="text-left">{{usertwo.FeeHead}}</td>
                                            <td class="text-left">{{usertwo.FSC_ConcessionReason}}</td>
                                            <td class="text-left">{{usertwo.Netamount}}</td>
                                            <td class="text-left">{{usertwo.Concession}}</td>

                                        </tr>
                                    </tbody>

                                </table>
                            </td>
                            <td>
                                {{user.totalnetc}}
                            </td>
                            <td>
                                {{user.totalbalncr}}
                            </td>

                        </tr>

                    </tbody>
                    <tr>
                        <td colspan="6"><b>Total:</b></td>
                        <td><b>{{totA_p}}</b></td>
                        <td><b>{{totB_p}}</b></td>
                    </tr>
                    <tfoot>
                        <tr>
                            <td colspan="16" class="col-sm-12 text-center ">
                                <label>
                                    Date:{{ddate|date:'dd/MM/yyyy'}} UserName: {{usrname}}  {{coptyright}}
                                </label>
                            </td>
                        </tr>

                    </tfoot>
                </table>
            </div>
              
                <!--//123456-->

                <div id="printSectioncon" ng-show="export_table_flag">
                    <div class="baldwin text-center">
                        <img src="{{imgname}}" class="img-responsive" alt="baldwin">
                    </div>
                    <center> <h4><u> FEE STUDENT CONCESSION REPORT </u></h4></center>

                    <table class="table table-hover table-responsive table-bordered text-center" id="table3">
                        <thead>
                            <tr>

                                <th>SL.NO</th>
                                <th>Student Name</th>
                                <th>Adm.No</th>
                                <th>Class & Section</th>
                                <th>Concession Type</th>
                                <th>Net Amount</th>
                                <th>Paid</th>
                                <th>Concession</th>
                                <th>Balance</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr ng-repeat="user in printdatatable | orderBy:propertyName:reverse" ng-class-odd="'odd'">
                                <td>{{$index+1}}</td>
                                <td>{{ user.StudentName}}</td>
                                <td>{{ user.Admno}}</td>
                                <td>{{user.Class}}-{{user.Section}}</td>
                                <td>{{ user.FMCC_ConcessionName}}</td>
                                <td>{{ user.Netamount}}</td>
                                <td>{{ user.Paid}}</td>
                                <td>{{ user.Concession}}</td>
                                <td>{{user.Balance}}</td>
                            </tr>
                            <tr>
                                <td colspan="5"><b>Total:</b></td>
                                <td><b>{{totA_p}}</b></td>
                                <td><b>{{totC_p}}</b></td>
                                <td><b>{{totB_p}}</b></td>
                                <td><b>{{totBal_p}}</b></td>
                            </tr>


                        </tbody>
                        <tfoot>
                            <tr>
                                <td colspan="16" class="col-sm-12 text-center ">
                                    <label>
                                        Date:{{ddate|date:'dd/MM/yyyy'}} UserName: {{usrname}}  {{coptyright}}
                                    </label>
                                </td>
                            </tr>

                        </tfoot>
                    </table>



                </div>



                <div id="printSectionIdstf" ng-show="export_table_flag_staff">

                    <div class="baldwin text-center">
                        <img src="{{imgname}}" class="img-responsive" alt="baldwin">
                    </div>
                    <center> <h4><u> FEE STAFF CONCESSION REPORT </u></h4></center>
                    <table ng-show="tadprint" class="table table-hover table-responsive table-bordered text-center" id="table2">
                        <thead>
                            <tr>

                                <th>SL.NO</th>
                                <th>Staff Name</th>
                                <th>Employee Code</th>
                                <th>FeeGroup</th>
                                <th>FeeHead </th>
                                <th>Reason</th>
                                <th>Net Amount</th>
                                <th>Concession</th>

                            </tr>

                        </thead>
                        <tbody>
                            <tr ng-repeat="user in printdatatable | orderBy:propertyName:reverse" ng-class-odd="'odd'">
                                <td>{{$index+1}}</td>
                                <td>{{ user.StudentName}}</td>
                                <td>{{ user.Admno}}</td>
                                <td>{{ user.FeeGroup}}</td>
                                <td>{{ user.FeeHead}}</td>
                                <td>{{ user.FSC_ConcessionReason}}</td>
                                <td>{{ user.Netamount}}</td>
                                <td>{{ user.Concession}}</td>

                            </tr>
                            <tr>
                                <td colspan="6"><b>Total:</b></td>
                                <td><b>{{totA_p}}</b></td>
                                <td><b>{{totB_p}}</b></td>
                            </tr>


                        </tbody>
                        <tfoot>
                            <tr>
                                <td colspan="16" class="col-sm-12 text-center ">
                                    <label>
                                        Date:{{ddate|date:'dd/MM/yyyy'}} UserName: {{usrname}}  {{coptyright}}
                                    </label>
                                </td>
                            </tr>

                        </tfoot>
                    </table>
                </div>
            </div>

       
            <div class="box box-primary" ng-show="HeadWisereport">
                <div class="box-header with-border">
                    <h3 class="box-title">Report Grid View</h3>
                    <div class="box-tools pull-right">
                        <button type="button" class="btn btn-box-tool" data-widget="collapse" data-placement="bottom" data-toggle="tooltip" title="collapsible"><i class="fa fa-minus"></i></button>
                    </div>
                </div>

                <div class="box-body" style="overflow:scroll">
                    <div class="col-sm-4">
                        <div class="form-group">
                            <label class="control-label">
                                <b> Total Grid Records :</b>
                                <label class="badge">
                                    {{reportdatelist.length}}
                                </label>
                            </label>
                        </div>
                    </div>


                    <table class="table">
                        <thead>
                            <tr>
                                <th data-ng-repeat="obj in header_listnew">
                                    {{obj.colmn}}
                                </th>


                            </tr>
                        </thead>
                        <tbody>

                            <tr ng-repeat="col in reportdatelist">
                                <td ng-repeat="col1 in header_listnew">
                                    {{col[col1.colmn]}}


                                </td>
                            </tr>

                        </tbody>
                    </table>
                </div>



                <div id="printSectionId1" ng-show="false">

                    <div class="baldwin text-center">
                        <img src="{{imgname}}" class="img-responsive" alt="baldwin">
                    </div>
                    <center> <h4><u> FEE STUDENT HEAD WISE CONCESSION REPORT </u></h4></center>
                    <table class="table table-hover table-responsive table-bordered text-center" id="table4">
                        <thead>
                            <tr>
                                <th data-ng-repeat="obj in header_listnew">
                                    {{ obj.colmn }}
                                </th>


                            </tr>
                        </thead>
                        <tbody>

                            <tr ng-repeat="col in reportdatelist">
                                <td ng-repeat="col1 in header_listnew">
                                    {{col[col1.colmn]}}
                                </td>
                            </tr>

                        </tbody>

                        <tfoot>
                            <tr>
                                <td colspan="16" class="col-sm-12 text-center ">
                                    <label>
                                        Date:{{ddate|date:'dd/MM/yyyy'}} UserName: {{usrname}}  {{coptyright}}
                                    </label>
                                </td>
                            </tr>
                        </tfoot>
                    </table>
                </div>
            </div>
</form>
</section>

