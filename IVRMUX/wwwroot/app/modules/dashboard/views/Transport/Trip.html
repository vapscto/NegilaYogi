
<section class="content">
    <div class="box box-primary" ng-init="loaddata1()">
        <div class="box-header with-border">
            <h3 class="box-title">Trip</h3>
            <div class="box-tools pull-right">
                <button type="button" class="btn btn-box-tool" data-widget="collapse"><i class="fa fa-minus"></i></button>
            </div>
        </div>

        <div class="box-body">
            <md-content>
                <md-tabs md-dynamic-height md-border-bottom md-selected="myTabIndex">
                    <!--Trip-->
                    <md-tab label="Trip">
                        <form class="form-horizontal" role="form" name="myForm" novalidate>
                            <md-content class="md-padding">
                                <div class="row" style="margin-left:25%">
                                    <div class="col-sm-6 pull-left">
                                        <div class="form-group searchbox">
                                            <label class="control-label col-sm-6">Search By Booking Id:</label>
                                            <div class="input-group">
                                                <select class="form-control" name="bookid" ng-model="TRTOB_BookingId1" required ng-change="bookidchange();">
                                                    <option value="">--Select--</option>
                                                    <option ng-repeat="val in bookingIdDrpDwn" value="{{val.trtoB_BookingId}}">{{val.trtoB_BookingId}}</option>
                                                    </select>
                                                <div class="error-messages" ng-if="interacted(myForm.bookid)" ng-messages="myForm.bookid.$error">
                                                    <div ng-message="required">Please Select Booking Id</div>
                                                </div>
                                                <span class="input-group-addon">
                                                    <button class="btn" type="submit" ng-click="Search()"><i class="fa fa-search"></i></button>
                                                </span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div ng-show="tripOnlineBookingDetails.length > 0">
                                    <div class="row">
                                        <div class="col-sm-4">
                                            <div class="form-group">
                                                <label class="control-label col-sm-4">Booking Date:<span style="color:Red">*</span></label>
                                                <div class="col-sm-8">
                                                    <md-datepicker name="bkdate1" ng-model="TRTP_BookingDate1" onkeydown="return false"></md-datepicker>
                                                    <!--<md-datepicker name="triptdate111" ng-model="TRTP_BookingDate1" md-placeholder="Select date" required md-min-date="minDatef" md-max-date="maxDatef" onkeydown="return false"></md-datepicker>-->
                                                    <!--ng-disabled="true"-->
                                                </div>
                                            </div>
                                        </div>
                                        <!--<div class="col-sm-4">
                                            <div class="form-group">
                                                <label class="control-label col-sm-4">Trip Date:<span style="color:Red">*</span></label>
                                                <div class="col-sm-8">
                                                    <md-datepicker name="tripdate" ng-model="TRTP_TripDate1" md-placeholder="Select date" required md-min-date="minDatef" md-max-date="maxDatef" onkeydown="return false"></md-datepicker>
                                                    <div class="error-messages" ng-if="interacted(myForm.tripdate)" ng-messages="myForm.tripdate.$error">
                                                        <div ng-message="required">Please Select Trip Date</div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>-->
                                        <div class="col-sm-4">
                                            <div class="form-group">
                                                <label class="control-label col-sm-4">Group Name:<span style="color:Red">*</span></label>
                                                <div class="col-sm-8">
                                                    <select name="grp" ng-model="TRHG_Id1" class="form-control" required ng-disabled="true">
                                                        <option value="">--Select--</option>
                                                        <option ng-repeat="val in hirerGroupList1" value="{{val.trhG_Id}}" ng-selected="val.Selected==true">{{val.trhG_HirerGroup}}</option>
                                                    </select>
                                                    <div class="error-messages" ng-if="interacted(myForm.grp)" ng-messages="myForm.grp.$error">
                                                        <div ng-message="required">Please Select Group Name</div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-sm-6">
                                            <div class="form-group">
                                                <label class="control-label col-sm-4">Hirer Name:<span style="color:Red">*</span></label>
                                                <div class="col-sm-8">
                                                    <input class="form-control" type="text" ng-model="TRTP_HirerName1" name="ctctno" required placeholder="Enter Hirer Name" allow-pattern="(\s|[A-Za-z.])" maxlength="30" /><!--ng-disabled="true"-->
                                                    <div class="error-messages" ng-if="interacted(myForm.ctctno)" ng-messages="myForm.ctctno.$error">
                                                        <div ng-message="required">Please Enter Hirer Name</div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-sm-6">
                                            <div class="form-group">
                                                <label class="control-label col-sm-4">Contact Person Name:<span style="color:Red">*</span></label>
                                                <div class="col-sm-8">
                                                    <input class="form-control" type="text" ng-model="TRTP_HirerContactPerson1" name="contactper" required placeholder="Enter Contact Person Name" allow-pattern="(\s|[A-Za-z.])" maxlength="30" ng-disabled="true"/>
                                                    <div class="error-messages" ng-if="interacted(myForm.contactper)" ng-messages="myForm.contactper.$error">
                                                        <div ng-message="required">Please Enter Contact Person Name</div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-sm-6">
                                            <div class="form-group">
                                                <label class="control-label col-sm-4">SMS Alert Number:<span style="color:Red">*</span></label>
                                                <div class="col-sm-8">
                                                    <input class="form-control" type="text" ng-model="TRTP_HirerContactNo1" allow-pattern="\d" maxlength="10" name="ctctno" required placeholder="Enter Contact No" /> <!--ng-disabled="true"-->
                                                    <div class="error-messages" ng-if="interacted(myForm.ctctno)" ng-messages="myForm.ctctno.$error">
                                                        <div ng-message="required">Please Enter Contact No</div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-sm-6">
                                            <div class="form-group">
                                                <label class="control-label col-sm-4">Mobile No.:<span style="color:Red">*</span></label>
                                                <div class="col-sm-8">
                                                    <input class="form-control" type="text" ng-model="TRTOB_MobileNo1" allow-pattern="\d" maxlength="10" name="mob1" required placeholder="Enter Mobile No"  ng-disabled="true" />
                                                    <div class="error-messages" ng-if="interacted(myForm.mob1)" ng-messages="myForm.mob1.$error">
                                                        <div ng-message="required">Please Enter Mobile No</div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-sm-6">
                                            <div class="form-group">
                                                <label class="control-label col-sm-4">Pick Up location:<span style="color:Red">*</span></label>
                                                <div class="col-sm-8">
                                                    <input class="form-control" type="text" ng-model="TRTP_PickUpLocation1" name="pickup" required placeholder="Enter Pick Up location" ng-disabled="true" />
                                                    <div class="error-messages" ng-if="interacted(myForm.pickup)" ng-messages="myForm.pickup.$error">
                                                        <div ng-message="required">Please Enter Pick Up location</div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-sm-6">
                                            <div class="form-group">
                                                <label class="control-label col-sm-4">Drop location:<span style="color:Red">*</span></label>
                                                <div class="col-sm-8">
                                                    <input class="form-control" type="text" ng-model="TRTP_DropLocation1" name="drpll" required placeholder="Enter Drop location" ng-disabled="true" />
                                                    <div class="error-messages" ng-if="interacted(myForm.drpll)" ng-messages="myForm.drpll.$error">
                                                        <div ng-message="required">Please Enter Drop location</div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-sm-6">
                                            <div class="form-group">
                                                <label class="control-label col-sm-4">Email Id:<span style="color:Red">*</span></label>
                                                <div class="col-sm-8">
                                                    <input class="form-control" type="text" ng-model="TRTOB_EmailId1" name="email1" required placeholder="Enter Email Id" ng-disabled="true" />
                                                    <div class="error-messages" ng-if="interacted(myForm.email1)" ng-messages="myForm.email1.$error">
                                                        <div ng-message="required">Please Enter Email Id</div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-sm-6">
                                            <div class="form-group">
                                                <label class="control-label col-sm-4">Address:<span style="color:Red">*</span></label>
                                                <div class="col-sm-8">
                                                    <textarea class="form-control" type="text" ng-model="TRTP_HirerAddress1" name="addr" required placeholder="Enter Address" maxlength="250" ng-disabled="true" />
                                                    <div class="error-messages" ng-if="interacted(myForm.addr)" ng-messages="myForm.addr.$error">
                                                        <div ng-message="required">Please Enter Address</div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-sm-6">
                                            <div class="form-group">
                                                <label class="control-label col-sm-4">Trip Address:<span style="color:Red">*</span></label>
                                                <div class="col-sm-8">
                                                    <textarea class="form-control" type="text" ng-model="TRTP_TripAddress1" name="address" required placeholder="Enter Trip Address" maxlength="250" ng-disabled="true" />
                                                    <div class="error-messages" ng-if="interacted(myForm.address)" ng-messages="myForm.address.$error">
                                                        <div ng-message="required">Please Enter Trip Address</div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                       
                                    </div>
                                    <div class="row">
                                        <div class="col-sm-6">
                                            <div class="form-group">
                                                <label class="control-label col-sm-4">PickUp Date:<span style="color:Red">*</span></label>
                                                <div class="col-sm-8">
                                                    <md-datepicker name="tripfdate" ng-model="TRTP_TripFromDate1" md-placeholder="Select date" md-min-date="minDatef" md-max-date="maxDatef" onkeydown="return false"></md-datepicker> <!--ng-disabled="true"-->
                                                    <div class="error-messages" ng-if="interacted(myForm.tripfdate)" ng-messages="myForm.tripfdate.$error">
                                                        <div ng-message="required">Please Select PickUp Date</div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-sm-6">
                                            <div class="form-group">
                                                <label class="control-label col-sm-4">Drop Date:<span style="color:Red">*</span></label>
                                                <div class="col-sm-8">
                                                    <md-datepicker name="triptdate" ng-model="TRTP_TripToDate1" md-placeholder="Select date" md-min-date="minDatef" md-max-date="maxDatef" onkeydown="return false"></md-datepicker> <!--ng-disabled="true"-->
                                                    <div class="error-messages" ng-if="interacted(myForm.triptdate)" ng-messages="myForm.triptdate.$error">
                                                        <div ng-message="required">Please Select Drop Date</div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-sm-6">
                                            <div class="form-group">
                                                <label class="control-label col-sm-4">PickUp Time:<span style="color:Red">*</span></label>
                                                <div class="col-sm-8" allow-pattern="(\s|[0-9])">
                                                    <div uib-timepicker name="trpt_time_to24" ng-model="TRTP_FromTime1" min="min" show-meridian="true" hour-step="hstep" minute-step="mstep" required></div>
                                                    <!--<div class="error-messages" ng-if="interacted(myForm.tripf_time24)" ng-messages="myForm.tripf_time24.$error">
        <div ng-message="required">Please Select PickUp Time</div>
    </div>-->
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-sm-6">
                                            <div class="form-group">
                                                <label class="control-label col-sm-4">Drop Time:<span style="color:Red">*</span></label>
                                                <div class="col-sm-8" allow-pattern="(\s|[0-9])">
                                                    <div uib-timepicker name="trpt_time_to24" ng-model="TRTP_ToTime1" min="min" show-meridian="true" hour-step="hstep" minute-step="mstep" required></div>
                                                    <!--<div class="error-messages" ng-if="interacted(myForm.trpt_time_to24)" ng-messages="myForm.trpt_time_to24.$error">
                    <div ng-message="required">Please Enter Valid Time</div>
                </div>-->
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-sm-6">
                                            <div class="form-group">
                                                <label class="control-label col-sm-4">No. Of Traveller:<span style="color:Red">*</span></label>
                                                <div class="col-sm-8">
                                                    <input class="form-control" type="text" ng-model="TRTP_NoOfTravellers" allow-pattern="(\s|[0-9])" maxlength="100" name="ctctno123" required placeholder="No. Of Travellers" />
                                                    <div class="error-messages" ng-if="interacted(myForm.ctctno123)" ng-messages="myForm.ctctno123.$error">
                                                        <div ng-message="required">Please Enter No. Of Traveller</div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                <div class="box box-primary">
                                    <div class="box-header with-border">
                                        <h3 class="box-title">Assign Vehicle &amp; Driver</h3>
                                    </div>
                                    <div class="box-body">

                                        <table class="table table-hover table-responsive table-bordered text-center">
                                            <thead>
                                                <tr>
                                                    <th>slno</th>
                                                    <th>Vehicle Type</th>
                                                    <th>
                                                        Vehicle&nbsp;<span style="color:red;">*</span>
                                                    </th>
                                                    <th>
                                                        Driver&nbsp;<span style="color:red;">*</span>
                                                    </th>
                                                    <th>
                                                        Mobile No&nbsp;<span style="color:red;">*</span>
                                                    </th>
                                                    <!--<th>
        Opening K.M &nbsp;<span style="color:red;">*</span>
    </th>-->
                                                    <th ng-show="tdshow">
                                                        Add More
                                                    </th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr data-ng-repeat="vehicle in vehicles  track by $index">
                                                    <td>{{$index+1}}</td>
                                                    <td>
                                                        <select name="vhclet{{$index}}" ng-model="vehicle.trmvT_Id" class="form-control" required ng-disabled="disableDriverallottment" ng-change="getvahicle(vehicles[$index].trmvT_Id,vehicle)">
                                                            <!--ng-disabled="disableDriverallottment"-->
                                                            <option value="">--Select--</option>
                                                            <option ng-repeat="oobj in vehicletypelist" value="{{oobj.trmvT_Id}}" ng-selected="oobj.trmvT_Id==vehicle.trmvT_Id" ng-disabled="oobj.dis=='dis'">
                                                                {{oobj.trmvT_VehicleType}}
                                                        </select>
                                                        <div class="error-messages" ng-if="interacted(myForm['vhcle'+$index])" ng-messages="myForm['vhcle'+$index].$error">
                                                            <div ng-message="required">Please Select Vehicle Type</div>
                                                        </div>

                                                    </td>
                                                    <td>
                                                        <select name="vhcle{{$index}}" ng-model="vehicle.trmV_Id" class="form-control" required ng-disabled="disableDriverallottment" ng-change="disablecheck()">
                                                            <!--ng-disabled="disableDriverallottment"-->
                                                            <option value="">--Select--</option>
                                                            <option ng-repeat="oobj in vehicle.vehicleList" value="{{oobj.trmV_Id}}" ng-selected="oobj.trmV_Id==vehicle.trmV_Id" ng-disabled="oobj.dis=='dis'">
                                                                {{oobj.trmV_VehicleNo}}
                                                        </select>
                                                        <div class="error-messages" ng-if="interacted(myForm['vhcle'+$index])" ng-messages="myForm['vhcle'+$index].$error">
                                                            <div ng-message="required">Please Select Vehicle</div>
                                                        </div>

                                                    </td>
                                                    <td>

                                                        <select class="form-control" name="driver{{$index}}" ng-model="vehicle.trvD_Id" required ng-disabled="disableDriverallottment" ng-change="checkdriverdis(vehicles[$index].trvD_Id,vehicle)">
                                                            <option value="">--Select--</option>
                                                            <option ng-repeat="driver in driverList" value="{{driver.trmD_Id}}" ng-selected="driver.trmD_Id==vehicle.trvD_Id" ng-disabled="driver.drdis=='dis'">{{driver.trmD_DriverName}}</option>
                                                        </select>
                                                        <div class="error-messages" ng-if="interacted(myForm['driver'+$index])" ng-messages="myForm['driver'+$index].$error">
                                                            <div ng-message="required">Please Select Driver</div>
                                                        </div>
                                                    </td>
                                                    <td>
                                                        <input class="form-control" type="text" ng-model="vehicle.trmD_MobileNo" allow-pattern="\d" maxlength="10" name="mobile{{$index}}" required placeholder="Enter Contact No" ng-disabled="disableDriverallottment"/>
                                                        <div class="error-messages" ng-if="interacted(myForm['mobile'+$index])" ng-messages="myForm['mobile'+$index].$error">
                                                            <div ng-message="required"> Select Mobile Number</div>
                                                        </div>
                                                    </td>
                                                    <!--<td>
                <input type="text" class="form-control" name="opening{{$index}}" ng-model="vehicles[$index].trtP_OpeningKM" allow-pattern="\d" placeholder="Enter Opening K.M" maxlength="11" required ng-disabled="disableDriverallottment">
                <div class="error-messages" ng-if="interacted(myForm['opening'+$index])" ng-messages="myForm['opening'+$index].$error">
                    <div ng-message="required">Please Enter Opening K.M</div>
                </div>
    </td>-->

                                                    <td ng-show="tdshow">

                                                        <span ng-show="$last" class="input-group-addon">
                                                            <!--ng-hide="vehicles.length > 4"-->
                                                            <a href="" ng-click="addNewVehicle()" style="color:#000;">
                                                                <i class="fa fa-plus"></i>
                                                            </a>
                                                        </span>
                                                        <span class="input-group-addon" id="remove" ng-hide="vehicles.length ==1">
                                                            <a href="" ng-click="removeVehicle($index)" style="color:#000;">
                                                                <i class="fa fa-minus" aria-hidden="true"></i>
                                                            </a>
                                                        </span>


                                                    </td>
                                                </tr>
                                    </tbody>
                                    </table>

                                    <!--<label class="control-label col-sm-4">Vehicle:<span style="color:Red">*</span></label>-->
                                    <!--<div class="col-sm-8">
            <select class="form-control" name="vhcl" ng-model="TRMV_Id" ng-disabled="tripList.length > 0" required>
                <option value="">--Select--</option>
                <option ng-repeat="vehicle in vehicleList" value="{{vehicle.trmV_Id}}" ng-selected="vehicle.Selected==true">{{vehicle.trmV_VehicleName}}</option>
            </select>
            <div class="error-messages" ng-if="interacted(myForm.vhcl)" ng-messages="myForm.vhcl.$error">
                <div ng-message="required">Please Select Vehicle</div>
            </div>
        </div>-->
                                </div>
                                                </div>
                                                <!--<div class="col-sm-6">
                                                    <div class="form-group">
                                                        <label class="control-label col-sm-4">Driver:<span style="color:Red">*</span></label>
                                                        <div class="col-sm-8">
                                                            <select class="form-control" name="driver" ng-model="TRVD_Id" required ng-disabled="tripList.length > 0">
                                                                <option value="">--Select--</option>
                                                                <option ng-repeat="driver in driverList" value="{{driver.trvD_Id}}" ng-selected="driver.Selected==true">{{driver.trmD_DriverName}}</option>
                                                            </select>
                                                            <div class="error-messages" ng-if="interacted(myForm.driver)" ng-messages="myForm.driver.$error">
                                                                <div ng-message="required">Please Select Driver</div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>-->

                                            <!--</div>-->
                                            <!--<div class="row">
                                                <div class="col-sm-6">
                                                    <div class="form-group">
                                                        <label class="control-label col-sm-4">Opening K.M:<span style="color:Red">*</span></label>
                                                        <div class="col-sm-8">
                                                            <input type="text" class="form-control" name="opening" ng-model="TRTP_OpeningKM" allow-pattern="\d" placeholder="Enter Opening K.M" maxlength="5" required ng-disabled="tripList.length > 0">
                                                            <div class="error-messages" ng-if="interacted(myForm.opening)" ng-messages="myForm.opening.$error">
                                                                <div ng-message="required">Please Enter Opening K.M</div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="col-sm-6" ng-show="TRTOB_Id > 0">
                                                    <div class="form-group">
                                                        <label class="control-label col-sm-4">Booking Amount:</label>
                                                        <div class="col-sm-8">
                                                            <input class="form-control" type="text" ng-model="trtoB_BookingAmount" ng-disabled="true" />
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>-->
                                            <!--<div class="row" ng-show="TRTOB_Id==0">
                                                <div class="col-sm-6">
                                                    <div class="form-group">
                                                        <label class="control-label col-sm-4">Mode Of Payment:<span style="color:Red">*</span></label>
                                                        <div class="col-sm-8">
                                                            <div class="well">
                                                                <label class="radio-inline" ng-repeat="val in modeOfPaymentList">
                                                                    <input type="radio" value="{{val.ivrmmoD_ModeOfPayment}}" name="modofpay" ng-model="TRTP_ModeOfPayment" n ng-click="modeofPayment1(TRTP_ModeOfPayment)" ng-required="reqSelection && TRTOB_Id==0" />
                                                                    <span class="lbl padding-8">{{val.ivrmmoD_ModeOfPayment}}</span>
                                                                </label>
                                                                <div class="error-messages" ng-if="interacted(myForm.modofpay)" ng-messages="myForm.modofpay.$error">
                                                                    <div ng-message="required">Please Select Mode Of Payment</div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="col-sm-6">
                                                    <div class="form-group">
                                                        <label class="control-label col-sm-4">Booking Amount:<span style="color:Red">*</span></label>
                                                        <div class="col-sm-8">
                                                            <input class="form-control" type="text" ng-model="TRTP_AdvanceReceived" name="bookingamt1" allow-pattern="(\d|[.])" maxlength="10" placeholder="Enter Booking Amount" ng-required="TRTOB_Id==0" />
                                                            <div class="error-messages" ng-if="interacted(myForm.bookingamt1)" ng-messages="myForm.bookingamt1.$error">
                                                                <div ng-message="required">Please Enter Booking Amount</div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="row" ng-show="Cheque==true">
                                                <div class="col-sm-6">
                                                    <div class="form-group">
                                                        <label class="control-label col-sm-4">Cheque DD No:<span style="color:Red">*</span></label>
                                                        <div class="col-sm-8">
                                                            <input type="text" class="form-control" name="ddno" ng-model="TRTPP_ChequeDDNo" placeholder="Enter Cheque DD No" allow-pattern="\d" ng-required="Cheque==true">
                                                            <div class="error-messages" ng-if="interacted(myForm.ddno)" ng-messages="myForm.ddno.$error">
                                                                <div ng-message="required">Please Enter Cheque DD No</div>
                                                            </div>
                                                        </div>

                                                    </div>
                                                </div>
                                                <div class="col-sm-6">
                                                    <div class="form-group">
                                                        <label class="control-label col-sm-4">Cheque DD Date:<span style="color:Red">*</span></label>
                                                        <div class="col-sm-8">
                                                            <md-datepicker name="chequedate" ng-model="TRTPP_ChequeDDDate" ng-required="Cheque==true" md-placeholder="Select Date" onkeydown="return false"></md-datepicker>
                                                            <div class="error-messages" ng-if="interacted(myForm.chequedate)" ng-messages="myForm.chequedate.$error">
                                                                <div ng-message="required">Please Select Cheque DD Date</div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>-->
                                        
                                   
   
                                    <hr />
                                    <div class="text-center">
                                        <md-button type="submit" ng-disabled="TRTP_BillGeneratedFlag"   class="md-raised md-primary" ng-click="savedata()" >
                                            <!--ng-disabled="form.$invalid "-->
                                            <i class="fa fa-save" aria-hidden="true"></i> Save
                                        </md-button>
                                        <md-button type="button" class="md-raised md-warn" ng-click="cancel()">
                                            <i class="fa fa-times" aria-hidden="true"></i> Cancel
                                        </md-button>
                                    </div>
                                </div>
         
                        </form>
       
                        <div class="box box-primary" ng-show="tripList.length > 0">
                            <div class="box-header with-border">
                                <h3 class="box-title">Trip Details</h3>
                                <div class="box-tools pull-right">
                                    <button type="button" class="btn btn-box-tool" data-widget="collapse" data-placement="bottom" data-toggle="tooltip" title="collapsible"><i class="fa fa-minus"></i></button>
                                </div>
                            </div>
                            <!-- /.box-header -->
                            <div class="box-body">
                                <div class="row">
                                    <!--<div class="col-sm-4">
                                        <div class="form-group">
                                            <label class="control-label">
                                                <b> Total Grid Records :</b>
                                                <label class="badge">
                                                    {{presentCountgrid}}
                                                </label>
                                            </label>
                                        </div>
                                    </div>
                                    <div class="col-sm-4">
                                        <div class="form-group" ng-if="searchValue!=''">
                                            <label class="control-label">
                                                <b>Total Records Searched : </b>
                                                <label class="badge">
                                                    {{filterValue1.length}}
                                                </label>
                                            </label>
                                        </div>
                                    </div>-->
                                    <div class="col-sm-4 pull-right">
                                        <div class="form-group">
                                            <div class="input-group">

                                                <input class="form-control" ng-model="searchValue" type="text" placeholder="search here...">
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <table class="table table-hover table-responsive table-bordered text-center">
                                    <thead>
                                        <tr>
                                            <th><a href="">SL.No.</a></th>
                                            <th><a href="" ng-click="sort('trtP_HirerName')">Hirer Name</a></th>
                                            <th><a href="" ng-click="sort('trvD_TripId')">Trip Id</a></th>
                                            <th><a href="" ng-click="sort('trtP_NoOfTravellers')">No. of Traveller</a></th>
                                            <th><a href="" ng-click="sort('trtP_TripAddress')">Trip Address</a></th>
                                            <th><a href="" ng-click="sort('trtP_BillGeneratedFlag')">Bill Generated(Yes/No)</a></th>
                                            <th><a href="" ng-click="sort('trtP_TotalReceivable')">Total Receivable</a></th>
                                            <th>Print | Edit |Delete</th>

                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr dir-paginate="user in tripList |filter : searchValue|orderBy:sortKey:sortReverse |itemsPerPage:itemsPerPage" current-page="currentPage" ng-class-odd="'odd'">
                                            <td>{{itemsPerPage *(currentPage-1)+$index+1}}</td>
                                            <td>{{user.trtP_HirerName}}</td>
                                            <td>{{user.trvD_TripId}}</td>
                                            <td>{{user.trtP_NoOfTravellers}}</td>
                                            <td>{{user.trtP_TripAddress}}</td>
                                            <td>
                                                <span ng-if="user.trtP_BillGeneratedFlag==true">
                                                    Yes
                                                </span>
                                                <span ng-if="user.trtP_BillGeneratedFlag==false">
                                                    No
                                                </span>
                                            </td>
                                            <td>{{user.trtP_TotalReceivable}}</td>

                                            <td>
                                                <span>
                                                    <a href="" data-toggle="modal" data-target="#myModal31" data-backdrop="static" data-ng-click="viewtripsheetprint(user)">
                                                        <i class="fa fa-eye" aria-hidden="true"></i>
                                                    </a>
                                                </span> &nbsp; &nbsp;
                                                <span ng-if="user.trtP_BillGeneratedFlag==false">|</span>
                                                &nbsp;
                                                &nbsp;
                                                <span ng-if="user.trtP_BillGeneratedFlag==false">
                                                    <a class="text-aqua" href="" ng-click="edit(user)" data-placement="bottom" data-toggle="tooltip" title="Edit">
                                                        <i class="fa fa-pencil-square-o" aria-hidden="true"></i>
                                                    </a>
                                                </span>

                                                <span ng-if="user.trtP_BillGeneratedFlag==false">|</span>
                                                &nbsp;
                                                &nbsp;
                                                <span ng-if="user.trtP_BillGeneratedFlag==false">
                                                    <a class="text-aqua" href="" ng-click="deletetrip(user)" data-placement="bottom" data-toggle="tooltip" title="delete">
                                                        <i class="fa fa-trash-o" aria-hidden="true" style="color:red"></i>
                                                    </a>
                                                </span>
                                            </td>
                                            <!--  <td class="text-center">
                                                <a class="text-aqua" href="" ng-click="edit(user)" data-placement="bottom" data-toggle="tooltip" title="Edit">
                                                    <i class="fa fa-pencil-square-o" aria-hidden="true"></i>
                                                </a>
                                                |
    &nbsp;-->
                                            <!--<span ng-if="user.trmH_ActiveFlg === false">
            <a href="" ng-click="deactive(user)"
               class="text-green" data-placement="bottom" data-toggle="tooltip" title="Activate">
                <i> Activate </i>
            </a>
        </span>
        <span ng-if="user.trmH_ActiveFlg === true">
            <a href="" ng-click="deactive(user)"
               class="text-danger" data-placement="bottom" data-toggle="tooltip" title="Deactivate">
                <i> Deactivate</i>
            </a>
        </span>
    </td>-->
                                        </tr>
                                    </tbody>
                                </table>

                                <dir-pagination-controls max-size="5"
                                                         direction-links="true"
                                                         boundary-links="true">
                                </dir-pagination-controls>
                            </div>
                        </div>
                    </md-tab>
                    <!--Update Trip-->
                    <md-tab label="Update Trip" id="updatetrip">
                        <form class="form-horizontal" role="form" name="myForm1" novalidate>
                            <md-content class="md-padding">
                                <div class="row" style="margin-left:25%">
                                    <div class="col-sm-6 pull-left">
                                        <div class="form-group searchbox">
                                            <label class="control-label col-sm-6">Search By Booking Id:</label>
                                            <div class="input-group">
                                               <select class="form-control" name="tripId" ng-model="TRVD_TripId">
                                                   <option value="">--Select--</option>
                                                   <option ng-repeat="val in tripDrpwn" value="{{val.trvD_TripId}}" ng-selected="val.Selected==true">{{val.trtoB_BookingId}}</option>
                                                </select>
                                                <span class="input-group-addon">
                                                    <button class="btn" type="submit" ng-click="SearchByTripId()"><i class="fa fa-search"></i></button>
                                                </span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div ng-show="databyTripId.length > 0">
                                    <div class="row">
                                        <div class="col-sm-4">
                                            <div class="form-group">
                                                <label class="control-label col-sm-4">Booking Date:<span style="color:Red">*</span></label>
                                                <div class="col-sm-8">
                                                    <md-datepicker name="bkdate" ng-model="TRTP_BookingDate2" ng-disabled="TRTP_BillGeneratedFlag"></md-datepicker>
                                                </div>
                                            </div>
                                        </div>
                                        <!--<div class="col-sm-4">
                                            <div class="form-group">
                                                <label class="control-label col-sm-4">Trip Date:<span style="color:Red">*</span></label>
                                                <div class="col-sm-8">
                                                    <md-datepicker name="tripdate" ng-model="TRTP_TripDate2" md-placeholder="Select date" required md-min-date="minDatef" md-max-date="maxDatef" onkeydown="return false" ng-disabled="true"></md-datepicker>
                                                    <div class="error-messages" ng-if="interacted(myForm.tripdate)" ng-messages="myForm.tripdate.$error">
                                                        <div ng-message="required">Please Select Trip Date</div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>-->
                                      
                                    </div>
                                    <div class="row">
                                        <div class="col-sm-6">
                                            <div class="form-group">
                                                <label class="control-label col-sm-4">Hirer Name:<span style="color:Red">*</span></label>
                                                <div class="col-sm-8">
                                                    <input class="form-control" type="text" ng-model="TRTP_HirerName2" name="ctctno" required placeholder="Enter Hirer Name" allow-pattern="(\s|[A-Za-z.])" maxlength="30" ng-disabled="true" />
                                                    <div class="error-messages" ng-if="interacted(myForm.ctctno)" ng-messages="myForm.ctctno.$error">
                                                        <div ng-message="required">Please Enter Hirer Name</div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                       
                                    </div>
                                    <div class="row">
                                        <div class="col-sm-6">
                                            <div class="form-group">
                                                <label class="control-label col-sm-4">Contact No.:<span style="color:Red">*</span></label>
                                                <div class="col-sm-8">
                                                    <input class="form-control" type="text" ng-model="TRTP_HirerContactNo2" allow-pattern="\d" maxlength="10" name="ctctno" required placeholder="Enter Contact No" ng-disabled="true" />
                                                    <div class="error-messages" ng-if="interacted(myForm.ctctno)" ng-messages="myForm.ctctno.$error">
                                                        <div ng-message="required">Please Enter Contact No</div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        
                                    </div>
                                    <div class="row">
                                        <div class="col-sm-6">
                                            <div class="form-group">
                                                <label class="control-label col-sm-4">Trip Address:<span style="color:Red">*</span></label>
                                                <div class="col-sm-8">
                                                    <textarea class="form-control" type="text" ng-model="TRTP_TripAddress2" name="address" required placeholder="Enter Trip Address" maxlength="250" ng-disabled="true"/>
                                                    <div class="error-messages" ng-if="interacted(myForm.address)" ng-messages="myForm.address.$error">
                                                        <div ng-message="required">Please Enter Trip Address</div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                      
                                    </div>
                                    <div class="row">
                                        <div class="col-sm-6">
                                            <div class="form-group">
                                                <label class="control-label col-sm-4">PickUp Date:<span style="color:Red">*</span></label>
                                                <div class="col-sm-8">
                                                    <md-datepicker name="tripfdate" ng-model="TRTP_TripFromDate2" md-placeholder="Select date" required md-min-date="minDatef" md-max-date="maxDatef" onkeydown="return false" ng-disabled="TRTP_BillGeneratedFlag"></md-datepicker>
                                                    <div class="error-messages" ng-if="interacted(myForm.tripfdate)" ng-messages="myForm.tripfdate.$error">
                                                        <div ng-message="required">Please Select PickUp Date</div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-sm-6">
                                            <div class="form-group">
                                                <label class="control-label col-sm-4">Drop Date:<span style="color:Red">*</span></label>
                                                <div class="col-sm-8">
                                                    <md-datepicker name="triptdate" ng-model="TRTP_TripToDate2" md-placeholder="Select date" required md-min-date="minDatef" md-max-date="maxDatef" onkeydown="return false" ng-disabled="TRTP_BillGeneratedFlag"></md-datepicker>
                                                    <div class="error-messages" ng-if="interacted(myForm.triptdate)" ng-messages="myForm.triptdate.$error">
                                                        <div ng-message="required">Please Select Drop Date</div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="box box-primary">
                                        <div class="box-header with-border">
                                            <h3 class="box-title">Assigned Vehicles &amp; Drivers</h3>
                                        </div>
                                        <div class="box-body">

                                            <table class="table table-hover table-responsive table-bordered text-center">
                                                <thead>
                                                    <tr>
                                                        <th>
                                                            Vehicle&nbsp;<span style="color:red;">*</span>
                                                        </th>
                                                        <th>
                                                            Driver&nbsp;<span style="color:red;">*</span>
                                                        </th>
                                                        <th>
                                                            Opening K.M &nbsp;<span style="color:red;">*</span>
                                                        </th>
                                                        <th>
                                                            Closing K.M &nbsp;<span style="color:red;">*</span>
                                                        </th>
                                                        <th>
                                                           Total K.M &nbsp;<span style="color:red;">*</span>
                                                        </th>
                                                        <!--<th>
       Action
    </th>-->
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    <tr data-ng-repeat="vehicle1 in vehicles  track by $index | filter:nameText">
                                                        <td>
                                                            <select name="vhcle{{$index}}" ng-model="vehicles[$index].trmV_Id" class="form-control" required ng-disabled="disableDriverallottment">
                                                                <option value="">--Select--</option>
                                                                <option ng-repeat="obj in vehicleList" value="{{obj.trmV_Id}}" ng-selected="obj.trmV_Id==vehicle1.trmV_Id">
                                                                    {{obj.trmV_VehicleNo}}
                                                            </select>
                                                            <div class="error-messages" ng-if="interacted(myForm['vhcle'+$index])" ng-messages="myForm['vhcle'+$index].$error">
                                                                <div ng-message="required">Please Select Vehicle</div>
                                                            </div>

                                                        </td>
                                                        <td>

                                                            <select class="form-control" name="driver{{$index}}" ng-model="vehicles[$index].trvD_Id" required ng-disabled="disableDriverallottment">
                                                                <option value="">--Select--</option>
                                                                <option ng-repeat="driver1 in driverList" value="{{driver1.trmD_Id}}" ng-selected="driver1.trmD_Id==vehicle1.trvD_Id">{{driver1.trmD_DriverName}}</option>
                                                            </select>
                                                            <div class="error-messages" ng-if="interacted(myForm['driver1'+$index])" ng-messages="myForm['driver1'+$index].$error">
                                                                <div ng-message="required">Please Select Driver</div>
                                                            </div>
                                                        </td>
                                                        <td>
                                                            <input type="number" class="form-control" name="opening{{$index}}" ng-model="vehicles[$index].trtP_OpeningKM" placeholder="Enter Opening K.M" maxlength="11" required step="0.01">
                                                            <!--allow-pattern="\d"-->
                                                            <!--ng-disabled="disableDriverallottment" -->
                                                            <div class="error-messages" ng-if="interacted(myForm['opening'+$index])" ng-messages="myForm['opening'+$index].$error">
                                                                <div ng-message="required">Please Enter Opening K.M</div>
                                                            </div>
                                                        </td>
                                                        <td>
                                                            <input type="number" class="form-control" name="closing{{$index}}" ng-model="vehicles[$index].trtP_ClosingKM" placeholder="Enter Closing K.M" maxlength="11" required>
                                                            <div class="error-messages" ng-if="interacted(myForm['closing'+$index])" ng-messages="myForm['closing'+$index].$error">
                                                                <div ng-message="required">Please Enter Closing K.M</div>
                                                            </div>
                                                        </td>

                                                        <td>
                                                            <input type="number" class="form-control" name="closing{{$index}}" ng-model="vehicles[$index].trtP_ClosingKM - vehicles[$index].trtP_OpeningKM"  placeholder="Total K.M" maxlength="11" required ng-disabled="true">
                                                            <div class="error-messages" ng-messages="myForm['closing'+$index].$error">
                                                                <!--<div ng-message="required">Please Enter Closing K.M</div>--><!--ng-if="interacted(myForm['closing'+$index])"-->
                                                            </div>
                                                        </td>
                                                        <!--<td>
        <md-button type="submit" ng-disabled="TRTP_BillGeneratedFlag" class="md-raised md-primary" ng-click="bill(vehicles)">
            <i class="fa fa-save" aria-hidden="true"></i> Update &amp; Generate Bill
        </md-button>
    </td>-->
                                                        <!--<td>
        <span ng-show="$last" ng-disabled="!myForm" class="input-group-addon" ng-hide="vehicles.length > 4">
            <a href="" ng-click="addNewVehicle()" style="color:#000;">
                <i class="fa fa-plus"></i>
            </a>
        </span>
        <span class="input-group-addon" id="remove" ng-hide="vehicles.length ==1">
            <a href="" ng-click="removeVehicle($index)" style="color:#000;">
                <i class="fa fa-minus" aria-hidden="true"></i>
            </a>
        </span>
    </td>-->
                                                    </tr>
                                                </tbody>
                                            </table>

                                            <!--<label class="control-label col-sm-4">Vehicle:<span style="color:Red">*</span></label>-->
                                            <!--<div class="col-sm-8">
                <select class="form-control" name="vhcl" ng-model="TRMV_Id" ng-disabled="tripList.length > 0" required>
                    <option value="">--Select--</option>
                    <option ng-repeat="vehicle in vehicleList" value="{{vehicle.trmV_Id}}" ng-selected="vehicle.Selected==true">{{vehicle.trmV_VehicleName}}</option>
                </select>
                <div class="error-messages" ng-if="interacted(myForm.vhcl)" ng-messages="myForm.vhcl.$error">
                    <div ng-message="required">Please Select Vehicle</div>
                </div>
            </div>-->
                                        </div>
                                    </div>
                                   
                                       
                                      
                                            <!--<div class="row">
                                                <div class="col-sm-6">
                                                    <div class="form-group">
                                                        <label class="control-label col-sm-4">Vehicle:<span style="color:Red">*</span></label>
                                                        <div class="col-sm-8">
                                                            <select class="form-control" name="vhcl" ng-model="TRMV_Id2" ng-disabled="true">
                                                                <option value="">--Select--</option>
                                                                <option ng-repeat="vehicle in vehicleList" value="{{vehicle.trmV_Id}}" ng-selected="vehicle.Selected==true">{{vehicle.trmV_VehicleName}}</option>
                                                            </select>
                                                            <div class="error-messages" ng-if="interacted(myForm.vhcl)" ng-messages="myForm.vhcl.$error">
                                                                <div ng-message="required">Please Select Vehicle</div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="col-sm-6">
                                                    <div class="form-group">
                                                        <label class="control-label col-sm-4">Driver:<span style="color:Red">*</span></label>
                                                        <div class="col-sm-8">
                                                            <select class="form-control" name="driver" ng-model="TRVD_Id2" ng-disabled="true">
                                                                <option value="">--Select--</option>
                                                                <option ng-repeat="driver in driverList" value="{{driver.trvD_Id}}" ng-selected="driver.Selected==true">{{driver.trmD_DriverName}}</option>
                                                            </select>
                                                            <div class="error-messages" ng-if="interacted(myForm.driver)" ng-messages="myForm.driver.$error">
                                                                <div ng-message="required">Please Select Driver</div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                </div>
                                    <div class="row">
                                        <div class="col-sm-6">
                                            <div class="form-group">
                                                <label class="control-label col-sm-4">Opening K.M:<span style="color:Red">*</span></label>
                                                <div class="col-sm-8">
                                                    <input type="text" class="form-control" name="opening" ng-model="TRTP_OpeningKM2" allow-pattern="\d" placeholder="Enter Opening K.M" maxlength="5" ng-disabled="true">
                                                    <div class="error-messages" ng-if="interacted(myForm.opening)" ng-messages="myForm.opening.$error">
                                                        <div ng-message="required">Please Enter Opening K.M</div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-sm-6">
                                            <div class="form-group">
                                                <label class="control-label col-sm-4">Closing K.M:<span style="color:Red">*</span></label>
                                                <div class="col-sm-8">
                                                    <input type="text" class="form-control" name="closing" ng-model="TRTP_ClosingKM" allow-pattern="\d" placeholder="Enter Closing K.M" maxlength="5" required ng-disabled="disableClosingKM">
                                                    <div class="error-messages" ng-if="interacted1(myForm1.closing)" ng-messages="myForm1.closing.$error">
                                                        <div ng-message="required">Please Enter Closing K.M</div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        </div>-->
                                    <hr />
                                    <div class="text-center">
                                        <md-button type="submit" ng-disabled="TRTP_BillGeneratedFlag" class="md-raised md-primary" ng-click="updateTrip()">
                                            <i class="fa fa-save" aria-hidden="true"></i> Update Trip
                                        </md-button>
                                        <md-button type="submit" ng-disabled="TRTP_BillGeneratedFlag" class="md-raised md-primary" ng-click="bill()">
                                            <i class="fa fa-save" aria-hidden="true"></i> Update & Generate Bill
                                        </md-button>
                                        <md-button type="button" class="md-raised md-warn" ng-click="cancelupdate()">
                                            <i class="fa fa-times" aria-hidden="true"></i> Cancel
                                        </md-button>
                                    </div>
                                </div>

                            </md-content>
                        </form>
                        <div class="box box-primary" ng-show="databyTripId.length > 0 && TRTP_BillGeneratedFlag==true">
                            <div class="box-header with-border">
                                <h3 class="box-title">Bill Details</h3>
                                <div class="box-tools pull-right">
                                    <button type="button" class="btn btn-box-tool" data-widget="collapse" data-placement="bottom" data-toggle="tooltip" title="collapsible"><i class="fa fa-minus"></i></button>
                                </div>
                            </div>
                            <!-- /.box-header -->
                            <div class="box-body">
                                <div class="row">
                                    <!--<div class="col-sm-4">
                    <div class="form-group">
                        <label class="control-label">
                            <b> Total Grid Records :</b>
                            <label class="badge">
                                {{presentCountgrid}}
                            </label>
                        </label>
                    </div>
                </div>
                <div class="col-sm-4">
                    <div class="form-group" ng-if="searchValue!=''">
                        <label class="control-label">
                            <b>Total Records Searched : </b>
                            <label class="badge">
                                {{filterValue1.length}}
                            </label>
                        </label>
                    </div>
                </div>-->
                                    <div class="col-sm-4 pull-right">
                                        <div class="form-group">
                                            <div class="input-group">

                                                <input class="form-control" ng-model="searchBill" type="text" placeholder="search here...">
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <table class="table table-hover table-responsive table-bordered text-center">
                                    <thead>
                                        <tr>
                                            <th><a href="">SL.No.</a></th>
                                            <!--<th><a href="" ng-click="sort1('trtP_OpeningKM')">Opening K.M</a></th>
                                            <th><a href="" ng-click="sort1('trtP_ClosingKM')">Closing K.M</a> </th>-->
                                            <th><a href="" ng-click="sort1('trtP_BillNo')">Bill No.</a></th>
                                            <th><a href="" ng-click="sort1('trtP_BillDate')">Bill Date</a></th>
                                            <th><a href="" ng-click="sort1('trtP_BillAmount')">BillAmount</a></th>
                                            <th><a href="" ng-click="sort1('trtP_DiscountAmount')">Discount Amount</a></th>
                                            <th><a href="" ng-click="sort1('trtP_TotalReceivable')">Total Receivable</a></th>
                                            <th>Print Bill</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr ng-repeat="user in databyTripId |filter : searchBill|orderBy:sortKey1:sortReverse1" ng-class-odd="'odd'">
                                            <td>{{$index+1}}</td>
                                            <!--<td>{{user.trtP_OpeningKM}}</td>
                                            <td>{{user.trtP_ClosingKM}}</td>-->
                                            <td>{{user.trtP_BillNo}}</td>
                                            <td>{{user.trtP_BillDate|date:'dd-MM-yyyy'}}</td>
                                            <td>{{user.trtP_BillAmount}}</td>
                                            <td>{{user.trtP_DiscountAmount}}</td>
                                            <td>{{user.trtP_TotalReceivable}}</td>
                                            <td>
                            <a href="" data-toggle="modal" data-target="#myModalbill" data-backdrop="static" data-ng-click="printbill(user)">
                                <i class="fa fa-eye" aria-hidden="true"></i>
                            </a>
                        </td>
                                            <!--<td class="text-center">
                            <a class="text-aqua" href="" ng-click="edit(user)" data-placement="bottom" data-toggle="tooltip" title="Edit">
                                <i class="fa fa-pencil-square-o" aria-hidden="true"></i>
                            </a>
                            |
                            &nbsp;
                            <span ng-if="user.trmH_ActiveFlg === false">
                                <a href="" ng-click="deactive(user)"
                                   class="text-green" data-placement="bottom" data-toggle="tooltip" title="Activate">
                                    <i> Activate </i>
                                </a>
                            </span>
                            <span ng-if="user.trmH_ActiveFlg === true">
                                <a href="" ng-click="deactive(user)"
                                   class="text-danger" data-placement="bottom" data-toggle="tooltip" title="Deactivate">
                                    <i> Deactivate</i>
                                </a>
                            </span>
                        </td>-->
                                        </tr>
                                    </tbody>
                                </table>

                                <dir-pagination-controls max-size="5"
                                                         direction-links="true"
                                                         boundary-links="true">
                                </dir-pagination-controls>
                            </div>
                        </div>
                    </md-tab>
                    <!--Generate  Receipt-->
                    <!--<md-tab label="Generate Receipt" id="genReceipt">
                        <form class="form-horizontal" role="form" name="myForm3" novalidate>
                            <md-content class="md-padding">
                                <div class="row">
                                    <div class="col-sm-12">
                                        <div class="form-group">
                                            <div class="text-center col-sm-12">
                                                <div class="well">
                                                    <label>Please Select Radio Button:<span style="color:red;">*</span></label>
                                                    <label class="radio-inline">
                                                        <input type="radio" id="1" value="trip" name="searchradio" ng-model="searchradio" ng-click="onchangeradiobtn()" required />
                                                        <span class="lbl padding-8">Search By Trip Id</span>
                                                    </label>
                                                    <label class="radio-inline">
                                                        <input type="radio" id="2" value="hirer" name="searchradio" ng-model="searchradio" ng-click="onchangeradiobtn()" required />
                                                        <span class="lbl padding-8">Search By Hirer</span>
                                                    </label>
                                                    <div class="error-messages" ng-if="interacted3(myForm3.searchradio)" ng-messages="myForm3.searchradio.$error">
                                                        <div ng-message="required">Please Select Radio Button</div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    </div>
                                <div class="row" style="margin-left:25%" ng-show="searchradio=='trip'">
                                        <div class="col-sm-6 pull-left">
                                            <div class="form-group searchbox">
                                                <label class="control-label col-sm-6">Search By Trip Id:</label>
                                                <div class="input-group">
                                                    <select class="form-control" name="srchtrip" ng-model="Receipt.TRVD_TripId">
                                                        <option value="">--Select--</option>
                                                        <option ng-repeat="val in tripDrpwn" value="{{val}}" ng-selected="val.Selected==true">{{val}}                   </option>
                                                    </select> 
                                                    <span class="input-group-addon">
                                                        <button class="btn" type="submit" ng-click="SearchByTripId()"><i class="fa fa-search"></i></button>
                                                    </span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                <div class="row" style="margin-left:25%" ng-show="searchradio=='hirer'">
                                    <div class="col-sm-6 pull-left">
                                        <div class="form-group searchbox">
                                            <label class="control-label col-sm-6">Search By Hirer:</label>
                                            <div class="input-group">
                                                <select class="form-control" name="hire" ng-model="Receipt.TRMH_Id">
                                                    <option value="">--Select--</option>
                                                    <option ng-repeat="val in hirerDrpDwn" value="{{val.trmH_Id}}" ng-selected="val.Selected==true">{{val.trmH_HirerName}}</option>
                                                </select>
                                                <span class="input-group-addon">
                                                    <button class="btn" type="submit" ng-click="SearchByHirer()"><i class="fa fa-search"></i></button>
                                                </span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div ng-show="genrecSearchResult.length > 0">
                                    <div class="row">
                                        <div class="col-sm-4">
                                            <div class="form-group">
                                                <label class="control-label col-sm-4">Booking Date:<span style="color:Red">*</span></label>
                                                <div class="col-sm-8">
                                                    <md-datepicker name="bkdate" ng-model="Receipt.TRTP_BookingDate" ng-disabled="true"></md-datepicker>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-sm-4">
                                            <div class="form-group">
                                                <label class="control-label col-sm-4">Trip Date:<span style="color:Red">*</span></label>
                                                <div class="col-sm-8">
                                                    <md-datepicker name="tripdate" ng-model="Receipt.TRTP_TripDate" md-placeholder="Select date" required md-min-date="minDatef" md-max-date="maxDatef" onkeydown="return false"></md-datepicker>
                                                    <div class="error-messages" ng-if="interacted(myForm.tripdate)" ng-messages="myForm.tripdate.$error">
                                                        <div ng-message="required">Please Select Trip Date</div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                    </div>
                                    <div class="row">
                                        <div class="col-sm-6">
                                            <div class="form-group">
                                                <label class="control-label col-sm-4">Hirer Name:<span style="color:Red">*</span></label>
                                                <div class="col-sm-8">
                                                    <input class="form-control" type="text" ng-model="Receipt.TRTP_HirerName" name="ctctno" required placeholder="Enter Hirer Name" allow-pattern="(\s|[A-Za-z.])" maxlength="30" />
                                                    <div class="error-messages" ng-if="interacted(myForm.ctctno)" ng-messages="myForm.ctctno.$error">
                                                        <div ng-message="required">Please Enter Hirer Name</div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                    </div>
                                    <div class="row">
                                        <div class="col-sm-6">
                                            <div class="form-group">
                                                <label class="control-label col-sm-4">Contact No.:<span style="color:Red">*</span></label>
                                                <div class="col-sm-8">
                                                    <input class="form-control" type="text" ng-model="Receipt.TRTP_HirerContactNo" allow-pattern="\d" maxlength="10" name="ctctno" required placeholder="Enter Contact No" />
                                                    <div class="error-messages" ng-if="interacted(myForm.ctctno)" ng-messages="myForm.ctctno.$error">
                                                        <div ng-message="required">Please Enter Contact No</div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                    </div>
                                    <div class="row">
                                        <div class="col-sm-6">
                                            <div class="form-group">
                                                <label class="control-label col-sm-4">Trip Address:<span style="color:Red">*</span></label>
                                                <div class="col-sm-8">
                                                    <textarea class="form-control" type="text" ng-model="Receipt.TRTP_TripAddress" name="address" required placeholder="Enter Trip Address" maxlength="250" />
                                                    <div class="error-messages" ng-if="interacted(myForm.address)" ng-messages="myForm.address.$error">
                                                        <div ng-message="required">Please Enter Trip Address</div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                    </div>
                                    <div class="row">
                                        <div class="col-sm-6">
                                            <div class="form-group">
                                                <label class="control-label col-sm-4">Trip From Date:<span style="color:Red">*</span></label>
                                                <div class="col-sm-8">
                                                    <md-datepicker name="tripfdate" ng-model="Receipt.TRTP_TripFromDate" md-placeholder="Select date" required md-min-date="minDatef" md-max-date="maxDatef" onkeydown="return false"></md-datepicker>
                                                    <div class="error-messages" ng-if="interacted(myForm.tripfdate)" ng-messages="myForm.tripfdate.$error">
                                                        <div ng-message="required">Please Select From Date</div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-sm-6">
                                            <div class="form-group">
                                                <label class="control-label col-sm-4">Trip To Date:<span style="color:Red">*</span></label>
                                                <div class="col-sm-8">
                                                    <md-datepicker name="triptdate" ng-model="Receipt.TRTP_TripToDate" md-placeholder="Select date" required md-min-date="minDatef" md-max-date="maxDatef" onkeydown="return false"></md-datepicker>
                                                    <div class="error-messages" ng-if="interacted(myForm.triptdate)" ng-messages="myForm.triptdate.$error">
                                                        <div ng-message="required">Please Select To Date</div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>




                                    <div class="row">
                                        <div class="col-sm-6">
                                            <div class="form-group">
                                                <label class="control-label col-sm-4">Vehicle:<span style="color:Red">*</span></label>
                                                <div class="col-sm-8">
                                                    <select class="form-control" name="vhcl" ng-model="Receipt.TRMV_Id">
                                                        <option value="">--Select--</option>
                                                        <option ng-repeat="vehicle in vehicleList" value="{{vehicle.trmV_Id}}" ng-selected="vehicle.Selected==true">{{vehicle.trmV_VehicleName}}</option>
                                                    </select>
                                                    <div class="error-messages" ng-if="interacted(myForm.vhcl)" ng-messages="myForm.vhcl.$error">
                                                        <div ng-message="required">Please Select Vehicle</div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-sm-6">
                                            <div class="form-group">
                                                <label class="control-label col-sm-4">Driver:<span style="color:Red">*</span></label>
                                                <div class="col-sm-8">
                                                    <select class="form-control" name="driver" ng-model="Receipt.TRVD_Id">
                                                        <option value="">--Select--</option>
                                                        <option ng-repeat="driver in driverList" value="{{driver.trvD_Id}}" ng-selected="driver.Selected==true">{{driver.trmD_DriverName}}</option>
                                                    </select>
                                                    <div class="error-messages" ng-if="interacted(myForm.driver)" ng-messages="myForm.driver.$error">
                                                        <div ng-message="required">Please Select Driver</div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-sm-6">
                                            <div class="form-group">
                                                <label class="control-label col-sm-4">Opening K.M:<span style="color:Red">*</span></label>
                                                <div class="col-sm-8">
                                                    <input type="text" class="form-control" name="opening" ng-model="Receipt.TRTP_OpeningKM" allow-pattern="\d" placeholder="Enter Opening K.M" maxlength="5">
                                                    <div class="error-messages" ng-if="interacted(myForm.opening)" ng-messages="myForm.opening.$error">
                                                        <div ng-message="required">Please Enter Opening K.M</div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-sm-6">
                                            <div class="form-group">
                                                <label class="control-label col-sm-4">Closing K.M:<span style="color:Red">*</span></label>
                                                <div class="col-sm-8">
                                                    <input type="text" class="form-control" name="closing" ng-model="Receipt.TRTP_ClosingKM" allow-pattern="\d" placeholder="Enter Closing K.M" maxlength="5" required>
                                                    <div class="error-messages" ng-if="interacted1(myForm1.closing)" ng-messages="myForm1.closing.$error">
                                                        <div ng-message="required">Please Enter Closing K.M</div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-sm-6">
                                            <div class="form-group">
                                                <label class="control-label col-sm-4">Amount Received:<span style="color:Red">*</span></label>
                                                <div class="col-sm-8">
                                                    <input type="text" class="form-control" name="amtrecvd" ng-model="Receipt.TRTPP_PaidAmount" allow-pattern="(\d|[.])" maxlength="10" placeholder="Enter Amount Received">
                                                    <div class="error-messages" ng-if="interacted3(myForm3.amtrecvd)" ng-messages="myForm3.amtrecvd.$error">
                                                        <div ng-message="required">Please Enter Amount Received</div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-sm-6">
                                            <div class="form-group">
                                                <label class="control-label col-sm-4">Receipt No.:<span style="color:Red">*</span></label>
                                                <div class="col-sm-8">
                                                    <input type="text" class="form-control" name="receiptno" ng-model="Receipt.TRTPP_ReceiptNo"  placeholder="Enter Receipt No" required>
                                                    <div class="error-messages" ng-if="interacted3(myForm3.receiptno)" ng-messages="myForm3.receiptno.$error">
                                                        <div ng-message="required">Receipt No Required</div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-sm-6">
                                            <div class="form-group">
                                                <label class="control-label col-sm-4">Mode Of Payment:<span style="color:Red">*</span></label>
                                                <div class="col-sm-8">
                                                        <div class="well">
                                                            <label class="radio-inline">
                                                                <input type="radio" id="1" value="Cash" name="paymentmode" ng-model="Receipt.TRTPP_PaymentMode"  required />
                                                                <span class="lbl padding-8">Cash</span>
                                                            </label>
                                                            <label class="radio-inline">
                                                                <input type="radio" id="2" value="Cheque" name="paymentmode" ng-model="Receipt.TRTPP_PaymentMode"  required />
                                                                <span class="lbl padding-8">Cheque</span>
                                                            </label>
                                                            <label class="radio-inline">
                                                                <input type="radio" id="2" value="DD" name="paymentmode" ng-model="Receipt.TRTPP_PaymentMode"  required />
                                                                <span class="lbl padding-8">DD</span>
                                                            </label>
                                                            <label class="radio-inline">
                                                                <input type="radio" id="2" value="OnlinePayment" name="paymentmode" ng-model="Receipt.TRTPP_PaymentMode"  required />
                                                                <span class="lbl padding-8">Online Payment</span>
                                                            </label>
                                                            <label class="radio-inline">
                                                                <input type="radio" id="2" value="Paytm" name="paymentmode" ng-model="Receipt.TRTPP_PaymentMode"  required />
                                                                <span class="lbl padding-8">Paytm</span>
                                                            </label>
                                                            <div class="error-messages" ng-if="interacted3(myForm3.paymentmode)" ng-messages="myForm.paymentmode.$error">
                                                                <div ng-message="required">Please Select Mode Of Payment</div>
                                                            </div>
                                                        </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-sm-6">
                                            <div class="form-group">
                                                <label class="control-label col-sm-4">Receipt Date:<span style="color:Red">*</span></label>
                                                <div class="col-sm-8">
                                                    <md-datepicker name="receiptdte" ng-model="Receipt.TRTPP_ReceiptDate" required md-placeholder="Select Date" onkeydown="return false"></md-datepicker>
                                                    <div class="error-messages" ng-if="interacted3(myForm3.receiptdte)" ng-messages="myForm3.receiptdte.$error">
                                                        <div ng-message="required">Please Select Receipt Date</div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <hr />
                                    <div class="text-center">
                                        <md-button type="submit" ng-disabled="Receipt.TRTP_BillGeneratedFlag" class="md-raised md-primary" ng-click="bill()">
                                            <i class="fa fa-save" aria-hidden="true"></i> Update &amp; Generate Bill
                                        </md-button>
                                        <md-button type="button" class="md-raised md-warn" ng-click="cancelupdate()">
                                            <i class="fa fa-times" aria-hidden="true"></i> Cancel
                                        </md-button>
                                    </div>
                                </div>

                            </md-content>
                        </form>
                        <div class="box box-primary" ng-show="genrecSearchResult.length > 0 && Receipt.TRTP_BillGeneratedFlag==true">
                            <div class="box-header with-border">
                                <h3 class="box-title">Receipt Details</h3>
                                <div class="box-tools pull-right">
                                    <button type="button" class="btn btn-box-tool" data-widget="collapse" data-placement="bottom" data-toggle="tooltip" title="collapsible"><i class="fa fa-minus"></i></button>
                                </div>
                            </div>
                            <!-- /.box-header 
                            <div class="box-body">
                                <div class="row">
                                    <!--<div class="col-sm-4">
                        <div class="form-group">
                            <label class="control-label">
                                <b> Total Grid Records :</b>
                                <label class="badge">
                                    {{presentCountgrid}}
                                </label>
                            </label>
                        </div>
                    </div>
                    <div class="col-sm-4">
                        <div class="form-group" ng-if="searchValue!=''">
                            <label class="control-label">
                                <b>Total Records Searched : </b>
                                <label class="badge">
                                    {{filterValue1.length}}
                                </label>
                            </label>
                        </div>
                    </div>
                                    <div class="col-sm-4 pull-right">
                                        <div class="form-group">
                                            <div class="input-group">

                                                <input class="form-control" ng-model="searchBill" type="text" placeholder="search here...">
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <table class="table table-hover table-responsive table-bordered text-center">
                                    <thead>
                                        <tr>
                                            <th><a href="">SL.No.</a></th>
                                            <th><a href="" ng-click="sort1('trtoB_Date')">Opening K.M</a></th>
                                            <th><a href="" ng-click="sort1('trtoB_BookingDate')">Closing K.M</a> </th>
                                            <th><a href="" ng-click="sort1('trtoB_BookingId')">Bill No.</a></th>
                                            <th><a href="" ng-click="sort1('trhG_HirerGroup')">Bill Date</a></th>
                                            <th><a href="" ng-click="sort1('trtoB_HirerName')">BillAmount</a></th>
                                            <th><a href="" ng-click="sort1('trtoB_ConatctPerName')">Discount Amount</a></th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr ng-repeat="user in genrecSearchResult |filter : searchBill|orderBy:sortKey1:sortReverse1" ng-class-odd="'odd'">
                                            <td>{{$index+1}}</td>
                                            <td>{{user.trtP_OpeningKM}}</td>
                                            <td>{{user.trtP_ClosingKM}}</td>
                                            <td>{{user.trtP_BillNo}}</td>
                                            <td>{{user.trtP_BillDate}}</td>
                                            <td>{{user.trtP_BillAmount}}</td>
                                            <td>{{user.trtP_DiscountAmount}}</td>
                                            <!--<td class="text-center">
                                <a class="text-aqua" href="" ng-click="edit(user)" data-placement="bottom" data-toggle="tooltip" title="Edit">
                                    <i class="fa fa-pencil-square-o" aria-hidden="true"></i>
                                </a>
                                |
                                &nbsp;
                                <span ng-if="user.trmH_ActiveFlg === false">
                                    <a href="" ng-click="deactive(user)"
                                       class="text-green" data-placement="bottom" data-toggle="tooltip" title="Activate">
                                        <i> Activate </i>
                                    </a>
                                </span>
                                <span ng-if="user.trmH_ActiveFlg === true">
                                    <a href="" ng-click="deactive(user)"
                                       class="text-danger" data-placement="bottom" data-toggle="tooltip" title="Deactivate">
                                        <i> Deactivate</i>
                                    </a>
                                </span>
                            </td>
                                        </tr>
                                    </tbody>
                                </table>

                                <dir-pagination-controls max-size="5"
                                                         direction-links="true"
                                                         boundary-links="true">
                                </dir-pagination-controls>
                            </div>
                        </div>
                    </md-tab>-->
                </md-tabs>
            </md-content>
        </div>
    </div>
    <div id="myModal" class="modal fade" role="dialog" data-backdrop="">
        <div class="modal-dialog modal-lg">
            <!-- Modal content-->
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-ng-click="removeall()"><i class="fa fa-times text-white" aria-hidden="true"></i></button>
                    <h4 class="modal-title text-white">Generate Bill</h4>
                </div>
                <div class="modal-body">
                    <form class="form-horizontal" role="form" name="myForm2" novalidate>
                        <div class="row">
                            <div class="col-sm-4">
                                <div class="form-group">
                                    <label class="control-label col-sm-4">Trip Id:<span style="color:Red">*</span></label>
                                    <div class="col-sm-8">
                                       <input type="text" name="id" ng-model="id" class="form-control" ng-disabled="true" required>
                                        <div class="error-messages" ng-if="interacted2(myForm2.id)" ng-messages="myForm2.id.$error">
                                            <div ng-message="required">Please Enter Trip Id</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-4">
                                <div class="form-group">
                                    <label class="control-label col-sm-4">Bill No:<span style="color:Red">*</span></label>
                                    <div class="col-sm-8">
                                        <input type="text" name="billno" ng-model="TRTP_BillNo" class="form-control" allow-pattern="\d" maxlength="25" required placeholder="Enter Bill No" ng-disabled="true">
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-4">
                                <div class="form-group">
                                    <label class="control-label col-sm-4">Bill Date:<span style="color:Red">*</span></label>
                                    <div class="col-sm-8">
                                        <md-datepicker name="billdate" ng-model="TRTP_BillDate" required md-placeholder="Select Date" onkeydown="return false"></md-datepicker>
                                        <div class="error-messages" ng-if="interacted2(myForm2.billdate)" ng-messages="myForm2.billdate.$error">
                                            <div ng-message="required">Please Select Bill Date</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <br />
                        <div class="row">
                            <div class="col-sm-6">
                                <div class="form-group">
                                    <label class="control-label col-sm-4">Bill Amount:<span style="color:Red">*</span></label>
                                    <div class="col-sm-8">
                                        <input type="text" name="billamt" ng-model="TRTP_BillAmount" class="form-control" required placeholder="Enter Bill Amount" allow-pattern="(\d|[.])" maxlength="100" ng-disabled="true">
                                        <div class="error-messages" ng-if="interacted2(myForm2.billamt)" ng-messages="myForm2.billamt.$error">
                                            <div ng-message="required">Please Enter Bill Amount</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <!--<div class="col-sm-6">
                                <div class="form-group">
                                    <label class="control-label col-sm-4">Discount Amount:<span style="color:Red">*</span></label>
                                    <div class="col-sm-8">
                                        <input type="text" name="disamt" ng-model="TRTP_DiscountAmount" class="form-control" allow-pattern="(\d|[.])" maxlength="10" required placeholder="Enter Discount Amount">
                                        <div class="error-messages" ng-if="interacted2(myForm2.disamt)" ng-messages="myForm2.disamt.$error">
                                            <div ng-message="required">Please Enter Discount Amount</div>
                                        </div>
                                    </div>
                                </div>
                            </div>-->
                        </div>
                        </form>
</div>
                <div class="modal-footer">
                    <md-button type="submit" class="md-raised md-primary" ng-click="update()">Submit</md-button>
                </div>
            </div>
        </div>
    </div>
</section>
<div class="modal fade" id="myModal31" role="dialog">
    <div class="modal-dialog modal-lg">
      
        <!-- Modal content-->
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">
                    <i class="fa fa-times text-white" aria-hidden="true"></i>
                </button>
                <h4 class="modal-title text-white">Trip Sheet Details</h4>
            </div>
            <div class="modal-body" id="printareaId">
               
                <div ng-repeat="rpt in tripsheetprint">
                    <!--style="page-break-after:always;"-->
                    <div class="col-sm-12 text-center margin-bottom-50">
                        <label class="col-sm-12 text-center"><b style="font-size:17px">{{inst_name|uppercase}}</b></label>
                        <label class="col-sm-12 text-center"><b style="font-size:14px">{{add}},{{add1}},{{city}}-{{pin}}</b></label>
                    </div>
                    <div class="text-center"><b>TRIP KILOMETER DETAILS</b></div>
                    <table class="table table-responsive table-bordered margin-top-10">

                        <tbody>
                            <tr class="text-left">
                                <td class="text-left"><b>BOOKED BY :</b> {{rpt.TRTP_HirerName}}</td>
                                <!--<td>{{rpt.TRTP_HirerName}}</td>-->
                                <td><b>PICKUP LOCATION :</b>{{rpt.TRTP_PickUpLocation}}</td>
                                <!--<td>{{rpt.TRTP_PickUpLocation}}</td>-->
                            </tr>
                            <tr class="text-left">
                                <td><b>BOOKING DATE :</b>{{rpt.TRTP_BookingDate|date:'dd/MM/yyyy'}}</td>
                                <!--<td>{{rpt.TRTP_BookingDate|date:'dd/MM/yyyy'}}</td>-->

                                <td><b>PICKUP DATE / TIME :</b>{{rpt.TRTP_TripFromDate |date:'dd/MM/yyyy'}} &nbsp; {{rpt.TRTP_FromTime}}</td>
                                <!--<td>{{rpt.TRTP_TripFromDate}} &nbsp; {{rpt.TRTP_FromTime}}</td>-->

                            </tr>
                            <tr class="text-left">
                                <td><b>DRIVER'S NAME :</b> {{rpt.TRMD_DriverName}}</td>
                                <!--<td>{{rpt.TRMD_DriverName}}</td>-->
                                <td><b>DROP LOCATION :</b> {{rpt.TRTP_DropLocation}}</td>
                                <!--<td>{{rpt.TRTP_DropLocation}}</td>-->

                            </tr>
                            <tr class="text-left">
                                <td><b>VEHICLE NO. :</b> {{rpt.TRMV_VehicleNo}}</td>
                                <!--<td>{{rpt.TRMV_VehicleNo}}</td>-->
                                <td><b>DROP DATE / TIME :</b> {{rpt.TRTP_TripToDate |date:'dd/MM/yyyy'}} &nbsp; {{rpt.TRTP_ToTime}}</td>
                                <!--<td>{{rpt.TRTP_TripToDate}} &nbsp; {{rpt.TRTP_ToTime}}</td>-->
                            </tr>
                            <tr class="text-left">
                                <td colspan="2">
                                    <b>TRIP ADDRESS :</b> {{rpt.TRTP_TripAddress}}
                                </td>
                            </tr>
                        </tbody>
                       
                    </table>
                    <table class="table table-responsive table-bordered">
                        <tbody>
                            <tr>
                                <td><b>OPENING K.M.</b></td>
                                <td><b>CLOSING K.M</b></td>
                                <td><b>TOTAL K.M</b></td>

                            </tr>
                            <tr>
                                <td>
                                    <span ng-if="rpt.TRTP_ClosingKM==0">
                                        &nbsp; &nbsp;
                                    </span>
                                    <span ng-if="rpt.TRTP_ClosingKM!=0">
                                        {{rpt.TRTP_OpeningKM}}
                                    </span>
                                </td>
                                <td>
                                    <span ng-if="rpt.TRTP_ClosingKM==0">
                                        &nbsp; &nbsp;
                                    </span>
                                    <span ng-if="rpt.TRTP_ClosingKM !=0">
                                        {{rpt.TRTP_ClosingKM}}
                                    </span>
                                </td>
                                <td>
                                    <span ng-if="rpt.TRTP_ClosingKM==0">
                                        &nbsp; &nbsp;
                                    </span>
                                    <span ng-if="rpt.TRTP_ClosingKM!=0">
                                        {{rpt.NET_KM}}
                                    </span>
                                </td>
                            </tr>
                            <tr>
                                <td colspan="3" style="height:70px;vertical-align:bottom" valign="bottom"><label style="float:left;padding-left:60px"> Manager's Signature</label><label style="float:right;padding-right:60px"> User's Signature</label></td>
                            </tr>
                        </tbody>
                    </table>
                    <br />
                    <br />
                    <br />
                </div>
              
            </div>
            <div class="modal-footer">
                <button class="btn btn-primary" ng-click="rprint();">print</button>
                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
            </div>
        </div>

    </div>
</div>


<div class="modal fade" id="myModalbill" role="dialog" >
    <div class="modal-dialog modal-lg">
        <link href="../../../../../css/print/trnRecieptprint.css" rel="stylesheet" />
        <!-- Modal content-->
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">
                    <i class="fa fa-times text-white" aria-hidden="true"></i>
                </button>
                <h4 class="modal-title text-white">Bill Details</h4>
            </div>
            <div class="modal-body" id="printareaId1">
                <div class="col-sm-12 text-center" style="margin-top:50px">
                    <label class="col-sm-12 text-center"><b style="font-size:17px">{{inst_name|uppercase}}</b></label>
                    <label class="col-sm-12 text-center"><b style="font-size:14px">{{add}},{{add1}},{{city}}-{{pin}}</b></label>
                </div>
                <div class="col-sm-12 text-center" style="margin-top:10px"><b>HIRE BILL</b></div>
                <table class="table table-responsive table-bordered" style="margin-top:10px">

                    <tbody>
                        <tr>
                            <td>Bill NO.</td>
                            <td>{{recno}}</td>
                            <td>Date</td>
                            <td>{{recnodate|date:'dd/MM/yyyy'}}</td>
                        </tr>
                        <tr ng-repeat="st in printbilldata">
                            <td>Vehicle NO</td>
                            <td>{{st.TRMV_VehicleNo}}</td>
                            <td>Driver Name</td>
                            <td>{{st.TRMD_DriverName}}</td>
                        </tr>
                        <tr>
                            <td>Booked By</td>
                            <td>{{hirename}}</td>
                            <td>Opening Time</td>
                            <td><span ng-if="openingtime==null"> --
                                </span>
                                <span ng-if="openingtime!=null">
                                    {{openingtime}}
                                </span></td>
                        </tr>
                        <tr>
                            <td>Booked Date</td>
                            <td colspan="3" class="text-left">{{bookeddate|date:'dd/MM/yyyy'}}</td>

                        </tr>
                        <tr>
                            <td>Trip Location </td>
                            <td colspan="3" class="text-left">{{triploc}}</td>

                        </tr>
                        <tr>
                            <td>Purpose </td>
                            <td colspan="3" class="text-left">{{trippurpose}}</td>

                        </tr>
                        <tr>
                            <td>Required Date </td>
                            <td colspan="3" class="text-left">{{reqdate|date:'dd/MM/yyyy'}} &nbsp; &nbsp; TO &nbsp; &nbsp; {{reqdateto|date:'dd/MM/yyyy'}}</td>

                        </tr>

                    </tbody>
                </table>

                <table class="table table-responsive table-bordered">
                    <tbody>
                        <tr>
                            <td><b>Vehicle NO </b></td>
                            <td><b>Opening K.M</b></td>
                            <td><b>Closing K.M</b></td>
                            <td><b>NET K.M    </b></td>
                            <td><b>Rate/K.M   </b></td>
                            <td><b>Bill Amount  </b></td>

                        </tr>
                        <tr ng-repeat="st1 in temparray">
                            <td>{{st1.TRMV_VehicleNo}}</td>
                            <td>{{st1.TRTP_OpeningKM}}</td>
                            <td>{{st1.TRTP_ClosingKM}}</td>
                            <td>{{st1.NET_KM}}</td>
                            <td>{{st1.TRHR_RatePerKM}}</td>
                            <td>{{st1.billamount }}</td>
                        </tr>
                        <tr ng-repeat="tt in ttarray">
                            <td><b>TOTAL</b></td>
                            <td><b>{{tt.opentotal}}</b></td>

                            <td><b>{{tt.closetotal}}</b></td>
                            <td><b>{{tt.nettotal}}</b></td>
                            <td><b>{{tt.ratetotal}}</b></td>
                            <td><b>{{tt.amttotal}}</b></td>
                        </tr>
                        <tr>
                            <td colspan="6"><b>(RUPEES {{amtinwords|uppercase}} ONLY)</b> </td>

                        </tr>

                        <tr>
                            <td colspan="3" style="height:70px;vertical-align:bottom" valign="bottom"> Transport Incharge</td>
                            <td colspan="3" style="height:70px;vertical-align:bottom" valign="bottom">Manager </td>

                        </tr>
                    </tbody>
                </table>



            </div>
            <div class="modal-footer">
                <button class="btn btn-primary" ng-click="rprint1();">print</button>
                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
            </div>
        </div>

    </div>
</div>