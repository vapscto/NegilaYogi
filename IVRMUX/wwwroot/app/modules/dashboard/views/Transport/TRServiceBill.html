
<section class="content">
    <div class="box box-primary" data-ng-init="BindData()">
        <div class="box-header with-border">
            <h3 class="box-title">Vehicle Service Bill</h3>
            <div class="box-tools pull-right">
                <button type="button" class="btn btn-box-tool" data-widget="collapse"><i class="fa fa-minus"></i></button>
            </div>
        </div>
        <form class="form-horizontal" role="form" name="myForm1" novalidate>
            <div class="box-body">
                <div class="row">
                    <div class="col-sm-6">
                        <div class="form-group">
                            <label class="control-label col-sm-4">Vehicle No:<span style="color:Red">*</span></label>
                            <div class="col-sm-8">
                                <!--<select class="form-control" id="sel1" name="ayr123" ng-model="TRMV_Id" ng-change="findservice()" required>
                                    <option value="0">ALL</option>
                                    <option ng-repeat="optlst1 in vehicaldetails" value="{{optlst1.trmV_Id}}" ng-selected="{{optlst1.trmV_Id == TRMV_Id}}">
                                        {{optlst1.trmV_VehicleNo}}
                                    </option>
                                </select>
                                <div class="error-messages" ng-if="interacted(myForm.ayr123)" ng-messages="myForm.ayr123.$error">
                                    <div ng-message="required">Please Select Vehical No</div>
                                </div>-->

                                <ui-select id="sel1111" name="studentname111" ng-model="$parent.TRMV_Id" theme="bootstrap" ng-change="findservice()" ng-keyup="searchfilter1($select);" title="Select Vehicle No.">
                                    <!--$parent.LMB_Id--> <!--ng-change="get_bookdetails($parent.TRSE_Id)"-->
                                    <ui-select-match ng-trim="false" placeholder="Select or search Vehicle No. in the list...">{{$select.selected.trmV_VehicleNo}}</ui-select-match>
                                    <ui-select-choices repeat="option in vehicaldetails | filter: $select.search " value="{{option.trmV_Id}}" ng-selected="{{option.Selected == true}}">
                                        <div ng-bind-html="option.trmV_VehicleNo | highlight: $select.search"></div>
                                    </ui-select-choices>
                                </ui-select>
                            </div>
                        </div>

                    </div>
                    <!--<div class="col-sm-6">
                        <div class="form-group">
                            <label class="control-label col-sm-4">Driver Name:<span style="color:Red">*</span></label>
                            <div class="col-sm-8">
                                <select class="form-control" id="sel11" name="dri" ng-model="TRMD_Id" required>
                                    <option value="">--Select--</option>
                                    <option ng-repeat="optlst11 in driverdata" value="{{optlst11.trmD_Id}}" ng-selected="{{optlst11.Selected == true}}">
                                        {{optlst11.trmD_DriverName}}
                                    </option>
                                </select>
                                <div class="error-messages" ng-if="interacted(myForm.dri)" ng-messages="myForm.dri.$error">
                                    <div ng-message="required">Please Select Driver Name</div>
                                </div>
                            </div>
                        </div>
                    </div>-->
                    <div class="col-sm-6">
                        <div class="form-group">
                            <label class="control-label col-sm-4">Service Station Name:<span style="color:Red">*</span></label>
                            <div class="col-sm-8">
                                <select class="form-control" id="sel1" name="sers" ng-model="TRMSST_Id"  ng-change="findservice()" required>
                                    <option value="0">ALL</option>
                                    <option ng-repeat="optlst12 in servnamelist" value="{{optlst12.trmssT_Id}}" ng-selected="{{optlst12.trmssT_Id == TRMSST_Id}}">
                                        {{optlst12.trmssT_ServiceStationName}}
                                    </option>
                                </select>
                                <div class="error-messages" ng-if="interacted(myForm.sers)" ng-messages="myForm.sers.$error">
                                    <div ng-message="required">Please Select Service Station Name</div>
                                </div>
                            </div>
                        </div>

                    </div>
                </div>

                <div class="row">
                    <div class="col-sm-6 col-sm-offset-3">
                        <div class="form-group">
                            <label class="control-label col-sm-4">Service No.:<span style="color:Red">*</span></label>
                            <div class="col-sm-8">
                                <ui-select id="sel111" name="studentname11" ng-model="$parent.TRSE_Id" theme="bootstrap" ng-change="get_srvdetails($parent.TRSE_Id)" ng-keyup="searchfilter($select);" title="Select Service No.">
                                    <!--$parent.LMB_Id--> <!--ng-change="get_bookdetails($parent.TRSE_Id)"-->
                                    <ui-select-match ng-trim="false" placeholder="Select or search Service No. in the list...">{{$select.selected.trsE_ServiceRefNo}}</ui-select-match>

                                    <ui-select-choices repeat="option in servicenolist | filter: $select.search " value="{{option.trsE_Id}}" ng-selected="{{option.Selected == true}}">
                                        <div ng-bind-html="option.trsE_ServiceRefNo | highlight: $select.search"></div>
                                    </ui-select-choices>
                                </ui-select>
                                <label id="upnme" ng-show="updateshowlabel">{{updatename}}</label>
                            </div>
                        </div>
                    </div>
                </div>

            </div>






        </form>
    </div>




    <div class="box box-primary" ng-show="alldd==true">
        <div class="box-header with-border">
            <h3 class="box-title">Vehicle Service Bill Details</h3>
            <div class="box-tools pull-right">
                <button type="button" class="btn btn-box-tool" data-widget="collapse"><i class="fa fa-minus"></i></button>
            </div>
        </div>

        <form class="form-horizontal" role="form" name="myForm" novalidate>

            <div class="box-body">
                <div class="row">

                    <div class="col-sm-4">
                        <div class="form-group">
                            <label class="control-label col-sm-4">Service Date:<span style="color:Red">*</span></label>
                            <div class="col-sm-8">
                                <md-datepicker name="bkdate1" ng-model="TRSE_ServiceDate1" onkeydown="return false"></md-datepicker>

                            </div>
                        </div>
                    </div>
                    <div class="col-sm-5">
                        <div class="form-group">
                            <label class="control-label col-sm-4">Service Station:</label>
                            <div class="col-sm-8">
                                <label class="control-label col-sm-8">{{Station1}}</label>
                            </div>
                        </div>
                    </div>
                    <div class="col-sm-3">
                        <div class="form-group">
                            <label class="control-label col-sm-5">Vehicle No.:</label>
                            <div class="col-sm-8">
                                <label class="control-label col-sm-7">{{vehicleno1}}</label>

                            </div>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-sm-6">
                        <div class="form-group">
                            <label class="control-label col-sm-4">Problem Details:<span style="color:Red">*</span></label>
                            <div class="col-sm-8">
                                <textarea class="form-control" type="text" ng-model="TRSE_ProblemsListed1" name="address1" placeholder="Enter Problem Details" />
                                <div class="error-messages" ng-if="interacted(myForm.address1)" ng-messages="myForm.address1.$error">
                                    <div ng-message="required">Please Enter Problem Details</div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-sm-6">
                        <div class="form-group">
                            <label class="control-label col-sm-4">Service Details:<span style="color:Red">*</span></label>
                            <div class="col-sm-8">
                                <textarea class="form-control" type="text" ng-model="TRSE_ServiceDetails1" name="address2" required placeholder="Enter Service Details" />
                                <div class="error-messages" ng-if="interacted(myForm.address2)" ng-messages="myForm.address2.$error">
                                    <div ng-message="required">Please Enter Service Details</div>
                                </div>
                            </div>
                        </div>
                    </div>

                </div>

            </div>




            <label class="checkbox-inline">
                <input type="checkbox" ng-model="additems" name="otp">
                <span class="lbl padding-8"><b>ADD ITEMS</b></span>
            </label>



            <div ng-show="additems==true">
                <div class="box-header with-border">
                    <h3 class="box-title">Items Details</h3>
                </div>
                <div class="box-body">
                    <table class="table table-hover table-responsive table-bordered text-center">
                        <thead>
                            <tr>
                                <th>Sl.No</th>
                                <th>
                                    ITEM &nbsp;<span style="color:red;">*</span>
                                </th>
                                <th>
                                    QTY&nbsp;<span style="color:red;">*</span>
                                </th>

                                <th>
                                    AMOUNT
                                </th>
                                <th>Type</th>
                                <th>Discount(%)</th>
                                <th>Discount Amt.</th>
                                <th>
                                    Total  Amt.
                                </th>

                                <th>
                                    PROBLEMS
                                </th>
                                <th>
                                    SERVICE
                                </th>
                                <th>
                                    REMARKS
                                </th>
                                <th>
                                    Add More
                                </th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr data-ng-repeat="vehicle in vehicles  track by $index">
                                <td>{{$index+1}}</td>
                                <td>
                                    <input class="form-control" type="text" ng-model="vehicle.trseD_ItemsName" name="mobile{{$index}}" ng-required="additems==true" placeholder="Enter Item Name" ng-disabled="disableDriverallottment" />
                                    <div class="error-messages" ng-if="interacted(myForm['mobile'+$index])" ng-messages="myForm['mobile'+$index].$error">
                                        <div ng-message="required"> Enter Item Name</div>
                                    </div>
                                </td>


                                <td>
                                    <input class="form-control" type="text" ng-model="vehicle.trseD_Qty" allow-pattern="\d" maxlength="10" name="mobile1{{$index}}" ng-required="additems==true" placeholder="Enter Quantity" ng-disabled="disableDriverallottment" />
                                    <div class="error-messages" ng-if="interacted(myForm['mobile1'+$index])" ng-messages="myForm['mobile1'+$index].$error">
                                        <div ng-message="required"> Enter Quantity</div>
                                    </div>
                                </td>

                                <td>
                                    <input type="text" class="form-control" name="pendingbillamt1111" id="pendingbillamt1" ng-model="vehicle.trseD_Amount" ng-blur="typechange(vehicle)" />
                                    <div class="error-messages" ng-if="interacted(myForm.pendingbillamt1111)" ng-messages="myForm.pendingbillamt1111.$error">
                                        <div ng-message="required">Please Enter Amount </div>
                                    </div>
                                </td>
                                <td>
                                    <select class="form-control" id="sel111" ng-model="vehicle.fsC_ConcessionType" ng-change="typechange(vehicle)">
                                        <option value=""> Select </option>
                                        <option value="Amount"> Amount </option>
                                        <option value="Percent"> Percent </option>
                                    </select>
                                </td>
                                <td>
                                    <input type="text" class="form-control" name="pendingbillamt1111" id="pendingbillamt1" ng-blur="changeper(vehicle)" ng-model="vehicle.TRTP_DiscountAmountpe" ng-disabled="vehicle.fsC_ConcessionType !='Percent'" />
                                    <div class="error-messages" ng-if="interacted(myForm.pendingbillamt1111)" ng-messages="myForm.pendingbillamt1111.$error">
                                        <div ng-message="required">Please Enter </div>
                                    </div>
                                </td>

                                <td>
                                    <input type="text" class="form-control" name="pendingbillamt11" id="pendingbillamt1" ng-model="vehicle.trseD_TotalDiscount" ng-disabled="vehicle.fsC_ConcessionType !='Amount'" ng-blur="changedisc(vehicle)" />
                                    <div class="error-messages" ng-if="interacted(myForm.pendingbillamt1)" ng-messages="myForm.pendingbillamt1.$error">
                                        <div ng-message="required">Please Enter Discount</div>
                                    </div>
                                </td>
                                <td>
                                    <input type="text" class="form-control" name="abillamt" id="pendingbillamt" ng-model="vehicle.trseD_TotalAmount" ng-blur="changedisc1(vehicle)" />
                                    <div class="error-messages" ng-if="interacted(myForm.abillamt)" ng-messages="myForm.abillamt.$error">
                                        <div ng-message="required">Please Enter Amount</div>
                                    </div>
                                </td>

                                <td>

                                    <textarea class="form-control" type="text" ng-model="vehicle.trseD_ProblemsListed" name="mobile3{{$index}}" placeholder="Enter Problems" ng-disabled="disableDriverallottment">  </textarea>
                                    <div class="error-messages" ng-if="interacted(myForm['mobile3'+$index])" ng-messages="myForm['mobile3'+$index].$error">
                                        <div ng-message="required"> Enter Problems</div>
                                    </div>
                                </td>
                                <td>
                                    <textarea class="form-control" type="text" ng-model="vehicle.trseD_ServiceDetails" name="mobile4{{$index}}" placeholder="Enter Service" ng-disabled="disableDriverallottment">  </textarea>
                                    <div class="error-messages" ng-if="interacted(myForm['mobile4'+$index])" ng-messages="myForm['mobile4'+$index].$error">
                                        <div ng-message="required"> Enter Service Details</div>
                                    </div>
                                </td>
                                <td>

                                    <textarea class="form-control" type="text" ng-model="vehicle.trseD_Remarks" name="mobile2{{$index}}" placeholder="Enter Remarks" ng-disabled="disableDriverallottment">  </textarea>
                                    <div class="error-messages" ng-if="interacted(myForm['mobile2'+$index])" ng-messages="myForm['mobile2'+$index].$error">
                                        <div ng-message="required"> Enter Remarks</div>
                                    </div>
                                </td>
                                <td>

                                    <span ng-show="$last" class="input-group-addon">
                                        <!--ng-hide="vehicles.length > 4"-->
                                        <a href="" ng-click="addNewVehicle()" style="color:#000;">
                                            <i class="fa fa-plus"></i>
                                        </a>
                                    </span>
                                    <span class="input-group-addon" id="remove" ng-hide="vehicles.length ==1">
                                        <a href="" ng-click="removeVehicle($index)" style="color:#000;">
                                            <i class="fa fa-minus" aria-hidden="true"></i>
                                        </a>
                                    </span>


                                </td>
                            </tr>
                        </tbody>
                    </table>

                </div>
            </div>
            <div class="box-body ">
                <div class="row">
                    <div class="col-sm-4">
                        <div class="form-group">
                            <label class="control-label col-sm-3">Bill Date:<span style="color:Red">*</span></label>
                            <div class="col-sm-9">
                                <md-datepicker name="bkdate1" ng-model="TRSE_BillDate" onkeydown="return false"></md-datepicker>
                            </div>
                        </div>
                    </div>
                    <div class="col-sm-4">
                        <div class="form-group">
                            <label class="control-label col-sm-3">Bill No.:<span style="color:Red">*</span></label>
                            <div class="col-sm-9">
                                <input type="text" class="form-control" value="{{TRSE_BillNo}}" name="receiptno" ng-model="TRSE_BillNo" required ng-blur="duprecpcheck()"> <!--ng-disabled="recdisable==true"-->
                                <div class="error-messages" ng-if="interacted(myForm.receiptno)" ng-messages="myForm.receiptno.$error">
                                    <div ng-message="required">Bill No Required</div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-sm-4">
                        <div class="form-group">
                            <label class="control-label col-sm-6">Purchase Bill Amount:<span style="color:Red">*</span></label>
                            <div class="col-sm-6">
                                <input type="text" class="form-control" name="amt" ng-model="TRSE_ItemsCost" placeholder="Enter Amount" allow-pattern="(\d|[.])" maxlength="100" required ng-blur="mainamtchange()">
                                <div class="error-messages" ng-if="interacted(myForm.amt)" ng-messages="myForm.amt.$error">
                                    <div ng-message="required">Enter Amount</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-sm-4">
                        <div class="form-group">
                            <label class="control-label col-sm-6">Labour Bill Amount:<span style="color:Red">*</span></label>
                            <div class="col-sm-6">
                                <input type="text" class="form-control" name="amt1" ng-model="TRSE_LabourCharges" placeholder="Enter Amount" allow-pattern="(\d|[.])" maxlength="100" required ng-blur="mainamtchange()">
                                <div class="error-messages" ng-if="interacted(myForm.amt1)" ng-messages="myForm.amt1.$error">
                                    <div ng-message="required">Enter Amount</div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-sm-5">
                        <div class="form-group">
                            <label class="control-label col-sm-2">TDS(%):<span style="color:Red">*</span></label>
                            <div class="col-sm-3">
                                <input type="text" class="form-control" name="amt2" ng-model="TRSE_TDSValue" placeholder="Enter TDS" allow-pattern="(\d|[.])" maxlength="10" ng-blur="tdschange()" ng-disabled="TRSE_LabourCharges==0 || TRSE_LabourCharges==null || TRSE_LabourCharges==undefined">
                                <div class="error-messages" ng-if="interacted(myForm.amt2)" ng-messages="myForm.amt2.$error">
                                    <div ng-message="required">Enter TDS</div>
                                </div>
                            </div>
                            <label class="control-label col-sm-3">TDS Amt.:<span style="color:Red">*</span></label>
                            <div class="col-sm-4">
                                <input type="text" class="form-control" name="amt2123" ng-model="tdssamt" placeholder="TDS amount" allow-pattern="(\d|[.])" maxlength="10"  ng-disabled="true">
                                <div class="error-messages" ng-if="interacted(myForm.amt2123)" ng-messages="myForm.amt2123.$error">
                                    <div ng-message="required">Enter TDS</div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-sm-3">
                        <div class="form-group">
                            <label class="control-label col-sm-6">Bill Amount:<span style="color:Red">*</span></label>
                            <div class="col-sm-6">
                                <input type="text" class="form-control" name="amt1" ng-model="TRSE_TotalBillValue" placeholder="Enter Amount" allow-pattern="(\d|[.])" maxlength="100" required ng-disabled="true">
                                <div class="error-messages" ng-if="interacted(myForm.amt1)" ng-messages="myForm.amt1.$error">
                                    <div ng-message="required">Enter Amount</div>
                                </div>
                            </div>
                        </div>
                    </div>
                    </div>
                    <hr />
                <div class="row" >
                    <div class="col-sm-4">
                        <div class="form-group">
                            <label class="control-label col-sm-4">Type:</label>
                            <div class="col-sm-8">
                                <select class="form-control" id="sel111" ng-model="amttype" ng-change="typemainchange1()">
                                    <option value=""> Select </option>
                                    <option value="Amount"> Amount </option>
                                    <option value="Percent"> Percent </option>
                                </select>
                            </div>
                        </div>
                    </div>

                    <div class="col-sm-4">
                        <div class="form-group">
                            <label class="control-label col-sm-4">Discount (%):</label>
                            <div class="col-sm-8">
                                <input type="text" class="form-control" name="amt11" ng-model="TRTP_Discounprc" placeholder="Enter %" allow-pattern="(\d|[.])" maxlength="10" ng-required="searchradio=='trip' && amttype=='Percent' " ng-blur="trippercchange()" ng-disabled="amttype!='Percent'">
                                <div class="error-messages" ng-if="interacted1(myForm123.amt155551)" ng-messages="myForm123.amt11.$error">
                                    <div ng-message="required">Enter data</div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-sm-4">
                        <div class="form-group">
                            <label class="control-label col-sm-4">Disc. Amount:</label>
                            <div class="col-sm-8">
                                <input type="text" class="form-control" name="amt11" ng-model="TRSE_TotalDiscount" placeholder="Enter Amount" allow-pattern="(\d|[.])" maxlength="101" ng-required="searchradio=='trip'" ng-blur="tripdiscchange()" ng-disabled="amttype!='Amount'">
                                <div class="error-messages" ng-if="interacted1(myForm123.amt11)" ng-messages="myForm123.amt11.$error">
                                    <div ng-message="required">Enter Amount</div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="col-sm-4">
                        <div class="form-group">
                            <label class="control-label col-sm-6"><b>Total Bill Amount:</b><span style="color:Red">*</span></label>
                            <div class="col-sm-6">
                                <input type="text" class="form-control" name="amt111111" ng-model="GrandTRSE_TotalBillValue" placeholder="Enter Amount" allow-pattern="(\d|[.])" maxlength="100" required ng-disabled="true">
                                <div class="error-messages" ng-if="interacted(myForm.amt111111)" ng-messages="myForm.amt111111.$error">
                                    <div ng-message="required">Enter Amount</div>
                                </div>
                            </div>
                        </div>
                    </div>

                </div>
                </div>
           
            <hr />
            
            <div class="text-center">
                <label class="control-label col-sm-3"> BILL AMOUNT:<b>{{ttlbillamount1}}</b></label>
                <label class="control-label col-sm-3"> TOTAL BILL DISCOUNT:<b>{{ttldiscamount1}}</b></label>
                <label class="control-label col-sm-3">TOTAL PAID AMOUNT: <b>{{totalpdamt1}}</b></label>
                <label class="control-label col-sm-3"> TOTAL BALANCE:<b>{{totalballance1}}</b></label>
           
            </div>
            <br />
            <hr />
            <div class="text-center">

                <input type="hidden" /><!--ng-model="TRSE_Id"-->
                <md-button type="submit" ng-disabled="form.$invalid" class="md-raised md-primary" ng-click="savedata()">
                    <i class="fa fa-save" aria-hidden="true"></i> Save Bill
                </md-button>
                <md-button type="button" class="md-raised md-warn" ng-click="clearid()">
                    <i class="fa fa-times" aria-hidden="true"></i> Cancel
                </md-button>

                <md-button type="button" class="md-raised md-primary" data-toggle="modal" data-target="#myModal31" data-backdrop="" ng-click="PayBill()" ng-disabled="totalballance1==0">
                    <i class="fa fa-credit-card" aria-hidden="true"></i> Pay
                </md-button>
            </div>

        </form>
    </div>

    <div class="box box-primary" ng-show="paymentlist.length > 0">
        <div class="box-header with-border">
            <h3 class="box-title">Paid Bill Details</h3>
            <div class="box-tools pull-right">
                <button type="button" class="btn btn-box-tool" data-widget="collapse" data-placement="bottom" data-toggle="tooltip" title="collapsible"><i class="fa fa-minus"></i></button>
            </div>
        </div>
        <!-- /.box-header -->
        
            <table class="table table-hover table-responsive table-bordered text-center">
                <thead>
                    <tr>
                        <th><a href="">SL.No.</a></th>

                        <th><a href="" ng-click="sort('trsE_BillNo')">BILL NO.</a> </th>

                        <th><a href="" ng-click="sort('trsE_BillDate')">BILL DATE</a></th>
                        <th><a href="" ng-click="sort('trseP_TransactionRefNo')">P.V. NO</a></th>
                        <th><a href="" ng-click="sort('trseP_PaymentDate')">P.V. DATE</a></th>
                        <th><a href="" ng-click="sort('trseP_Amount')">PAID AMOUNT</a></th>
                        <th>Action</th>
                    </tr>
                </thead>
                <tbody>
                    <tr ng-repeat="user in paymentlist">
                        <td>{{$index+1}}</td>
                        <td>{{user.trsE_BillNo}}</td>
                        <td>{{user.trsE_BillDate |date:'dd/MM/yyyy'}}</td>
                        <td>{{user.trseP_TransactionRefNo}}</td>
                        <td>{{user.trseP_PaymentDate |date:'dd/MM/yyyy'}}</td>
                        <td>{{user.trseP_Amount}}</td>
                        <td class="text-center">
                            <a href="javascript:void(0)" ng-click="delete_rec(user);">  <i class="fa fa-trash-o" style="color:red"></i></a>
                            <!--<a class="text-aqua" href="" ng-click="edit(user)" data-placement="bottom" data-toggle="tooltip" title="Edit">
        <i class="fa fa-pencil-square-o" aria-hidden="true"></i>
    </a>-->
                        </td>
                    </tr>
                </tbody>
            </table>
           
        </div>
   
</section>

<div class="modal fade" id="myModal31" role="dialog">
    <div class="modal-dialog modal-lg">
        <!-- Modal content-->
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">
                    <i class="fa fa-times text-white" aria-hidden="true"></i>
                </button>
                <h4 class="modal-title text-white">Payment Details For Service No.{{payservno}}</h4>
            </div>
            <div class="modal-body">
                <form class="form-horizontal" role="form" name="myForm123" novalidate>
                    <div class="box-body">

                        <div class="well">
                            <div class="row">
                                <div class="col-sm-6">
                                    <div class="form-group">
                                        <label class="control-label col-sm-4">Bill No.:<span style="color:Red">*</span></label>
                                        <div class="col-sm-8">
                                            <input type="text" class="form-control" value="{{paybillno}}" name="receiptnottt" ng-model="paybillno" ng-disabled="true"> <!--ng-disabled="recdisable==true"-->

                                        </div>
                                    </div>
                                </div>


                                <div class="col-sm-6">
                                    <div class="form-group">
                                        <label class="control-label col-sm-6">Bill Date:<span style="color:Red">*</span></label>
                                        <div class="col-sm-6">
                                            <md-datepicker name="bkdate1" ng-model="paybilldate" onkeydown="return false"></md-datepicker>

                                        </div>
                                    </div>
                                </div>

                            </div>

                            <div class="row">

                                <div class="col-sm-6">
                                    <div class="form-group">
                                        <label class="control-label col-sm-4">Bill Amount:<span style="color:Red">*</span></label>
                                        <div class="col-sm-8">
                                            <input type="text" class="form-control" name="receiptnottt" ng-model="ttlbillamount" ng-disabled="true"> <!--ng-disabled="recdisable==true"-->

                                        </div>
                                    </div>
                                </div>

                                <div class="col-sm-6">
                                    <div class="form-group">
                                        <label class="control-label col-sm-6">Discount Amount:<span style="color:Red">*</span></label>
                                        <div class="col-sm-6">
                                            <input type="text" class="form-control" name="receiptnottt" ng-model="ttldiscamount" ng-disabled="true"> <!--ng-disabled="recdisable==true"-->

                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-sm-6">
                                    <div class="form-group">
                                        <label class="control-label col-sm-4">Paid Amount:<span style="color:Red">*</span></label>
                                        <div class="col-sm-8">
                                            <input type="text" class="form-control" name="receiptnottt" ng-model="totalpdamt" ng-disabled="true"> <!--ng-disabled="recdisable==true"-->

                                        </div>
                                    </div>
                                </div>
                                <div class="col-sm-6">
                                    <div class="form-group">
                                        <label class="control-label col-sm-6">Balance Amount:<span style="color:Red">*</span></label>
                                        <div class="col-sm-6">
                                            <input type="text" class="form-control" name="receiptnottt" ng-model="totalballance" ng-disabled="true"> <!--ng-disabled="recdisable==true"-->

                                        </div>
                                    </div>
                                </div>

                            </div>
                        </div>


                        <br />
                        <hr />
                        <div class="row">
                            <!--<div class="col-sm-6">
                                <div class="form-group">
                                    <label class="control-label col-sm-4">Type:</label>
                                    <div class="col-sm-8">
                                        <select class="form-control" id="sel111" ng-model="amttype" ng-change="typemainchange1()">
                                            <option value=""> Select </option>
                                            <option value="Amount"> Amount </option>
                                            <option value="Percent"> Percent </option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-6">

                                <div class="form-group">
                                    <label class="control-label col-sm-4">Discount (%):</label>
                                    <div class="col-sm-8">
                                        <input type="text" class="form-control" name="amt11" ng-model="TRTP_Discounprc" placeholder="Enter Amount" allow-pattern="(\d|[.])" maxlength="10" ng-required="searchradio=='trip' && amttype=='Percent' " ng-blur="trippercchange()" ng-disabled="amttype!='Percent'">
                                        <div class="error-messages" ng-if="interacted1(myForm123.amt155551)" ng-messages="myForm123.amt11.$error">
                                            <div ng-message="required">Enter data</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-6">
                                <div class="form-group">
                                    <label class="control-label col-sm-4">Discount Amount:</label>
                                    <div class="col-sm-8">
                                        <input type="text" class="form-control" name="amt11" ng-model="TRSE_TotalDiscount" placeholder="Enter Amount" allow-pattern="(\d|[.])" maxlength="101" ng-required="searchradio=='trip'" ng-blur="tripdiscchange()" ng-disabled="amttype!='Amount'">
                                        <div class="error-messages" ng-if="interacted1(myForm123.amt11)" ng-messages="myForm123.amt11.$error">
                                            <div ng-message="required">Enter Amount</div>
                                        </div>
                                    </div>
                                </div>
                            </div>-->

                            <div class="col-sm-6">
                                <div class="form-group">
                                    <label class="control-label col-sm-4">Enter Amount:<span style="color:Red">*</span></label>
                                    <div class="col-sm-8">
                                        <input type="text" class="form-control" name="amt1w1" ng-model="TRSEP_Amount" placeholder="Enter Amount" allow-pattern="(\d|[.])" maxlength="10">
                                        <div class="error-messages" ng-if="interacted1(myForm123.amt1w1)" ng-messages="myForm123.amt1w1.$error">
                                            <div ng-message="required">Enter Amount</div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                        </div>
                        <div class="row">
                            <div class="col-sm-6">
                                <div class="form-group">
                                    <label class="control-label col-sm-4">P.V. No.:<span style="color:Red">*</span></label>
                                    <div class="col-sm-8">
                                        <input type="text" class="form-control" value="{{TRSEP_TransactionRefNo}}" name="receiptno" ng-model="TRSEP_TransactionRefNo" required ng-blur="duprecpcheck()"> <!--ng-disabled="recdisable==true"-->
                                        <div class="error-messages" ng-if="interacted1(myForm123.receiptno)" ng-messages="myForm123.receiptno.$error">
                                            <div ng-message="required">P.V. No Required</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-6">
                                <div class="form-group">
                                    <label class="control-label col-sm-4">P.V. Date:<span style="color:Red">*</span></label>
                                    <div class="col-sm-8">
                                        <md-datepicker name="receiptdte" ng-model="TRSEP_PaymentDate" required md-placeholder="Select Date" onkeydown="return false"></md-datepicker>
                                        <div class="error-messages" ng-if="interacted1(myForm123.receiptdte)" ng-messages="myForm123.receiptdte.$error">
                                            <div ng-message="required"> Select P.V. Date</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-sm-10">
                                <div class="form-group">
                                    <label class="control-label col-sm-4">Mode Of Payment:<span style="color:Red">*</span></label>
                                    <div class="col-sm-8">
                                        <div class="well">
                                            <label class="radio-inline" ng-repeat="val in modeOfPaymentList2">
                                                <input type="radio" value="{{val.ivrmmoD_ModeOfPayment}}" name="modofpay" ng-model="TRTPP_PaymentMode" ng-required="reqSelection" ng-click="modeofPayment1(TRTPP_PaymentMode)" />
                                                <span class="lbl padding-8">{{val.ivrmmoD_ModeOfPayment}}</span>
                                            </label>
                                            <div class="error-messages" ng-if="interacted1(myForm123.modofpay)" ng-messages="myForm123.modofpay.$error">
                                                <div ng-message="required">Please Select Mode Of Payment</div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row" ng-show="Cheque==true">
                            <div class="col-sm-6">
                                <div class="form-group">
                                    <label class="control-label col-sm-4">Cheque DD No:<span style="color:Red">*</span></label>
                                    <div class="col-sm-8">
                                        <input type="text" class="form-control" name="ddno" ng-model="TRTPP_ChequeDDNo" placeholder="Enter Cheque DD No" allow-pattern="\d" ng-required="Cheque==true">
                                        <div class="error-messages" ng-if="interacted1(myForm123.ddno)" ng-messages="myForm123.ddno.$error">
                                            <div ng-message="required">Please Enter Cheque DD No</div>
                                        </div>
                                    </div>

                                </div>
                            </div>
                            <div class="col-sm-6">
                                <div class="form-group">
                                    <label class="control-label col-sm-4">Cheque DD Date:<span style="color:Red">*</span></label>
                                    <div class="col-sm-8">
                                        <md-datepicker name="chequedate" ng-model="TRTPP_ChequeDDDate" ng-required="Cheque==true" md-placeholder="Select Date" onkeydown="return false"></md-datepicker>
                                        <div class="error-messages" ng-if="interacted1(myForm123.chequedate)" ng-messages="myForm123.chequedate.$error">
                                            <div ng-message="required">Please Select Cheque DD Date</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-6">
                                <div class="form-group">
                                    <label class="control-label col-sm-4">Bank Name :<span style="color:Red">*</span></label>
                                    <div class="col-sm-8">
                                        <input type="text" class="form-control" name="banknme" ng-model="TRTPP_BankName" allow-pattern="[A-Za-z ]" ng-required="Cheque==true" />
                                        <div class="error-messages" ng-if="interacted1(myForm123.banknme)" ng-messages="myForm123.banknme.$error">
                                            <div ng-message="required">Enter Bank Name</div>
                                        </div>
                                    </div>

                                </div>
                            </div>
                        </div>
                    </div>
                    <hr />
                    <div class="text-center">

                        <input type="hidden" /><!--ng-model="TRSE_Id"-->

                        <md-button type="button" class="md-raised md-primary"  ng-click="FinalPayBill()">
                            <i class="fa fa-credit-card" aria-hidden="true"></i> Pay
                        </md-button>
                        <md-button type="button" class="md-raised md-warn" ng-click="clearid()">
                            <i class="fa fa-times" aria-hidden="true"></i> Cancel
                        </md-button>
                    </div>

                </form>
            </div>
          
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                </div>
            </div>

        </div>
</div>