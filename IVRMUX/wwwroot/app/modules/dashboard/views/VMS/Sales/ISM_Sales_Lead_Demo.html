<style>
    button, input, select, textarea {
        font-family: inherit;
        font-size: inherit;
        line-height: inherit;
        width: 102px;
    }
</style>
<section class="content">
    <div class="well">
        <form class="form-horizontal ng-pristine ng-valid" role="form" name="myForm" method="post" ng-init="LoadData()" novalidate>
            <div class="box box-primary">
                <div class="box-header with-border">
                    <h3 class="box-title">Sales Lead Demo Creation</h3>
                    <div class="box-tools pull-right">
                        <button type="button" class="btn btn-box-tool" data-widget="collapse"><i class="fa fa-minus"></i></button>
                    </div>
                </div>
                <div class="box-body">
                    <div class="row">
                        <div class="col-sm-12">
                            <div class="col-sm-6">
                                <div class="form-group">
                                    <label class="control-label col-sm-3">Lead:<span style="color:Red">*</span></label>
                                    <div class="col-sm-8">
                                        <select class="form-control" ng-model="ISMSLE_Id" name="lead" required>
                                            <option value="">--Select Lead--</option>
                                            <option ng-repeat="lead in lead_list_dd" value="{{lead.ismslE_Id}}" ng-selected="{{lead.Selected==true}}">
                                                {{lead.ismslE_LeadName}}
                                            </option>
                                        </select>
                                    </div>
                                    <div class="col-sm-8 col-sm-offset-3 error-messages" ng-if="interacted(myForm.lead)" ng-messages="myForm.lead.$error">
                                        <div ng-message="required">Select Lead</div>
                                    </div>
                                </div>

                                <div class="form-group">
                                    <label class="control-label col-sm-3">Demo Type:<span style="color:Red">*</span></label>
                                    <div class="col-sm-8">
                                        <select class="form-control" ng-model="ISMSLEDM_DemoType" name="demotype" required>
                                            <option value="">--Select Demo Type--</option>
                                            <option value="Online">Online</option>
                                            <option value="Offline">Offline</option>
                                        </select>
                                    </div>
                                    <div class="col-sm-8 col-sm-offset-3 error-messages" ng-if="interacted(myForm.demotype)" ng-messages="myForm.demotype.$error">
                                        <div ng-message="required">Select Demo Type</div>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label class="control-label col-sm-3">Demo Given By:<span style="color:Red">*</span></label>
                                    <div class="col-sm-8">
                                        <select class="form-control" ng-model="HRME_Id" name="demogiven" required>
                                            <option value="">--Select Employee--</option>
                                            <option ng-repeat="emp in hrme_list_dd" value="{{emp.hrmE_Id}}" ng-selected="{{emp.Selected==true}}">
                                                {{emp.employeename}}
                                            </option>
                                        </select>

                                    </div>
                                    <div class="col-sm-8 col-sm-offset-3 error-messages" ng-if="interacted(myForm.demogiven)" ng-messages="myForm.demogiven.$error">
                                        <div ng-message="required">Select Demo Given Name</div>
                                    </div>
                                </div>

                                <div class="form-group">
                                    <label class="control-label col-sm-3">Contact Person:<span style="color:Red">*</span></label>
                                    <div class="col-sm-8">
                                        <input class="form-control" rows="4" name="personName" ng-paste="$event.preventDefault()" id="comment" maxlength="25" ng-model="ISMSLEDM_ContactPerson" placeholder="Enter Contact Person" required />
                                    </div>
                                    <div class="col-sm-8 col-sm-offset-3 error-messages" ng-if="interacted(myForm.personName)" ng-messages="myForm.personName.$error">
                                        <div ng-message="required">Enter Contact Person name</div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-6">
                                <div class="form-group">
                                    <label class="control-label col-sm-3">Demo Date:<span style="color:Red">*</span></label>
                                    <div class="col-sm-8">

                                        <md-datepicker name="demodate1" ng-model="ISMSLEDM_DemoDate" md-placeholder="Enter Date" onkeydown="return false" required></md-datepicker>

                                    </div>
                                    <div class="col-sm-8 col-sm-offset-3 error-messages" ng-if="interacted(myForm.demodate1)" ng-messages="myForm.demodate1.$error">
                                        <div ng-message="required">Enter Demo Date</div>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label class="control-label col-sm-3">Demo Address:<span style="color:red">*</span></label>
                                    <div class="col-sm-8">

                                        <textarea class="form-control" rows="4" ng-paste="$event.preventDefault()" id="comment" ng-model="ISMSLEDM_DemoAddress" placeholder="Enter Address" name="demoadd" required></textarea>
                                    </div>
                                    <div class="col-sm-8 col-sm-offset-3 error-messages"  ng-if="interacted(myForm.demoadd)" ng-messages="myForm.demoadd.$error">
                                        <div ng-message="required">Enter Demo Address</div>
                                    </div>
                                </div>





                                <div class="form-group">
                                    <label class="control-label col-sm-3">Remark:</label>
                                    <div class="col-sm-8">
                                        <input class="form-control" placeholder="Enter Remark" rows="4" ng-paste="$event.preventDefault()" id="comment" maxlength="25" ng-model="ISMSLEDM_Remarks"  />
                                    </div>

                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="text-center">
                        <div class="box-header with-border">
                            <h3 class="box-title">Demonstration</h3>
                            <div class="box-tools pull-right">
                                <button type="button" class="btn btn-box-tool" data-widget="collapse"><i class="fa fa-minus"></i></button>
                            </div>
                        </div>
                        <table class="table table-responsive table-bordered text-center">
                            <thead>
                                <tr>
                                    <th style="width: 50px;">SL.NO.</th>
                                    <th style="width: 275px;"><a href="" ng-click="sort('')">Product</a></th>
                                    <th><a href="" ng-click="sort('')">Discussion Points</a></th>
                                    <th>Action</th>

                                </tr>
                            </thead>

                            <tbody>
                                <tr ng-repeat="objr in demonstration" ng-form="dataform1">
                                    <td>{{$index+1}}</td>

                                    <td>
                                        <select class="form-control" id="sel1" name="stat" ng-model="objr.ismsmpR_Id" required>
                                            <option value="">--Select--</option>
                                            <option ng-repeat="product in product_list_dd" value="{{product.ismsmpR_Id}}" ng-selected="{{product.ismsmpR_Id ==objr.ismsmpR_Id}}">
                                                {{product.ismsmpR_ProductName}}
                                            </option>
                                        </select>
                                        <div class="error-messages" ng-if="interacted(dataform1.stat)" ng-messages="dataform1.stat.$error">
                                            <div ng-message="required">Select Product </div>
                                        </div>
                                    </td>
                                    <td>
                                        <input class="form-control" name="point" ng-model="objr.ISMSLEDMPR_DiscussionPoints" type="text"  ng-paste="$event.preventDefault()"  required />
                                        <div class="col-sm-8 col-sm-offset-4 error-messages" ng-if="interacted(dataform1.point)" ng-messages="dataform1.point.$error">
                                            <div ng-message="required">Enter Discussion Points </div>
                                        </div>
                                    </td>

                                    <td>
                                        <span class="" ng-hide="pirows.length > 4">
                                            <a href="" ng-show="$last" ng-click="addpirows()">
                                                <i class="fa fa-plus"></i>
                                            </a>
                                        </span>
                                        <span class="" id="remove" ng-hide="Demonstration.length ==1">
                                            <a href="" ng-click="removepirows($index,objg)">
                                                <i class="fa fa-minus" aria-hidden="true"></i>
                                            </a>
                                        </span>
                                    </td>

                                </tr>
                            </tbody>
                        </table>
                        <div class="row">

                            <div class="text-center">
                                <input type="hidden" ng-model="id" />
                                <md-button type="button" class="md-raised md-primary" data-ng-click="Savedata_td()" id="save-btn">
                                    <i class="fa fa-floppy-o" aria-hidden="true"></i>
                                    Save
                                </md-button>
                                <md-button type="button" class="md-raised md-warn" data-ng-click="Clearid()">
                                    <i class="fa fa-times" aria-hidden="true"></i>
                                    Cancel
                                </md-button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </form>
        <div class="box box-primary">
            <div class="box-header with-border">
                <h3 class="box-title">Sales Lead Demo List </h3>
                <div class="box-tools pull-right">
                    <button type="button" class="btn btn-box-tool" data-widget="collapse" data-placement="bottom" data-toggle="tooltip" title="collapsible"><i class="fa fa-minus"></i></button>
                </div>
            </div>
            <!-- /.box-header -->
            <div class="box-body">
                <div class="row">
                    <div class="col-sm-4">
                        <div class="form-group">
                            <label class="control-label">
                                <b> Total Grid Records :</b>
                                <label class="badge">
                                    {{presentCountgrid}}
                                </label>
                            </label>
                        </div>
                    </div>
                    <div class="col-sm-4">
                        <div class="form-group">
                            <label class="control-label" ng-if="searchValue!=''">
                                <b>Total Records Searched : </b>
                                <label class="badge">
                                    {{filterValue1.length}}
                                </label>
                            </label>
                        </div>
                    </div>
                    <div class="col-sm-4 pull-right">
                        <div class="form-group">
                            <div class="input-group">
                                <input class="form-control" ng-model="searchValue" type="text" placeholder="search here...">
                                <span class="input-group-addon">
                                    <i class="fa fa-search"></i>
                                </span>
                            </div>
                        </div>
                    </div>
                </div>
                <table class="table table-hover table-responsive table-bordered">
                    <thead>
                        <tr>
                            <th>SL NO</th>
                            <th>Lead Title</th>
                            <th>Demo Type</th>
                            <th>Health</th>
                            <th>Contact Person</th>
                            <th>Demo Date</th>
                            <th>Status</th>
                            <th>Action</th>

                        </tr>
                    </thead>
                    <tbody>


                        <tr dir-paginate="fl in filterValue1 = (demo_list | filter : searchValue)  |orderBy:sortKey:sortReverse |itemsPerPage:itemsPerPage" current-page="currentPage" ng-class-odd="'odd'">
                            <td class="text-center">{{itemsPerPage *(currentPage-1)+$index+1}}
                            <td class="text-center">{{fl.ismslE_LeadName}}</td>
                            <td class="text-center">{{fl.ismsledM_DemoType}}</td>
                            <td class="text-center">{{fl.ismsmsT_StatusName}}</td>
                            <td class="text-center">{{fl.ismsledM_ContactPerson}}</td>
                            <td class="text-center">{{fl.ismsledM_DemoDate| date:'dd/MM/yyyy'}}</td>

                            <td class="text-center">
                                <span ng-if="fl.ismsledM_Status_Flg === 1">
                                    <a
                                       class="text-green" data-placement="bottom" data-toggle="tooltip" title="Complete">
                                        Complete
                                    </a>
                                </span>
                                <span ng-if="fl.ismsledM_Status_Flg === null">
                                    <a class="text-danger" data-placement="bottom" data-toggle="tooltip" title="Open">
                                        Open
                                    </a>
                                </span>
                            </td>
                            <td class="text-center">
                                <a class="text-aqua" href="" ng-if="fl.ismsledM_Status_Flg !== 1" ng-click="edit(fl)" data-placement="bottom" data-toggle="tooltip" title="Edit">
                                    <i class="fa fa-pencil-square-o" aria-hidden="true"></i>
                                    |
                                </a>

                                <a href="javascript:void(0)" ng-if="fl.ismsledM_Status_Flg !== 1" class="text-primary" data-placement="bottom" data-toggle="modal" title="Views" data-ng-model="buspassdetails" data-target="#myModalgetclasslist" ng-click="view(fl)">
                                    <i class="fa fa-eye fa-1x" aria-hidden="true"></i>

                                </a>
                                <a href="javascript:void(0)" ng-if="fl.ismsledM_Status_Flg == 1" class="text-primary" data-placement="bottom" data-toggle="modal" title="Views123" data-ng-model="buspassdetails" data-target="#myModalgetclasslist_1" ng-click="view(fl,vi)">
                                    <i class="fa fa-eye fa-1x" aria-hidden="true"></i>

                                </a>
                                <a href="javascript:void(0)" ng-if="fl.ismsledM_Status_Flg !== 1" class="text-primary" data-placement="bottom" data-toggle="modal" title="Demo Response" data-ng-model="buspassdetails" data-target="#myModalgetdemoresponselist" ng-click="demo_response(fl)">
                                    |
                                    Demo Response
                                </a>
                            </td>
                        </tr>
                    </tbody>
                </table>
                <dir-pagination-controls max-size="5"
                                         direction-links="true"
                                         boundary-links="true">
                </dir-pagination-controls>
            </div>
        </div>
    </div>

    <div id="myModalgetclasslist" class="modal fade" role="dialog" data-backdrop="false">
        <div class="modal-dialog modal-lg" style="width: 80%;">
            <div class="modal-content">
                <div class="model-header custom-header">
                    <center><h4 class="modal-title custom">Sales Lead Demo</h4></center>
                </div>
                <div class="modal-body">

                    <div class="row">
                        <div class="col-sm-12">
                            <div class="col-sm-6">
                                <div class="form-group">
                                    <label class="control-label col-sm-3 "><b>Lead Title:</b></label>
                                    <div class="col-sm-8 text-left">
                                        {{ismslE_LeadName_s}}
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-6">
                                <div class="form-group">
                                    <label class="control-label col-sm-3 "><b>Contact Person:</b></label>
                                    <div class="col-sm-8 text-left">
                                        {{ISMSLEDM_ContactPerson_s}}
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-6">
                                <div class="form-group">
                                    <label class="control-label col-sm-3 "><b>Address:</b></label>
                                    <div class="col-sm-8 text-left">
                                        {{ISMSLEDM_DemoAddress_s}}
                                    </div>
                                </div>
                            </div>

                            <div class="col-sm-6">
                                <div class="form-group">
                                    <label class="control-label col-sm-3 "><b>Remarks:</b></label>
                                    <div class="col-sm-8 text-left">
                                        {{ISMSLEDM_Remarks_s}}
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <h4>Product Details</h4>
                    <table class="table table-bordered">
                        <thead>
                            <tr>
                                <th>SLNo</th>
                                <th>Product Name</th>
                                <th>Discussion Points</th>


                            </tr>
                        </thead>
                        <tbody>
                            <tr dir-paginate="crd in filterValue3 = (product_dd_s)  |orderBy:sortKey:sortReverse |itemsPerPage:itemsPerPage" current-page="currentPage" ng-class-odd="'odd'">

                                <td>{{ $index + 1 }}</td>
                                <td class="text-center">{{crd.ismsmpR_ProductName}}</td>
                                <td class="text-center">{{crd.ismsledmpR_DiscussionPoints}}</td>

                            </tr>

                        </tbody>
                    </table>

                </div>
            </div>
            <div class="modal-footer custom-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
            </div>
        </div>
    </div>

    <!--///////////////-->
    <div id="myModalgetclasslist_1" class="modal fade" role="dialog" data-backdrop="false">
        <div class="modal-dialog modal-lg" style="width: 80%;">
            <div class="modal-content">
                <div class="model-header custom-header">
                    <center><h4 class="modal-title custom">Sales Lead Demo</h4></center>
                </div>
                <div class="modal-body">

                    <div class="row">
                        <div class="col-sm-12">
                            <div class="col-sm-6">
                                <div class="form-group">
                                    <label class="control-label col-sm-3 "><b>Lead Title:</b></label>
                                    <div class="col-sm-8 text-left">
                                        {{ismslE_LeadName_s}}
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-6">
                                <div class="form-group">
                                    <label class="control-label col-sm-3 "><b>Contact Person:</b></label>
                                    <div class="col-sm-8 text-left">
                                        {{ISMSLEDM_ContactPerson_s}}
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-6">
                                <div class="form-group">
                                    <label class="control-label col-sm-3 "><b>Address:</b></label>
                                    <div class="col-sm-8 text-left">
                                        {{ISMSLEDM_DemoAddress_s}}
                                    </div>
                                </div>
                            </div>

                            <div class="col-sm-6">
                                <div class="form-group">
                                    <label class="control-label col-sm-3 "><b>Remarks:</b></label>
                                    <div class="col-sm-8 text-left">
                                        {{ISMSLEDM_Remarks_s}}
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <h4>Product Details</h4>
                    <table class="table table-bordered">
                        <thead>
                            <tr>
                                <th>SLNo</th>
                                <th>Product Name</th>
                                <th>Discussion Points</th>


                            </tr>
                        </thead>
                        <tbody>
                            <tr dir-paginate="crd in filterValue3 = (product_dd_s)  |orderBy:sortKey:sortReverse |itemsPerPage:itemsPerPage" current-page="currentPage" ng-class-odd="'odd'">

                                <td>{{ $index + 1 }}</td>
                                <td class="text-center">{{crd.ismsmpR_ProductName}}</td>
                                <td class="text-center">{{crd.ismsledmpR_DiscussionPoints}}</td>

                            </tr>

                        </tbody>
                    </table>

                </div>
            </div>

            <div class="modal-content">
               
                <div class="modal-body">

              
                    <h4>Response Details</h4>
                    <table class="table table-bordered">
                        <thead>
                            <tr>
                                <th>SLNo</th>
                                <th>Product Name</th>
                                <th>Discussion Points</th>
                                <th>StatusName</th>
                                <th>Remarks</th>


                            </tr>
                        </thead>
                        <tbody>
                            <tr dir-paginate="crd in filterValue3 = (demo_response_details)  |orderBy:sortKey:sortReverse |itemsPerPage:itemsPerPage" current-page="currentPage" ng-class-odd="'odd'">

                                <td>{{ $index + 1 }}</td>
                                <td class="text-center">{{crd.ismsmpR_ProductName}}</td>
                                <td class="text-center">{{crd.ismsledmpR_DiscussionPoints}}</td>
                                <td class="text-center">{{crd.ismsmsT_StatusName}}</td>
                                <td class="text-center">{{crd.ismsledmpR_Remarks}}</td>

                            </tr>

                        </tbody>
                    </table>

                </div>
            </div>
            <div class="modal-footer custom-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
            </div>
        </div>
    </div>
    <!--//////////////////////-->

    <div id="myModalgetdemoresponselist" class="modal fade" role="dialog" data-backdrop="false" name="formm">
        <div class="modal-dialog modal-lg" style="width: 80%;">
            <div class="modal-content">
                <div class="modal-body">

                    <h4>Demo Response</h4>

                    <table class="table table-bordered">
                        <thead>
                            <tr>
                                <th>
                                    <label>
                                        <input name="clsoption" ng-true-value="true" ng-false-value="false" ng-model="usercheckC2" type="checkbox" ng-click="all_checkC2()">
                                        <span class="lbl padding-3">
                                        </span>
                                    </label>

                                </th>
                                <th>SL NO</th>
                                <th>Product</th>
                                <th>Discussion Points</th>
                                <th>Status</th>
                                <th>Remark</th>

                            </tr>
                        </thead>
                        <tbody>

                            <tr dir-paginate="evet in filterValue13 = (demo_response_list)  |orderBy:sortKey:sortReverse |itemsPerPage:itemsPerPage" current-page="currentPage" ng-class-odd="'odd'">
                                <td>
                                    <label>
                                        <input type="checkbox" ng-model="evet.selectedd2" ng-true-value="true" ng-false-value="false" ng-change="get_evalistt(evet)" />
                                        <span class="lbl padding-3"></span>
                                    </label>
                                </td>
                                <td>{{ $index + 1 }}</td>
                                <td class="text-center">{{evet.ismsmpR_ProductName}}</td>

                                <td class="text-center">{{evet.ismsledmpR_DiscussionPoints}}</td>

                                <td class="text-center">

                                    <select ng-model="evet.ISMSMST_Id"  name="sts" required>
                                        <option ng-if="">--Select--</option>
                                        <option ng-repeat="p in status_demo_master" value="{{p.ismsmsT_Id}}" ng-selected="{{p.Selected==true}}">
                                            {{p.ismsmsT_StatusName}}
                                        </option>
                                    </select>
                                    <div class="col-sm-8 col-sm-offset-4 error-messages" ng-if="interacted1(myForm1.sts)" ng-messages="myForm1.sts.$error">
                                        <div ng-message="required">Enter Contact Person name</div>
                                    </div>
                                </td>
                                <td class="text-center">
                                    <div class="col-sm-12 ">
                                        <input class="form-control" name="remark" ng-model="evet.ISMSLEDMPR_Remarks" />
                                    </div>
                                </td>
                        </tbody>
                    </table>
                </div>
                <div class="modal-footer custom-footer">

                    <md-button type="submit" class="md-raised md-primary" ng-click="Save_response(evet)">
                        <i class="fa fa-floppy-o" aria-hidden="true"></i>
                        Save
                    </md-button>
                    <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>
</section>