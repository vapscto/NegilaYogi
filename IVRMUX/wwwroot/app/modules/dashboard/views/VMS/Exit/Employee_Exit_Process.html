<style>
    .multiselect {
        width: 23.1em;
        height: 10em;
        border: solid 1px #5cb7ff;
        overflow: auto;
        margin-left: 2.7%;
        margin-bottom: 1%;
        padding: 2%;
    }

    #btn {
        border: none;
        color: white;
        padding: 8px 25px;
        text-align: center;
        text-decoration: none;
        display: inline-block;
        font-size: 16px;
        margin: 5px 7px;
        cursor: pointer;
        background-color: #f44336;
    }

    .form-horizontal .form-group {
        margin-right: 0px;
        margin-left: 0px;
    }
</style>
<section class="content" ng-init="AllDataLoad()">
    <!--<form class="form-horizontal ng-pristine ng-valid" name="myForm" role="form" ng-init="loaddata()" novalidate>-->
    <div class="box box-primary">
        <div class="box-header with-border">
            <h3 class="box-title">Employee Exit Process </h3>
            <div class="box-tools pull-right">
                <button type="button" class="btn btn-box-tool" data-widget="collapse"><i class="fa fa-minus"></i></button>
            </div>
        </div>
        <div class="box-body">
            <div class="row">
                <div class="col-sm-12">
                    <div class="well">
                        <md-content>
                            <md-tabs md-dynamic-height md-border-bottom>
                                <md-tab label="Employee Exit">
                                    <md-content class="md-padding">
                                        <form class="form-horizontal" name="myForm" role="form" novalidate>
                                            <div class="box box-primary">
                                                <div class="box-header with-border">
                                                    <h3 class="box-title">Exit Employee</h3>
                                                    <div class="box-tools pull-right">
                                                        <button type="button" class="btn btn-box-tool" data-widget="collapse"><i class="fa fa-minus"></i></button>
                                                    </div>
                                                </div>
                                                <div class="box-body">
                                                    <div class="row">
                                                        <div class="col-sm-12">
                                                            <div class="col-sm-6">
                                                                <div class="form-group">
                                                                    <label class="control-label col-sm-4">Employee Name:<span style="color:Red">*</span></label>
                                                                    <div class="col-sm-8">
                                                                        <select class="form-control" name="reason1" ng-model="hrmE_Id" required>
                                                                            <option value="" label="--Select Employee--"></option>
                                                                            <option ng-repeat="eld in employee_list_dd" value="{{eld.hrmE_Id}}" ng-selected="eld.hrmE_Id==hrmE_Id">
                                                                                {{eld.employeename}}
                                                                            </option>
                                                                        </select>
                                                                    </div>
                                                                    <div class="col-sm-8 col-sm-offset-4 error-messages" ng-if="interacted(myForm.reason1)" ng-messages="myForm.reason1.$error">
                                                                        <div ng-message="required">Please Select Employee </div>
                                                                    </div>
                                                                </div>
                                                            </div>

                                                            <div class="col-sm-6">
                                                                <div class="form-group">
                                                                    <label class="control-label col-sm-4">Resign Date:<span style="color:Red">*</span></label>
                                                                    <div class="col-sm-8">
                                                                        <md-datepicker ng-model="ISMRESG_ResignationDate" onkeypress="return false" name="resingDate" ng-change="relieving_days(ISMRESG_ResignationDate)" md-placeholder="Enter Date" required>

                                                                        </md-datepicker>
                                                                    </div>
                                                                    <div class="col-sm-8 col-sm-offset-4 error-messages" ng-if="interacted(myForm.resingDate)" ng-messages="myForm.resingDate.$error">
                                                                        <div ng-message="required">Enter Resign Date</div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class="col-sm-6">
                                                                <div class="form-group">
                                                                    <label class="control-label col-sm-4">Reason:<span style="color:Red">*</span></label>
                                                                    <div class="col-sm-8">

                                                                        <select class="form-control" name="reason" ng-model="ismresgmrE_Id" required>
                                                                            <option value="">--Select Reason--</option>
                                                                            <option ng-repeat="reason in reason_list_dd" value="{{reason.ismresgmrE_Id}}" ng-selected="reason.ismresgmrE_Id==ismresgmrE_Id">
                                                                                {{reason.ismresgmrE_ResignationReasons}}
                                                                            </option>
                                                                        </select>
                                                                    </div>
                                                                    <div class="col-sm-8 col-sm-offset-4 error-messages" ng-if="interacted(myForm.reason)" ng-messages="myForm.reason.$error">
                                                                        <div ng-message="required">Please Select Reason </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class="col-sm-6">
                                                                <div class="form-group">
                                                                    <label class="control-label col-sm-4">Notice Period:</label>
                                                                    <div class="col-sm-8">
                                                                        <input class="form-control" type="text" data-ng-model="ISMRESG_NoticePeriod" name="Notice_Period" ng-disabled="true" required />
                                                                    </div>

                                                                </div>
                                                            </div>
                                                            <div class="col-sm-6">
                                                                <div class="form-group">
                                                                    <label class="control-label col-sm-4">Tentative Leaving Date:</label>
                                                                    <div class="col-sm-8">


                                                                        <md-datepicker ng-model="Tentative_Leaving_Date" onkeypress="return false" name="Tentative_Leaving_Date"
                                                                                       md-placeholder="Enter Date" ng-disabled="true">

                                                                        </md-datepicker>
                                                                    </div>

                                                                </div>
                                                            </div>
                                                            <div class="col-sm-6">
                                                                <div class="form-group">
                                                                    <label class="control-label col-sm-4">Remark</label>
                                                                    <div class="col-sm-8">
                                                                        <input class="form-control" placeholder="Enter Remark" type="text" data-ng-model="ISMRESG_Remarks" name="Remark">
                                                                    </div>

                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="row">
                                                <div class="text-center">
                                                    <input type="hidden" ng-model="id" value="{{indl.ismresG_Id}}" />
                                                    <md-button type="button" class="md-raised md-primary" data-ng-click="Allsavedata()" id="save-btn">
                                                        <i class="fa fa-floppy-o" aria-hidden="true"></i>
                                                        Save
                                                    </md-button>
                                                    <md-button type="button" class="md-raised md-warn" data-ng-click="Clearid()">
                                                        <i class="fa fa-times" aria-hidden="true"></i>
                                                        Cancel
                                                    </md-button>
                                                </div>
                                            </div>

                                            <div class="box box-primary">
                                                <div class="box-header with-border">
                                                    <h3 class="box-title">Employee Exit List</h3>
                                                    <div class="box-tools pull-right">
                                                        <button type="button" class="btn btn-box-tool" data-widget="collapse" data-placement="bottom" data-toggle="tooltip" title="collapsible"><i class="fa fa-minus"></i></button>
                                                    </div>
                                                </div>
                                                <!-- /.box-header -->
                                                <div class="box-body">
                                                    <div class="row">
                                                        <div class="col-sm-4">
                                                            <div class="form-group">
                                                                <label class="control-label">
                                                                    <b> Total Grid Records :</b>
                                                                    <label class="badge">
                                                                        {{presentCountgrid}}
                                                                    </label>
                                                                </label>
                                                            </div>
                                                        </div>
                                                        <div class="col-sm-4">
                                                            <div class="form-group">
                                                                <label class="control-label" ng-if="searchValue!=''">
                                                                    <b>Total Records Searched : </b>
                                                                    <label class="badge">
                                                                        {{filterValue.length}}
                                                                    </label>
                                                                </label>
                                                            </div>
                                                        </div>
                                                        <div class="col-sm-4 pull-right">
                                                            <div class="form-group">
                                                                <div class="input-group">
                                                                    <input class="form-control" ng-model="searchValue" type="text" placeholder="search here...">
                                                                    <span class="input-group-addon">
                                                                        <i class="fa fa-search"></i>
                                                                    </span>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <table class="table table-hover table-responsive table-bordered">
                                                        <thead>
                                                            <tr>
                                                                <th>Sl. No.</th>
                                                                <th><a href="">Employee Name</a></th>
                                                                <th><a href="">Resign Date</a></th>
                                                                <th><a href="">Leaving Date</a></th>
                                                                <th><a href="">Reason</a></th>
                                                                <th><a href="">Status</a></th>
                                                                <th><a href="">Management approval</a></th>
                                                                <th>Action</th>
                                                            </tr>
                                                        </thead>
                                                        <tbody>
                                                            <tr dir-paginate="indl in filterValue = (exit_employee_list | filter : searchValue)  |orderBy:sortKey:sortReverse |itemsPerPage:itemsPerPage" current-page="currentPage" ng-class-odd="'odd'" pagination-id="page">
                                                                <td class="text-center">{{itemsPerPage *(currentPage-1)+$index+1}}</td>
                                                                <td class="text-center">{{indl.employeename}}</td>
                                                                <td class="text-center">{{indl.ismresG_ResignationDate|date:'dd/MM/yyyy'}}</td>
                                                                <td class="text-center">{{indl.ismresG_TentativeLeavingDate|date:'dd/MM/yyyy'}}</td>
                                                                <td class="text-center">{{indl.ismresgmrE_ResignationReasons}}</td>
                                                                <td class="text-center">
                                                                    <span ng-if="indl.ismresG_MgmtApprRejFlg ==='ACCEPT'">
                                                                        <a href=""
                                                                           class="text-green" data-placement="bottom" data-toggle="tooltip" title="ACCEPT">
                                                                            APPROVED
                                                                        </a>
                                                                    </span>
                                                                    <span ng-if="indl.ismresG_MgmtApprRejFlg ==='REJECT'">
                                                                        <a href=""
                                                                           class="text-danger" data-placement="bottom" data-toggle="tooltip" title="REJECT">
                                                                            REJECT
                                                                        </a>
                                                                    </span>
                                                                    <span ng-if="indl.ismresG_MgmtApprRejFlg ==='OPEN'">
                                                                        <a href=""
                                                                           class="text-yellow" data-placement="bottom" data-toggle="tooltip" title="OPEN">
                                                                            PENDING
                                                                        </a>
                                                                    </span>
                                                                </td>
                                                                <td class="text-center">
                                                                    <a href="javascript:void(0)" class="text-green" ng-click="c_approve(indl)" ng-if="indl.ismresG_MgmtApprRejFlg ==='OPEN'" data-toggle="modal" data-placement="bottom" data-target="#myModalgetvealuationlist" title="Approve">
                                                                        Approve Now
                                                                    </a>
                                                                    <a href="javascript:void(0)" class="text-aqua" ng-if="indl.ismresG_MgmtApprRejFlg ==='ACCEPT'" title="Approved">
                                                                        Approved
                                                                    </a>
                                                                    <a href="javascript:void(0)" class="text-aqua" ng-if="indl.ismresG_MgmtApprRejFlg ==='REJECT'" title="Rejected">
                                                                        Rejected
                                                                    </a>
                                                                </td>
                                                                <td class="text-center">
                                                                    <a class="text-aqua" href="" ng-click="edit(indl)" ng-show="indl.ismresG_MgmtApprRejFlg != 'ACCEPT'" data-placement="bottom" data-toggle="tooltip" title="Edit">
                                                                        <i class="fa fa-pencil-square-o" aria-hidden="true"></i>
                                                                    </a>
                                                                </td>
                                                            </tr>
                                                        </tbody>
                                                    </table>
                                                    <dir-pagination-controls max-size="5"
                                                                             direction-links="true"
                                                                             boundary-links="true" pagination-id="page">
                                                    </dir-pagination-controls>
                                                </div>
                                            </div>
                                        </form>
                                    </md-content>
                                </md-tab>
                                <md-tab label="Relieving Checklist">
                                    <md-content class="md-padding">
                                        <form class="form-horizontal" name="myForm1" role="form" novalidate>
                                            <div class="text-center">
                                                <div class="row">
                                                    <div class="col-sm-2"></div>
                                                    <div class="col-sm-8">
                                                        <label class="control-label col-sm-3">Employee Name:<span style="color:red">*</span></label>
                                                        <div class="col-sm-8" style="text-align:left">
                                                            <select class="form-control" id="sel1" name="ename5" ng-model="hrmE_Id2" ng-change="GetAllRelData()" required>
                                                                <option value="" label="--Select Employee Name--"> </option>
                                                                <option ng-repeat="re in relieving_emp_dd" value="{{re.hrmE_Id}}" ng-selected="{{re.Selected== true}}">
                                                                    {{re.employeename1}}
                                                                </option>
                                                            </select>
                                                        </div>
                                                        <div class="col-sm-8 col-sm-offset-4 error-messages" ng-if="interacted1(myForm1.ename5)" ng-messages="myForm1.ename5.$error">
                                                            <div ng-message="required">Select Employee Name</div>
                                                        </div>
                                                    </div>
                                                    <div class="col-sm-2"></div>
                                                </div>
                                                <br />
                                                <div class="row" ng-show="ismresgmrEId2 >= 0">
                                                    <div class="col-sm-12">
                                                        <div class="row">
                                                            <div class="col-sm-6">
                                                                <div class="row">
                                                                    <div class="col-sm-6" style="text-align:left">
                                                                        <label>Date of joining:</label>
                                                                    </div>
                                                                    <div class="col-sm-6" style="text-align:left">
                                                                        {{DateOfJoining|date:'dd/MM/yyyy'}}
                                                                    </div>
                                                                </div>
                                                                <br />
                                                                <div class="row">
                                                                    <div class="col-sm-6" style="text-align:left">
                                                                        <label>Department:</label>
                                                                    </div>
                                                                    <div class="col-sm-6" style="text-align:left">
                                                                        {{Department}}
                                                                    </div>
                                                                </div>
                                                                <br />
                                                                <div class="row">
                                                                    <div class="col-sm-6" style="text-align:left">
                                                                        <label>Designation:</label>
                                                                    </div>
                                                                    <div class="col-sm-6" style="text-align:left">
                                                                        {{Designation}}
                                                                    </div>
                                                                </div>
                                                                <br />
                                                            </div>
                                                            <br />
                                                            <div class="col-sm-6">
                                                                <div class="row">
                                                                    <div class="col-sm-6" style="text-align:left">
                                                                        <label>Company Name:</label>
                                                                    </div>
                                                                    <div class="col-sm-6" style="text-align:left">
                                                                        {{mI_Name}}
                                                                    </div>
                                                                </div>
                                                                <br />
                                                                <div class="row">
                                                                    <div class="col-sm-6" style="text-align:left">
                                                                        <label> Relieving Date:</label>
                                                                    </div>
                                                                    <div class="col-sm-6" style="text-align:left">
                                                                        {{RelievingDate|date:'dd/MM/yyyy'}}
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <br />
                                                        </div>
                                                    </div>
                                                </div>
                                                <br />
                                                <div class="row" ng-show="ismresgmrEId2 >= 0">
                                                    <div class="col-sm-12">
                                                        <table class="table">
                                                            <thead>
                                                                <tr>
                                                                    <th>
                                                                        <label>
                                                                            <input name="all" value="1" ng-model="alltask" type="checkbox" ng-click="all_task()">
                                                                            <span class="lbl padding-8">
                                                                            </span>
                                                                        </label>
                                                                    </th>
                                                                    <th>SL NO.</th>
                                                                    <th>Document Handover details</th>
                                                                    <th>Upload</th>
                                                                    <th>Views</th>
                                                                </tr>
                                                            </thead>
                                                            <tbody>
                                                                <tr ng-repeat="document in documentList track by $index" ng-form="dataForm">
                                                                    <td>
                                                                        <label>
                                                                            <input type="checkbox" ng-model="document.selectedd2" ng-true-value="true" ng-false-value="false" ng-change="get_evalistt(document)" />
                                                                            <span class="lbl padding-3"></span>
                                                                        </label>
                                                                    </td>
                                                                    <td class="text-center">{{$index+1}}</td>
                                                                    <td class="text-center">
                                                                        {{document.ismresgmcL_CheckListName}}

                                                                    </td>

                                                                    <td class="documents" ng-disabled="!document.selectedd2">
                                                                        <label class="custom-file-input file-blue" style="width:100%;margin:auto;">
                                                                            <input id="{{document.ismresgmcL_Id}}" type="file" name="doc" accept="image/*, application/pdf,application/msword" data-ng-model="documentList[$index].document_Path" onchange="angular.element(this).scope().selectFileforUploadzd(this, angular.element(this).scope().document)">
                                                                        </label>

                                                                    </td>
                                                                    <td ng-if="document.document_Path !=null && document.document_Path !='' ">
                                                                        <a style="color:red;display:inline; font-weight: bolder;"> Upload</a>
                                                                    </td>

                                                                    <td>
                                                                        <input type="hidden" ng-model="document.ismresgcL_Id" />
                                                                    </td>
                                                                </tr>


                                                            </tbody>
                                                        </table>
                                                    </div>
                                                </div>

                                                <div class="row">

                                                    <div class="text-center">
                                                        <input type="hidden" ng-model="ismresgmrEId" />

                                                        <md-button type="button" ng-disabled="myForm1.$invalid" class="md-raised md-primary" data-ng-click="Savedata_td()" id="save-btn">
                                                            <i class="fa fa-floppy-o" aria-hidden="true"></i>
                                                            Save
                                                        </md-button>
                                                        <md-button type="button" class="md-raised md-warn" data-ng-click="Clearid1()">
                                                            <i class="fa fa-times" aria-hidden="true"></i>
                                                            Cancel
                                                        </md-button>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="box box-primary">
                                                <div class="box-header with-border">
                                                    <h3 class="box-title">Exit Employee List</h3>
                                                    <div class="box-tools pull-right">
                                                        <button type="button" class="btn btn-box-tool" data-widget="collapse" data-placement="bottom" data-toggle="tooltip" title="collapsible"><i class="fa fa-minus"></i></button>
                                                    </div>
                                                </div>
                                                <!-- /.box-header -->
                                                <div class="box-body">
                                                    <div class="row">
                                                        <div class="col-sm-4">
                                                            <div class="form-group">
                                                                <label class="control-label">
                                                                    <b> Total Grid Records :</b>
                                                                    <label class="badge">
                                                                        {{presentCountgrid1}}
                                                                    </label>
                                                                </label>
                                                            </div>
                                                        </div>
                                                        <div class="col-sm-4">
                                                            <div class="form-group">
                                                                <label class="control-label" ng-if="searchValue1!=''">
                                                                    <b>Total Records Searched : </b>
                                                                    <label class="badge">
                                                                        {{filterValue1.length}}
                                                                    </label>
                                                                </label>
                                                            </div>
                                                        </div>
                                                        <div class="col-sm-4 pull-right">
                                                            <div class="form-group">
                                                                <div class="input-group">
                                                                    <input class="form-control" ng-model="searchValue1" type="text" placeholder="search here...">
                                                                    <span class="input-group-addon">
                                                                        <i class="fa fa-search"></i>
                                                                    </span>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <table class="table table-hover table-responsive table-bordered">
                                                        <thead>
                                                            <tr>
                                                                <th>SL NO</th>
                                                                <th>Employee Name</th>
                                                                <th>Date</th>
                                                                <th>Status</th>
                                                                <th>Action</th>
                                                                <th>Document</th>
                                                            </tr>
                                                        </thead>
                                                        <tbody>


                                                            <tr dir-paginate="cl in filterValue1 = (relieving_check_list | filter : searchValue1)  |orderBy:sortKey:sortReverse |itemsPerPage:itemsPerPage1" current-page="currentPage1" ng-class-odd="'odd'" pagination-id="page1">
                                                                <td class="text-center">{{itemsPerPage *(currentPage-1)+$index+1}}</td>
                                                                <td class="text-center">{{cl.employeename}}</td>
                                                                <td class="text-center">{{cl.ISMRESG_ResignationDate|date:'dd/MM/yyyy'}}</td>


                                                                <td class="text-center">
                                                                    <span ng-if="cl.ISMRESG_Status_Flg  === 1">
                                                                        <a class="text-green" data-placement="bottom">
                                                                            Complete
                                                                        </a>
                                                                    </span>
                                                                    <span ng-if="cl.ISMRESG_Status_Flg === null">
                                                                        <a class="text-danger" data-placement="bottom">
                                                                            Open
                                                                        </a>
                                                                    </span>

                                                                </td>
                                                                <td class="text-center">
                                                                    <a href="javascript:void(0)" class="text-aqua" ng-click="view_rel(cl)" data-toggle="modal" data-placement="bottom" data-target="#myModalgetvealuationlist2" title="View">
                                                                        <i class="fa fa-eye fa-1x" aria-hidden="true"></i>
                                                                    </a>

                                                                </td>
                                                                <td class="text-center">
                                                                    <a href="javascript:void(0)" class="text-aqua" ng-click="view_photo(cl)" data-toggle="modal" data-placement="bottom" data-target="#myModalget_doc" title="Photo">
                                                                        Preview
                                                                    </a>

                                                                </td>

                                                            </tr>

                                                        </tbody>
                                                    </table>
                                                    <dir-pagination-controls max-size="5"
                                                                             direction-links="true"
                                                                             boundary-links="true" pagination-id="page1">
                                                    </dir-pagination-controls>
                                                </div>
                                            </div>
                                            <div id="myModalgetvealuationlist2" class="modal fade" role="dialog" data-backdrop="false" name="formm">
                                                <div class="modal-dialog modal-lg" style="width: 80%;">
                                                    <div class="modal-content">
                                                        <div class="modal-body">
                                                            <h4>Exit Employee List</h4>
                                                            <table class="table table-bordered">
                                                                <thead>
                                                                    <tr>
                                                                        <th>SL NO</th>
                                                                        <th class="text-center">Employee Name</th>
                                                                        <th class="text-center">Resignation Date</th>
                                                                        <th class="text-center">Working Last Date</th>
                                                                        <th class="text-center">Remark</th>
                                                                    </tr>
                                                                </thead>
                                                                <tbody>
                                                                    <tr ng-repeat="user1 in exit_print_list1">
                                                                        <td>{{$index+1}}</td>
                                                                        <td class="text-center">{{user1.employeename}}</td>
                                                                        <td class="text-center">{{user1.ismresG_ResignationDate|date:'dd/MM/yyyy'}}</td>
                                                                        <td class="text-center">{{user1.ismresgrL_RLDate|date:'dd/MM/yyyy'}}</td>
                                                                        <td class="text-center">{{user1.ismresG_Remarks}}</td>
                                                                    </tr>
                                                            </table>
                                                        </div>
                                                        <div class="modal-footer custom-footer">
                                                            <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>

                                            <div id="myModalget_doc" class="modal fade" role="dialog" data-backdrop="false" name="formm">
                                                <div class="modal-dialog modal-lg" style="width: 80%;">
                                                    <div class="modal-content">
                                                        <div class="modal-body">
                                                            <h4>Exit Employee Documents</h4>
                                                            <table class="table table-bordered">
                                                                <thead>
                                                                    <tr>
                                                                        <th>SL NO</th>
                                                                        <th class="text-center">Document Name</th>
                                                                        <th class="text-center">Download</th>
                                                                    </tr>
                                                                </thead>
                                                                <tbody>
                                                                    <tr ng-repeat="pto in download_photo">
                                                                        <td>{{$index+1}}</td>
                                                                        <td class="text-center">{{pto.ismresgcL_FileName}}</td>
                                                                        <td class="text-center">
                                                                            <span ng-if="pto.ismresgcL_FilePath!=null">
                                                                                <a class="fa fa-cloud-download" aria-hidden="true" ng-click="downloaddirectimage(pto.ismresgcL_FilePath,pto.ismresgcL_FileName)" title="Document" style="margin-left: 15px;font-size:small;color:#007ad1;">
                                                                                    &nbsp;Download
                                                                                </a>
                                                                                <!--<i class="fa fa-cloud-download" aria-hidden="true"
                                                                                   ng-click="downloaddirectimage(pto.ismresgcL_FilePath,pto.ismresgcL_FileName)"
                                                                                   title="Document" style="margin-left: 15px;font-size:small;color:#007ad1;">
                                                                                    &nbsp;Download
                                                                                </i>-->
                                                                            </span>
                                                                        </td>
                                                                    </tr>
                                                            </table>
                                                        </div>
                                                        <div class="modal-footer custom-footer">
                                                            <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </form>
                                    </md-content>
                                </md-tab>
                                <md-tab label="Letter Generation" ng-if="departmentCodeName=='HR'">
                                    <md-content class="md-padding">
                                        <form class="form-horizontal ng-pristine ng-valid" name="myForm2" role="form" ng-init="loaddata1()" novalidate>

                                            <div class="text-center">
                                                <div class="row">
                                                    <div class="col-sm-2"></div>
                                                    <div class="col-sm-8">
                                                        <div class="form-group">
                                                            <label class="control-label col-sm-3">Employee Name:<span style="color:red">*</span></label>
                                                            <div class="col-sm-8" style="text-align:left">
                                                                <select class="form-control" id="sel1" name="ename123" ng-model="hrmE_Id1" ng-change="GetAllRelData1()" required>
                                                                    <option value="" label="--Select Employee Name--"> </option>
                                                                    <option ng-repeat="rel in relieving_emp_dd1" value="{{rel.HRME_Id}}" ng-selected="{{rel.Selected== true}}">
                                                                        {{rel.employeename}}
                                                                    </option>
                                                                </select>
                                                            </div>
                                                            <div class="col-sm-8 col-sm-offset-4 error-messages" ng-if="interacted2(myForm2.ename123)" ng-messages="myForm2.ename123.$error">
                                                                <div ng-message="required">Select Employee Name</div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="col-sm-2"></div>
                                                </div>
                                                <div class="row" ng-show="ismresgmrEId3 >= 0">
                                                    <div class="col-sm-12">
                                                        <div class="row">
                                                            <div class="col-sm-6">
                                                                <div class="row">
                                                                    <div class="col-sm-6" style="text-align:left">
                                                                        <label>Date of joining:</label>
                                                                    </div>
                                                                    <div class="col-sm-6" style="text-align:left">
                                                                        {{DateOfJoining1|date:'dd/MM/yyyy'}}
                                                                    </div>
                                                                </div>
                                                                <br />
                                                                <div class="row">
                                                                    <div class="col-sm-6" style="text-align:left">
                                                                        <label>Department:</label>
                                                                    </div>
                                                                    <div class="col-sm-6" style="text-align:left">
                                                                        {{Department1}}
                                                                    </div>
                                                                </div>
                                                                <br />
                                                                <div class="row">
                                                                    <div class="col-sm-6" style="text-align:left">
                                                                        <label>Designation:</label>
                                                                    </div>
                                                                    <div class="col-sm-6" style="text-align:left">
                                                                        {{Designation1}}
                                                                    </div>
                                                                </div>
                                                                <br />
                                                            </div>
                                                            <br />
                                                            <div class="col-sm-6">
                                                                <div class="row">
                                                                    <div class="col-sm-6" style="text-align:left">
                                                                        <label>Client Name:</label>
                                                                    </div>
                                                                    <div class="col-sm-6" style="text-align:left">
                                                                        {{MI_Name}}
                                                                    </div>
                                                                </div>
                                                                <br />
                                                                <div class="row">
                                                                    <div class="col-sm-6" style="text-align:left">
                                                                        <label> Relieving Date:</label>
                                                                    </div>
                                                                    <div class="col-sm-6" style="text-align:left">
                                                                        {{RelievingDate1|date:'dd/MM/yyyy'}}
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <br />
                                                        </div>
                                                    </div>
                                                </div>
                                                <br />
                                                <div class="row">
                                                    <div class="text-center">
                                                        <input type="hidden" ng-model="ismresgmrEId1" />
                                                        <md-button type="button" class="md-raised md-primary" data-ng-click="Savedata_print()" id="save-btn">
                                                            <i class="fa fa-floppy-o" aria-hidden="true"></i>
                                                            Generate Letter
                                                        </md-button>
                                                        <md-button type="button" class="md-raised md-warn" data-ng-click="Clearid2()">
                                                            <i class="fa fa-times" aria-hidden="true"></i>
                                                            Cancel
                                                        </md-button>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="box box-primary">
                                                <div class="box-header with-border">
                                                    <h3 class="box-title">Exit Employee List</h3>
                                                    <div class="box-tools pull-right">
                                                        <button type="button" class="btn btn-box-tool" data-widget="collapse" data-placement="bottom" data-toggle="tooltip" title="collapsible"><i class="fa fa-minus"></i></button>
                                                    </div>
                                                </div>
                                                <!-- /.box-header -->
                                                <div class="box-body">
                                                    <div class="row">
                                                        <div class="col-sm-4">
                                                            <div class="form-group">
                                                                <label class="control-label">
                                                                    <b> Total Grid Records :</b>
                                                                    <label class="badge">
                                                                        {{presentCountgrid2}}
                                                                    </label>
                                                                </label>
                                                            </div>
                                                        </div>
                                                        <div class="col-sm-4">
                                                            <div class="form-group">
                                                                <label class="control-label" ng-if="searchValue2!=''">
                                                                    <b>Total Records Searched : </b>
                                                                    <label class="badge">
                                                                        {{filterValue2.length}}
                                                                    </label>
                                                                </label>
                                                            </div>
                                                        </div>
                                                        <div class="col-sm-4 pull-right">
                                                            <div class="form-group">
                                                                <div class="input-group">
                                                                    <input class="form-control" ng-model="searchValue2" type="text" placeholder="search here...">
                                                                    <span class="input-group-addon">
                                                                        <i class="fa fa-search"></i>
                                                                    </span>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <table class="table table-hover table-responsive table-bordered">
                                                        <thead>
                                                            <tr>
                                                                <th>Sl No</th>
                                                                <th><a href="" ng-click="sort('building')">Employee Name</a></th>
                                                                <th><a href="" ng-click="sort('startdate')"> Date</a></th>
                                                                <th><a href="" ng-click="sort('enddate')">Document</a></th>
                                                                <th>Action</th>
                                                            </tr>
                                                        </thead>
                                                        <tbody>
                                                            <tr dir-paginate="print in filterValue2 = (exit_print_list | filter : searchValue2)  |orderBy:sortKey:sortReverse |itemsPerPage:itemsPerPage2" current-page="currentPage2" ng-class-odd="'odd'" pagination-id="page2">
                                                                <td class="text-center">{{itemsPerPage *(currentPage-1)+$index+1}}</td>
                                                                <td class="text-center">{{print.employeename}}</td>
                                                                <td class="text-center">{{print.ismresgrL_RLDate|date:'dd/MM/yyyy'}}</td>
                                                                <td class="text-center">
                                                                    <span ng-if="print.ismresG_ActiveFlag === true">
                                                                        <a href=""
                                                                           class="text-green" data-placement="bottom" data-toggle="tooltip" title="Completed">
                                                                            Completed
                                                                        </a>
                                                                    </span>
                                                                    <span ng-if="print.ismresG_ActiveFlag === false">
                                                                        <a href=""
                                                                           class="text-danger" data-placement="bottom" data-toggle="tooltip" title="Not Completed">
                                                                            Not Complete
                                                                        </a>
                                                                    </span>
                                                                </td>
                                                                <td class="text-center">
                                                                    <a href="javascript:void(0)" class="text-aqua" ng-click="Print_preview(print)" data-toggle="modal" data-placement="bottom" data-target="#myModalgetvealuationlist1" title="Print Preview">
                                                                        Preview
                                                                    </a>
                                                                </td>
                                                            </tr>
                                                        </tbody>
                                                    </table>
                                                    <dir-pagination-controls max-size="5"
                                                                             direction-links="true"
                                                                             boundary-links="true" pagination-id="page2">
                                                    </dir-pagination-controls>
                                                </div>
                                            </div>
                                            <!--=============================================-->

                                            <div id="myModalgetvealuationlist1" class="modal fade" role="dialog" data-backdrop="false" name="formm">
                                                <div class="modal-dialog modal-lg" style="width: 80%;">
                                                    <div class="modal-content">
                                                        <div class="modal-body">

                                                            <h4>Exit Employee List</h4>

                                                            <table class="table table-bordered">
                                                                <thead>
                                                                    <tr>
                                                                        <th>Sl No</th>
                                                                        <th class="text-center">Employee Name</th>
                                                                        <th class="text-center">Resignation Date</th>
                                                                        <th class="text-center">Working Last Date</th>
                                                                        <th class="text-center">Remark</th>
                                                                    </tr>
                                                                </thead>
                                                                <tbody>
                                                                    <tr ng-repeat="user1 in exit_print_list2">
                                                                        <td>{{$index+1}}</td>
                                                                        <td class="text-center">{{user1.employeename}}</td>
                                                                        <td class="text-center">{{user1.ismresG_ResignationDate|date:'dd/MM/yyyy'}}</td>
                                                                        <td class="text-center">{{user1.ismresgrL_RLDate|date:'dd/MM/yyyy'}}</td>
                                                                        <td class="text-center">{{user1.ismresG_Remarks}}</td>
                                                                    </tr>
                                                            </table>
                                                        </div>

                                                        <div class="modal-footer custom-footer">
                                                            <md-button type="submit" class="md-raised md-primary" data-ng-click="print(print)">
                                                                <i class="fa fa-floppy-o" aria-hidden="true"></i>
                                                                Print
                                                            </md-button>
                                                            <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>

                                            <!--============================================================-->
                                            <div class="box-body" ng-show="grid_flag">
                                                <div id="printSectionId" class="box-body">
                                                    <div class="col-sm-12">
                                                        <div class="row">
                                                            <div class="col-sm-6"><h4>Ref: VTS/HR/RLV-EXP LTR/2019-20/1</h4></div>

                                                            <div class="col-sm-6 text-right"><h4><b>Dated: {{Gdate_p|date:'dd/MM/yyyy'}}</b></h4></div>
                                                        </div>
                                                        <div class="row">
                                                            <h4 class="text-center">TO WHOMSOEVER IT MAY CONCERN</h4>
                                                        </div>
                                                        <div class="row">

                                                            <p>This is to certify that Mr. /Ms. {{employeename_p}} (Emp. ID- {{HRME_EmployeeCode_p}}) has worked with us as “{{HRMDES_DesignationName_p}}” since {{HRME_DOJ_p|date:'dd/MM/yyyy'}} at {{company_Name_p}}.</p>
                                                            <p>During the period of his/her {{year_p}} years and {{month_p}} months of service in our organization we have found his/her performance and behavior to be satisfactory.</p>
                                                            <p>The management has accepted his/her resignation dated {{ISMRESG_AccRejDate_p|date:'dd/MM/yyyy'}} and relieved from services with effect from {{ISMRESG_TentativeLeavingDate_p|date:'dd/MM/yyyy'}} after working hours.</p>
                                                            <p>We appreciate him/her efforts and commitment extended to the organization.</p>
                                                            <p>We wish him/her all the best for her future endeavors!!</p>
                                                            <p>For {{company_Name_p}}</p><br /><br />
                                                            <p>
                                                                [HR. Manager Name]<br />

                                                                (Manager-HR)<br />
                                                            </p>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </form>
                                    </md-content>
                                </md-tab>
                            </md-tabs>
                        </md-content>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="img-zoom-in-out">
        <div id="myModal" class="modal fade" role="dialog">
            <div class="modal-dialog">
                <!-- Modal content-->
                <div class="modal-content">
                    <div class="modal-body">
                        <img id="preview" class="img-responsive" />
                    </div>
                    <div class="modal-footer">
                        <div class="text-center">
                            <button class="btn" ng-click="zoomin()"><i class="fa fa-plus text-black"></i></button>
                            <button class="btn" ng-click="zoomout()"><i class="fa fa-minus text-black"></i></button>
                        </div>
                        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div id="showpdf" class="modal fade" role="dialog">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                </div>
                <embed ng-src="{{content}}" style="width: 100%;" height="1000" />
                <div class="modal-body" oncontextmenu="return false"></div>
            </div>
        </div>
    </div>

    <div id="myModalgetvealuationlist" class="modal fade" role="dialog" data-backdrop="false" name="formm">
        <div class="modal-dialog modal-lg" style="width: 80%;">
            <div class="modal-content">
                <div class="modal-body">
                    <form class="form-horizontal" name="myFormapp" role="form" novalidate>
                        <h4>Management Approval</h4>
                        <div class="row">
                            <div class="col-sm-12">
                                <div class="col-sm-2"></div>
                                <div class="col-sm-8">
                                    <div style="text-align:center;" data-ng-init="ISMRESG_MgmtApprRejFlg ='ACCEPT'">
                                        <input ng-value="'ACCEPT'" ng-model="ISMRESG_MgmtApprRejFlg" type="radio" name="AcceptedRejected">
                                        <span class="lbl padding-8">
                                            Accepted
                                        </span>
                                        <input ng-value="'REJECT'" ng-model="ISMRESG_MgmtApprRejFlg" type="radio" name="AcceptedRejected">
                                        <span class="lbl padding-8">
                                            Rejected
                                        </span>
                                    </div>

                                    <div class="form-group">
                                        <label class="control-label col-sm-4">Date :<span style="color:Red">*</span></label>
                                        <div class="col-sm-8">
                                            <md-datepicker ng-model="ISMRESG_AccRejDate" required onkeypress="return false" name="Accepted_Date" md-placeholder="Enter Date">
                                            </md-datepicker>
                                        </div>
                                        <div class="error-messages" ng-if="interactedapp(myFormapp.Accepted_Date)" ng-messages="myFormapp.Accepted_Date.$error">
                                            <div ng-message="required">Please Select Date</div>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label class="control-label col-sm-4">Management Remark :<span style="color:Red">*</span></label>
                                        <div class="col-sm-8">
                                            <textarea class="form-control" type="text" ng-model="ISMRESG_ManagementRemarks" name="Management_Remark" required></textarea>
                                        </div>
                                        <div class="error-messages" ng-if="interactedapp(myFormapp.Management_Remark)" ng-messages="myFormapp.Management_Remark.$error">
                                            <div ng-message="required">Please Enter Management Remark</div>
                                        </div>
                                    </div>
                                </div>
                                <div class="modal-footer custom-footer">
                                    <input type="hidden" ng-model="ismresgId" />
                                    <input type="hidden" ng-model="ismresgId_EDIT" />
                                    <md-button type="submit" class="md-raised md-primary" ng-click="update_AccRej()">
                                        <i class="fa fa-floppy-o" aria-hidden="true"></i>
                                        Save
                                    </md-button>
                                    <button type="button" id="btn" class="btn btn-default" data-dismiss="modal">Close</button>
                                </div>
                            </div>
                        </div>
                    </form>
                </div>

            </div>
        </div>
    </div>
</section>
