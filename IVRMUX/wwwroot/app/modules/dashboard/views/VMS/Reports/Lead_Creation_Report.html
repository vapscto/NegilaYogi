
<section class="content">
    <div data-ng-init="loadData()">
        <div class="box box-primary" id="aaaa">
            <div class="box-header with-border">
                <h3 class="box-title">SALES LEAD Report</h3>
                <div class="box-tools pull-right">
                    <button type="button" class="btn btn-box-tool" data-widget="collapse"><i class="fa fa-minus" id="sss"></i></button>
                </div>
            </div>
            <!-- /.box-header -->
            <form class="form-horizontal ng-pristine ng-valid" role="form" name="myForm" data-ng-submit="GetReport()" novalidate>
                <div class="box-body">
                    <!--<div class="row">
                        <div class="col-sm-6 col-sm-offset-3">
                            <div class="form-group">
                                <label class="control-label col-sm-3">LEAD NAME :</label>
                                <div class="col-sm-9">
                                    <input class="form-control" ng-model="namesearch" />
                                </div>
                            </div>
                        </div>
                        <div class="col-sm-6 col-sm-offset-3">
                            <div class="form-group">
                                <label class="control-label col-sm-3">CONTACT PERSON :</label>
                                <div class="col-sm-9">
                                    <input class="form-control" ng-model="contactname" />
                                </div>
                            </div>
                        </div>



                    </div>-->


                    <div class="row">
                        <div class="col-sm-4">
                            <div class="form-group">
                                <label class="control-label col-sm-4">CATEGORY :</label>
                                <div class="multiselect col-sm-8">
                                    <input class="form-control" ng-model="searchchkbx" type="text" placeholder="search here...">
                                    <label>
                                        <input name="hous1" value="1" ng-model="usercheckhous" type="checkbox" data-ng-click="all_checkhous()" ng-disabled="addbutton==false">
                                        <span class="lbl padding-8">
                                            <b> All</b>
                                        </span>
                                    </label>
                                    <label ng-repeat="val in categorylist |filter:filterchkbxhous" value="{{val.ismsmcA_Id}}">
                                        <input name="std23" value="1" data-ng-model="val.housselect" type="checkbox" ng-click="togchkbxhouse();" ng-disabled="addbutton==false" ng-change="houseWiseCompStudentList()">
                                        <span class="lbl padding-8">
                                            {{val.ismsmcA_CategoryName}}
                                        </span>
                                    </label>
                                </div>
                            </div>
                        </div>


                        <div class="col-sm-4">
                            <div class="form-group">
                                <label class="control-label col-sm-4">SOURCE :</label>
                                <div class="multiselect col-sm-8">
                                    <input class="form-control" ng-model="searchchkbx1" type="text" placeholder="search here...">
                                    <label>
                                        <input name="hous1" value="1" ng-model="usercheckhous1" type="checkbox" data-ng-click="all_checkhous1()" ng-disabled="addbutton==false">
                                        <span class="lbl padding-8">
                                            <b> All</b>
                                        </span>
                                    </label>
                                    <label ng-repeat="val in sourcelist |filter:filterchkbxhous1" value="{{val.ismsmsO_Id}}">
                                        <input name="std23" value="1" data-ng-model="val.select" type="checkbox" ng-click="togchkbxhouse1();" ng-disabled="addbutton==false" ng-change="houseWiseCompStudentList()">
                                        <span class="lbl padding-8">
                                            {{val.ismsmsO_SourceName}}
                                        </span>
                                    </label>
                                </div>
                            </div>
                        </div>



                        <div class="col-sm-4">
                            <div class="form-group">
                                <label class="control-label col-sm-4">PRODUCT :</label>
                                <div class="multiselect col-sm-8">
                                    <input class="form-control" ng-model="searchchkbx2" type="text" placeholder="search here...">
                                    <label>
                                        <input name="hous22" value="1" ng-model="usercheckhous2" type="checkbox" data-ng-click="all_checkhous2()" ng-disabled="addbutton==false">
                                        <span class="lbl padding-8">
                                            <b> All</b>
                                        </span>
                                    </label>
                                    <label ng-repeat="val in productlist |filter:filterchkbxhous2" value="{{val.ismsmpR_Id}}">
                                        <input name="std23" value="1" data-ng-model="val.select" type="checkbox" ng-click="togchkbxhouse2();" ng-disabled="addbutton==false" ng-change="houseWiseCompStudentList()">
                                        <span class="lbl padding-8">
                                            {{val.ismsmpR_ProductName}}
                                        </span>
                                    </label>
                                </div>
                            </div>
                        </div>

                        <div class="col-sm-4">
                            <div class="form-group">
                                <label class="control-label col-sm-4">STATUS :</label>
                                <div class="multiselect col-sm-8">
                                    <input class="form-control" ng-model="searchchkbx3" type="text" placeholder="search here...">
                                    <label>
                                        <input name="hous223" value="1" ng-model="usercheckhous3" type="checkbox" data-ng-click="all_checkhous3()" ng-disabled="addbutton==false">
                                        <span class="lbl padding-8">
                                            <b> All</b>
                                        </span>
                                    </label>
                                    <label ng-repeat="val in statuslist |filter:filterchkbxhous3" value="{{val.ismsmsT_Id}}">
                                        <input name="std23" value="1" data-ng-model="val.select" type="checkbox" ng-click="togchkbxhouse3();" ng-disabled="addbutton==false" ng-change="houseWiseCompStudentList()">
                                        <span class="lbl padding-8">
                                            {{val.ismsmsT_StatusName}}
                                        </span>
                                    </label>
                                </div>
                            </div>
                        </div>



                        <div class="col-sm-4">
                            <div class="form-group">
                                <label class="control-label col-sm-4">COUNTRY :</label>
                                <div class="multiselect col-sm-8">
                                    <input class="form-control" ng-model="searchchkbx4" type="text" placeholder="search here...">
                                    <label>
                                        <input name="hous2234" value="1" ng-model="usercheckhous4" type="checkbox" data-ng-click="all_checkhous4()" ng-disabled="addbutton==false">
                                        <span class="lbl padding-8">
                                            <b> All</b>
                                        </span>
                                    </label>
                                    <label ng-repeat="val in countrylist |filter:filterchkbxhous4" value="{{val.ivrmmC_Id}}">
                                        <input name="std23" value="1" data-ng-model="val.select" type="checkbox" ng-click="togchkbxhouse4();" ng-disabled="addbutton==false"><!--ng-change="get_state()"-->
                                        <span class="lbl padding-8">
                                            {{val.ivrmmC_CountryName}}
                                        </span>
                                    </label>
                                </div>
                            </div>
                        </div>


                        <div class="col-sm-4">
                            <div class="form-group">
                                <label class="control-label col-sm-4">STATE :</label>
                                <div class="multiselect col-sm-8">
                                    <input class="form-control" ng-model="searchchkbx5" type="text" placeholder="search here...">
                                    <label>
                                        <input name="hous2235" value="1" ng-model="usercheckhous5" type="checkbox" data-ng-click="all_checkhous5()" ng-disabled="addbutton==false">
                                        <span class="lbl padding-8">
                                            <b> All</b>
                                        </span>
                                    </label>
                                    <label ng-repeat="val in statelist |filter:filterchkbxhous5" value="{{val.ivrmmS_Id}}">
                                        <input name="std23" value="1" data-ng-model="val.select" type="checkbox" ng-click="togchkbxhouse5();" ng-disabled="addbutton==false">
                                        <span class="lbl padding-8">
                                            {{val.ivrmmS_Name}}
                                        </span>
                                    </label>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-sm-3"></div>
                        <div class="col-sm-6">
                            <div class="form-group">

                                <div class="col-sm-5">
                                    <md-datepicker ng-model="startdate" name="sdate" md-placeholder="Start Date" md-max-date="enddate" ng-required="datefilter=='BD'"></md-datepicker>
                                    <div class="error-messages" ng-if="interacted(myForm.sdate)" ng-messages="myForm.sdate.$error">
                                        <div ng-message="required">Select Start Date</div>
                                    </div>
                                </div>
                                <div class="col-sm-4">
                                    <md-datepicker ng-model="enddate" name="ddate" md-placeholder="End Date" md-min-date="startdate" ng-required="datefilter=='BD'"></md-datepicker>
                                    <div class="error-messages" ng-if="interacted(myForm.ddate)" ng-messages="myForm.ddate.$error">
                                        <div ng-message="required">Select End Date</div>
                                    </div>
                                </div>

                            </div>
                        </div>
                        <div class="col-sm-3"></div>
                    </div>

                    <div class="text-center">
                        <md-button type="submit" ng-disabled="form.$invalid" class="md-raised md-primary" ng-click="getdata();">
                            <i class="fa fa-bar-chart" aria-hidden="true"></i> Report
                        </md-button>
                        <md-button type="button" class="md-raised md-warn" ng-click="clearid()">
                            <i class="fa fa-times" aria-hidden="true"></i> Cancel
                        </md-button>
                        <!--<md-button type="button" class="md-raised md-warn" ng-disabled="!grid_view" id="print-btn" aria-disabled="false" ng-click="printData();">
                            <i class="fa fa-print" aria-hidden="true"></i>
                            Print
                        </md-button>-->
                        <md-button type="button" ng-click="exportToExcel('#tableexcell')" target="_blank" class="md-raised md-primary" ng-disabled="!grid_view">
                            <i class="fa fa-file-excel-o" aria-hidden="true"></i>
                            Export to Excel
                        </md-button>

                    </div>
                </div>
                <hr />

            </form>
        </div>
        <!-- /.box-body -->
    </div>
    <form class="form-horizontal ng-pristine ng-valid" role="form" name="myForm1" novalidate>
        <div class="box box-primary" ng-show="leadlist.length > 0">
            <div class="box-header with-border">
                <h3 class="box-title">Sales lead Reports List</h3>
                <div class="box-tools pull-right">
                    <button type="button" class="btn btn-box-tool" data-widget="collapse" data-placement="bottom" data-toggle="tooltip" title="collapsible"><i class="fa fa-minus"></i></button>
                </div>
            </div>
            <!-- /.box-header -->
            <div class="box-body">


                <div class="col-sm-4">
                    <div class="form-group">
                        <label class="control-label">
                            <b> Total Grid Records :</b>
                            <label class="badge">
                                {{leadlist.length}}
                            </label>
                        </label>
                    </div>
                </div>
                <div class="col-sm-4">
                    <div class="form-group" ng-if="searchValue!=''">
                        <label class="control-label">
                            <b>Total Records Searched : </b>
                            <label class="badge">
                                {{filterValue1.length}}
                            </label>
                        </label>
                    </div>
                </div>
                <div class="col-sm-4 pull-right">
                    <div class="form-group">
                        <div class="input-group">
                            <span class="input-group-addon">
                                <i class="fa fa-search"></i>
                            </span>
                            <input class="form-control" ng-model="searchValue" type="text" placeholder="search here...">
                        </div>
                    </div>
                </div>

                <table class="table table-hover table-responsive table-bordered text-center">
                    <thead>
                        <tr>
                            <td style="text-align:center;">SL. NO</td>
                            <td style="text-align:center;">LEAD NAME</td>
                            <td style="text-align:center;">LEAD ADDRESS</td>
                            <td style="text-align:center;">STATUS</td>
                            <td style="text-align:center;">SOURCE NAME </td>
                            <td style="text-align:center;">CATEGORY</td>
                            <td style="text-align:center;">PRODUCTS</td>
                            <td style="text-align:center;width: 8%;">DATE</td>
                        </tr>
                    </thead>
                    <tbody>
                        <tr dir-paginate="user in filterValue1 = (leadlist | filter : searchValue) |orderBy:sortKey:reverse  |itemsPerPage:itemsPerPage" current-page="currentPage">  
                            <td>{{itemsPerPage *(currentPage-1)+$index+1}}</td>
                            <td style="text-align:left;">{{ user.ismslE_LeadName}}</td>                           
                            <td style="text-align:left;">{{ user.ismslE_LeadAddress}}</td>
                            <td style="text-align:left;">{{ user.ismsmsT_StatusName}}</td>
                            <td style="text-align:left;">{{ user.ismsmsO_SourceName}}</td>
                            <td style="text-align:left;">{{ user.ismsmcA_CategoryName}}</td>
                            <td style="text-align:left;">{{ user.ISMSMPR_ProductName}}</td>                            
                            <td style="text-align:left;">{{ user.CreatedDate  |date:"dd-MM-yyyy" }}</td>
                        </tr>
                    </tbody>
                </table>
                <br />
                <dir-pagination-controls max-size="5"
                                         direction-links="true"
                                         boundary-links="true">
                </dir-pagination-controls>

            </div>
            <div ng-hide="true">
                <!--<div id="printSectionId">
                    <div class="baldwin text-center">
                        <img src="{{imgname}}" style="height:100px;width:50%" class="img-responsive" alt="baldwin">
                    </div>
                    <center>
                        <h4>Sales Lead REPORT</h4>

                    </center>
                    <br />
                    <table class="table table-hover table-responsive table-bordered text-center" id="table1">
                        <thead style="font-weight: bold;">

                            <tr>
                                <th><a href="" ng-click="order('')">SNO</a></th>
                                <th><a href="" ng-click="sort('')">Lead Name</a></th>
                                <th><a href="" ng-click="sort('')">Contact Person</a></th>
                                <th><a href="" ng-click="sort('')">Product Name</a></th>
                                <th><a href="" ng-click="sort('')">Category Name</a></th>
                                <th><a href="" ng-click="sort('')">Source Name</a></th>
                                <th><a href="" ng-click="sort('')">Status Name</a></th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr dir-paginate="user in filterValue1">
                                <td>{{$index+1}}</td>
                                <td>{{user.ISMSLE_LeadName}}</td>
                                <td>{{user.ISMSLE_ContactPerson}}</td>
                                <td>{{user.ISMSMPR_ProductName}}</td>
                                <td>{{user.ISMSMCA_CategoryName}}</td>
                                <td>{{user.ISMSMSO_SourceName}}</td>
                                <td>{{user.ISMSMST_StatusName}}</td>
                            </tr>
                        </tbody>

                    </table>
                </div>-->

                <div id="tableexcell" ng-show="printSectionId" style="overflow:scroll">
                    <!--<center> <h4><u> REGISTRATION REPORT </u></h4></center>-->
                    <table class="table table-hover table-responsive table-bordered text-center">
                        <thead>
                            <tr style="border:0.5px solid black;font-family:'Times New Roman', Times, serif;font-weight:bold">
                                <td style="text-align:center;">
                                    SL.NO.
                                </td>
                                <td style="text-align:center;">LEAD NAME</td>
                                <td style="text-align:center;">CONTACT PERSON</td>
                                <td style="text-align:center;">CONTACT NUMBER</td>
                                <td style="text-align:center;">LEAD ADDRESS</td>
                                <td style="text-align:center;">STUDENT STRENGTH </td>
                                <td style="text-align:center;">STAFF STRENGTH </td>
                                <td style="text-align:center;">INSTITUTIONS</td>
                                <td style="text-align:center;">STATUS</td>
                                <td style="text-align:center;">SOURCE NAME </td>
                                <td style="text-align:center;">CATEGORY</td>
                                <td style="text-align:center;">PRODUCTS</td>
                                <td style="text-align:center;">COUNTRY NAME</td>
                                <td style="text-align:center;">STATE NAME</td>
                                <td style="text-align:center;">REMARKS</td>
                                <td style="text-align:center;">DATE</td>
                            </tr>
                        </thead>
                        <tr style="border:0.5px solid black;font-family:'Times New Roman', Times, serif" ng-repeat="user in leadlist_1 | orderBy:propertyName:reverse">
                            <td style="text-align:center;">{{ $index+1}}</td>
                            <td style="text-align:left;">{{ user.ismslE_LeadName}}</td>
                            <td style="text-align:left;">{{ user.ismslE_ContactPerson}}</td>
                            <td style="text-align:left;">{{ user.ismslE_ContactNo}}</td>
                            <td style="text-align:left;">{{ user.ismslE_LeadAddress}}</td>
                            <td style="text-align:left;">{{ user.ismslE_StudentStrength}}</td>
                            <td style="text-align:left;">{{ user.ismslE_StaffStrength}}</td>
                            <td style="text-align:left;">{{ user.ismslE_NoOfInstitutions}}</td>
                            <td style="text-align:left;">{{ user.ismsmsT_StatusName}}</td>
                            <td style="text-align:left;">{{ user.ismsmsO_SourceName}}</td>
                            <td style="text-align:left;">{{ user.ismsmcA_CategoryName}}</td>
                            <td style="text-align:left;">{{ user.ISMSMPR_ProductName}}</td>
                            <td style="text-align:left;">{{ user.IVRMMC_CountryName}}</td>
                            <td style="text-align:left;">{{ user.IVRMMS_Name}}</td>
                            <td style="text-align:left;">{{ user.ismslE_Remarks}}</td>
                            <td style="text-align:left;">{{ user.CreatedDate  |date:"dd-MM-yyyy" }}</td>
                        </tr>
                    </table>
                </div>
            </div>
        </div>
    </form>

</section>

