
<section class="content">
    <div class="">
        <div class="">
            <div class="box box-primary">
                <div class="box-header with-border">
                    <h3 class="box-title">Seat Blocking</h3>
                    <div class="box-tools pull-right">
                        <button type="button" class="btn btn-box-tool" data-widget="collapse" ng-click="ShowHide()"><i class="fa fa-minus"></i></button>
                    </div>
                </div>
                <div class="box-body" ng-show="IsHidden">
                    <form class="form-horizontal" name="myForm" novalidate role="form" data-ng-init="SeatBlockDropdownList()">
                       <div class="row">
                           <div class="col-sm-6">
                               <div class="form-group">
                                   <label class="control-label col-sm-4">Institution Name: <span style="color:Red">*</span></label>
                                   <div class="col-sm-8">
                                       <select class="form-control" id="sel1" name="inst" data-ng-model="MI_Id" ng-change="getInstitutionId(MI_Id)" required>
                                           <option value="">--Select Institution--</option>
                                           <option ng-repeat="option in InstuteDropDown" value="{{option.mI_Id}}" ng-selected="{{option.Selected==true}}">
                                               {{option.mI_Name}}
                                           </option>
                                       </select>
                                       <div class="error-messages" ng-if="interacted(myForm.inst)" ng-messages="myForm.inst.$error">
                                           <div ng-message="required">Select the Institution</div>
                                       </div>
                                   </div>
                               </div>
                               <div class="form-group">
                                   <label class="control-label col-sm-4">Date: <span style="color:Red">*</span></label>
                                   <div class="col-sm-4">
                                       <md-datepicker data-ng-model="PASBS_Date" onkeydown="return false" name="entrydate" md-placeholder="Select date" required></md-datepicker>
                                       <div class="error-messages" ng-if="interacted(myForm.entrydate)" ng-messages="myForm.entrydate.$error">
                                           <div ng-message="required">Please fill out this field </div>
                                       </div>
                                   </div>
                               </div>
                               <div class="form-group">
                                   <label class="control-label col-sm-4">Year: <span style="color:Red">*</span></label>
                                   <div class="col-sm-8">
                                       <select class="form-control" id="sel2" name="yr" data-ng-model="ASMAY_Id" ng-change="getStudentList(ASMAY_Id)" required>
                                           <option value="">--Select Year--</option>
                                           <option ng-repeat="option in YearDropdown" value="{{option.asmaY_Id}}" ng-selected="{{option.Selected == true}}">
                                               {{option.asmaY_Year}}
                                           </option>
                                       </select>
                                       <div class="error-messages" ng-if="interacted(myForm.yr)" ng-messages="myForm.yr.$error">
                                           <div ng-message="required">Select the Academic Year</div>
                                       </div>
                                   </div>
                               </div>
                           </div>
                           <div class="col-sm-6">
                               <div class="form-group">
                                   <label class="control-label col-sm-4">Student Name: <span style="color:Red">*</span></label>
                                   <div class="col-sm-8">
                                       <select class="form-control" id="sel3" name="stud" data-ng-model="pasr_id" ng-disabled="disable" required>
                                           <option value="">Select Student </option>
                                           <option ng-repeat="option in RegstudentdropDown" value="{{option.pasr_id}}" ng-selected="{{option.Selected == true}}">
                                               {{option.pasR_FirstName}}
                                           </option>
                                       </select>
                                       <div class="error-messages" ng-if="interacted(myForm.stud)" ng-messages="myForm.stud.$error">
                                           <div ng-message="required">Select Student Name</div>
                                       </div>
                                   </div>
                               </div>
                               <div class="form-group">
                                   <label class="control-label col-sm-4">Staff / Student: <span style="color:Red">*</span></label>
                                   <div class="col-sm-8">
                                       <select class="form-control" name="staff" id="sel4" data-ng-model="IVRMSTAUL_Id" required>
                                           <option value="">Select</option>
                                           <option ng-repeat="option in staffUserDropdown" value="{{option.ivrmstauL_Id}}" ng-selected="{{option.Selected == true}}">
                                               {{option.ivrmstauL_UserName}}
                                           </option>
                                       </select>
                                       <div class="error-messages" ng-if="interacted(myForm.staff)" ng-messages="myForm.staff.$error">
                                           <div ng-message="required">Select Staff/Student Name</div>
                                       </div>
                                   </div>
                               </div>
                           </div>
                       </div>
                        <hr />
                        <div class="">
                            <div class="text-center">
                                <span ng-show="userPrivileges.ivrmirP_AddFlag===true">
                                    <md-button type="submit" ng-disabled="myBtn1" ng-model='myBtn1' class="md-raised md-primary" ng-click="saveSeatBlock()">                                       
                                        Seat Block
                                    </md-button>
                                </span>
                                <md-button type="submit" class="md-raised md-warn" ng-click="cleardata()">
                                    <i class="fa fa-times" aria-hidden="true"></i>
                                   Cancel
                                </md-button>
                            </div>
                        </div>
                    </form>
                  
                </div>

            </div>
        </div>
    </div>

    <div class="box box-primary">
        <div class="box-header with-border">
            <h3 class="box-title">Seat Block Student List</h3>
            <div class="box-tools pull-right">
                <button type="button" class="btn btn-box-tool" data-widget="collapse" ng-click="ShowHide1()"><i class="fa fa-minus"></i></button>
            </div>
        </div>
        <!-- /.box-header -->
        <div class="box-body" ng-show="IsHidden1">
            <div class="row">
                <div class="col-sm-4 pull-right">
                    <div class="form-group">
                        <div class="input-group">
                            <span class="input-group-addon">
                                <i class="fa fa-search"></i>
                            </span>
                            <input class="form-control" ng-model="searchValue" type="text" placeholder="search here...">

                        </div>
                    </div>
                </div>
            </div>
            <table>
                <tr>
                    <td>

                        <b> <label class="control-label " style="font-size:medium;font-weight:600;color:black;">Total Grid Records:<span class="badge">{{presentCountgrid}}</span>&nbsp;&nbsp;&nbsp;</label></b>

                    </td>


                </tr>
            </table>
            <table class="table table-hover table-responsive table-bordered">


                <thead>
                    <tr>
                        <th>
                            SL.NO
                        </th>
                        <th>
                            <a href="" ng-click="sort('instituteName')">Institution</a>
                        </th>

                        <th><a href="" ng-click="sort('studentName')">Student name</a></th>

                        <th><a href="" ng-click="sort('pasbS_Date')">Date</a></th>

                        <th><a href="" ng-click="sort('staff')">staff / Student</a></th>
                        <th><a href="" ng-click="sort('year')">Year</a></th>
                        <th>Action</th>
                    </tr>
                    <!--<tr>
                        <td> </td>
                        <td> <input type="text" ng-model="search.instituteName" class="form-control" placeholder="Search by Institute name" /></td>
                        <td> <input type="text" ng-model="search.studentName" class="form-control" placeholder="Search by Student name" /></td>
                        <td> <input type="text" ng-model="search.pasbS_Date" class="form-control" placeholder="Search by date"/> </td>
                        <td> <input type="text" ng-model="search.staff" class="form-control" placeholder="Search by staff/student"/> </td>
                        <td> <input type="text" ng-model="search.year" class="form-control" placeholder="Search by year"/> </td>
                        <td></td>
                    </tr>-->
                </thead>
                <tbody>

                    <tr dir-paginate="user in seatBlockedList  |orderBy:sortKey:reverse | filter:filterValue|itemsPerPage:itemsPerPage" current-page="currentPage" ng-class-odd="'odd'">
                        <td>{{itemsPerPage *(currentPage-1)+$index+1}}</td>
                        <td>{{ user.instituteName}}</td>
                        <td>{{ user.studentName}}</td>
                        <td>{{ user.pasbS_Date | date:'dd-MM-yyyy'}}</td>
                        <td>{{ user.staff}}</td>
                        <td>{{ user.year}}</td>
                        <td class="text-center">
                            <!--<span ng-show="userPrivileges.ivrmirP_UpdateFlag===true">
                                <a href="javascript:void(0)" ng-click="edit(user.pasbS_Id)" class="text-primary" data-placement="bottom" data-toggle="tooltip" title="Edit">
                                    <i class="fa fa-pencil-square-o" aria-hidden="true"></i>
                                </a>
                            </span>-->
                            <span ng-show="userPrivileges.ivrmirP_DeleteFlag===true">
                                <a href="javascript:void(0)" ng-click="delete(user.pasbS_Id)"
                                   class="text-danger" data-placement="bottom" data-toggle="tooltip" title="Delete">
                                    <i class="fa fa-trash" aria-hidden="true"></i>
                                </a>
                                </span>
                           </td>
                    </tr>
                </tbody>
            </table>
            <dir-pagination-controls max-size="5"
                                     direction-links="true"
                                     boundary-links="true">
            </dir-pagination-controls>
        </div>
    </div>

</section>