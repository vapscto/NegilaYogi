

<section class="content" data-ng-init="enquiry()">


    <form class="form-horizontal" role="form">

        <!--<div class="box box-primary">
            <div class="box-header with-border">
                <h3 class="box-title">SEARCH BY ENQUIRY</h3>
                <div class="box-tools pull-right">
                    <button type="submit" ng-click="ShowHide()" class="btn btn-box-tool" data-widget="collapse"><i class="fa fa-minus"></i></button>
                </div>
            </div>
            <div class="box-body" ng-show="IsHidden">
                <div class="row">
                    <div class="col-sm-6 col-sm-offset-3">
                       
                        <div class="form-group">
                            <label class="control-label col-sm-3">Search :</label>
                            <div class="col-sm-9">
                                <input type="text" class="form-control" ng-model="searchinput" required />
                            </div>
                        </div>
                        <hr />
                        <div class="text-center">
                            <md-button type="submit" class="md-raised md-primary" ng-click="searchEnq()" ng-disabled="form.$invalid" id="save-btn">
                                <i class="fa fa-search" aria-hidden="true"></i> Search
                            </md-button>
                        </div>
                    </div>
                </div>
            </div>
        </div>--> 
    </form>
   

    <div class="box box-primary">
        <div class="box-header with-border">
            <h3 class="box-title">Details Of The Enquiry</h3>
            <div class="box-tools pull-right">
                <button type="submit" ng-click="ShowHide1()" class="btn btn-box-tool" data-widget="collapse"><i class="fa fa-minus"></i></button>
            </div>
        </div>
        <form class="form-horizontal" ng-show="IsHidden1" role="form" data-ng-submit="saveEnqdata()" method="post" name="myForm" novalidate>
            <div class="box-body">
                <div class="row">
                    <div class="col-sm-6">
                        <div ng-show="EnquiryNo">
                            <div class="form-group">
                                <label class="control-label col-sm-3">Enquiry No.:<strong style="color:red;display:inline; font-weight: bolder; margin-left: 7px;" ng-if="Enquirenorequire===true">*</strong></label>
                                <div class="col-sm-9">
                                    <input type="text" class="form-control" name="enquiryno" ng-disabled="enquiryno" placeholder="Enquiry No." data-ng-model="PASE_EnquiryNo" ng-required="Enquirenorequire===true">
                                    <div class="error-messages" ng-if="interacted(myForm.enquiryno)" ng-messages="myForm.enquiryno.$error">
                                        <div ng-message="required">Please enter Enquiry No.</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <input type="hidden" ng-model="PASE_Id" />

                        <div class="form-group">
                            <label class="control-label col-sm-3">Academic Year:<span style="color:red;">*</span></label>
                            <div class="col-sm-9">
                                <select class="form-control" id="sel1" ng-model="ASMAY_Id" ng-disabled="ASMAY_Id">
                                    <option ng-repeat="year in years" value="{{year.asmaY_Id}}" ng-selected="{{year.Selected==true}}">
                                        {{year.asmaY_Year}}
                                    </option>
                                </select>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="control-label col-sm-3">Name:<span style="color:red;">*</span></label>
                            <div class="col-sm-9">
                                <input type="text" class="form-control" placeholder="first name" name="name" data-ng-model="PASE_FirstName" ng-minlength="3" allow-pattern="[a-zA-Z ]" required>
                                <div class="error-messages" ng-if="interacted(myForm.name)" ng-messages="myForm.name.$error">
                                    <div ng-message="required">Enter the field Name</div>
                                    <div ng-message="pattern">The field contains only alphabets</div>
                                    <div ng-message="minlength">The field should contain minimum 3 alphabets </div>
                                </div>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="control-label col-sm-3"></label>
                            <div class="col-sm-5">
                                <input type="text" class="form-control" placeholder="Middle Name" name="middle" allow-pattern="[a-zA-Z ]" data-ng-model="PASE_MiddleName">
                                <div class="error-messages" ng-if="interacted(myForm.middle)" ng-messages="myForm.middle.$error">
                                    <div ng-message="pattern">The field contains only alphabets</div>
                                </div>
                            </div>
                            <div class="col-sm-4">
                                <input type="text" class="form-control" placeholder="Last Name" name="lname" data-ng-model="PASE_LastName" allow-pattern="[a-zA-Z ]">
                                <div class="error-messages" ng-if="interacted(myForm.lname)" ng-messages="myForm.lname.$error">
                                    <div ng-message="pattern">The field contains only alphabets</div>
                                </div>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="control-label col-sm-3">Class:<span style="color:red;">*</span></label>
                            <div class="col-sm-9">
                                <select class="form-control" data-ng-model="ASMCL_Id" name="cls" required>
                                    <option value="">--Select--</option>
                                    <option ng-repeat="classs in classes" value="{{classs.asmcL_Id}}" ng-selected="{{classs.Selected==true}}">
                                        {{classs.asmcL_ClassName}}
                                </select>
                                <div class="error-messages" ng-if="interacted(myForm.cls)" ng-messages="myForm.cls.$error">
                                    <div ng-message="required">Select the field Class</div>
                                </div>
                            </div>
                        </div>

                        <div class="form-group">
                            <label class="control-label col-sm-3">Address1 :<span style="color:red;">*</span></label>
                            <div class="col-sm-9 text-right">
                                <textarea class="form-control" rows="2" data-ng-model="PASE_Address1" ng-trim="false" ng-maxlength="40" ng-minlength="6" placeholder="Flat no/house no" name="add1" required></textarea>
                                <span ng-show="PASE_Address1">{{40 - PASE_Address1.length}} left</span>
                                <div class="text-left error-messages" ng-if="interacted(myForm.add1)" ng-messages="myForm.add1.$error">
                                    <div ng-message="required">Enter the Address1</div>
                                    <div ng-message="minlength">Field must contain atleast 6 characters</div>
                                    <div ng-message="maxlength">Field cannot take more than 40 characters</div>
                                </div>
                            </div>
                        </div>

                        <div class="form-group">
                            <label class="control-label col-sm-3">Address2 :</label>
                            <div class="col-sm-9 text-right">
                                <textarea class="form-control" rows="2" data-ng-model="PASE_Address2" ng-trim="false" maxlength="40" placeholder="street"></textarea>
                                <span ng-show="PASE_Address2">{{40 - PASE_Address2.length}} left</span>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="control-label col-sm-3">Address3 :</label>
                            <div class="col-sm-9 text-right">
                                <textarea class="form-control" rows="2" data-ng-model="PASE_Address3" ng-trim="false" maxlength="40" placeholder="colony/area/locality"></textarea>
                                <span ng-show="PASE_Address3">{{40 - PASE_Address3.length}} left</span>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="control-label col-sm-3">Country :<span style="color:red;">*</span></label>
                            <div class="col-sm-9">
                                <select class="form-control" name="country" id="sel1" ng-model="IVRMMC_Id" ng-change="onSelectcountryChangecount(arrlistcoun)" required>

                                    <option value="" label="Select Country"> </option>
                                    <option ng-repeat="option in arrlistcoun" value="{{option.ivrmmC_Id}}" ng-selected="{{option.Selected == true}}">
                                        {{option.ivrmmC_CountryName}}
                                    </option>
                                </select>
                                <div class="error-messages" ng-if="interacted(myForm.country)" ng-messages="myForm.country.$error">

                                    <div ng-message="required">Select the Country</div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-sm-6">
                        
                        <div class="form-group">
                            <label class="control-label col-sm-3">State :<span style="color:red;">*</span></label>
                            <div class="col-sm-9">
                                <select class="form-control" id="sel1" ng-model="PASE_State" name="state" required>
                                    <option value="" label="Select State"> </option>
                                    <option ng-repeat="option in arrliststate" value="{{option.ivrmmS_Id}}" ng-selected="{{option.Selected == true}}">
                                        {{option.ivrmmS_Name}}
                                    </option>
                                </select>
                                <div class="error-messages" ng-if="interacted(myForm.state)" ng-messages="myForm.state.$error">

                                    <div ng-message="required">Select the State</div>
                                </div>
                            </div>
                        </div>

                        <div class="form-group">
                            <label class="control-label col-sm-3">City :<span style="color:red;">*</span></label>
                            <div class="col-sm-9">
                                <input type="text" class="form-control" name="city" data-ng-model="PASE_City" placeholder="City" required allow-pattern="[a-zA-Z ]">
                                <div class="error-messages" ng-if="interacted(myForm.city)" ng-messages="myForm.city.$error">
                                    <div ng-message="required">Enetr Field City</div>
                                    <div ng-message="pattern">The field contains only alphabets</div>
                                </div>
                            </div>

                        </div>
                        <div class="form-group">
                            <label class="control-label col-sm-3">Pin code:<span style="color:red;">*</span></label>
                            <div class="col-sm-9">
                                <input type="text" class="form-control" name="pincode" maxlength="6" minlength="6" ng-model="PASE_Pincode" allow-pattern="\d" required>
                                <div class="error-messages" ng-if="interacted(myForm.pincode)" ng-messages="myForm.pincode.$error">
                                    <div ng-message="required">Enetr Field Pincode</div>
                                    <div ng-message="pattern"> Pincode will accept only numerics </div>
                                    <div ng-message="minlength">Field must contain atleast 6 characters</div>
                                    <div ng-message="maxlength">Field contains maximum 6 characters</div>
                                </div>
                            </div>

                        </div>
                        <div class="form-group">
                            <label class="control-label col-sm-3">Mobile Number:<span style="color:red;">*</span></label>
                            <div class="col-sm-9" style="">
                                <div class="input-group">
                                    <div class="input-group-addon">
                                        <i class="fa fa-tablet"></i>
                                    </div>
                                    <input type="text" class="form-control" name="mobile" data-ng-model="PASE_MobileNo" minlength="10" maxlength="10" allow-pattern="\d" required>
                                </div>
                                <div class="error-messages" ng-if="interacted(myForm.mobile)" ng-messages="myForm.mobile.$error">
                                    <div ng-message="required">Enetr Field Mobile Number</div>
                                    <div ng-message="minlength"> Mobile number must contain 10 digits</div>
                                    <div ng-message="maxlength">Mobile number must contain 10 digits</div>
                                    <div ng-message="pattern"> Mobile Number will accept only numerics </div>
                                </div>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="control-label col-sm-3">Phone No:<span style="color:red;">*</span></label>
                            <div class="col-sm-9" style="">
                                <div class="input-group">
                                    <div class="input-group-addon">
                                        <i class="fa fa-phone"></i>
                                    </div>
                                    <input type="text" class="form-control" name="phone" data-ng-model="PASE_Phone " maxlength="10" minlength="10" allow-pattern="\d" required>
                                </div>
                                <div class="error-messages" ng-if="interacted(myForm.phone)" ng-messages="myForm.phone.$error">
                                    <div ng-message="required">Enter Phone number</div>
                                    <div ng-message="minlength">Phone number must contain 10 digits</div>
                                    <div ng-message="maxlength">Phone number must contain 10 digits</div>
                                    <div ng-message="pattern"> Phone number will accept only numerics </div>
                                </div>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="control-label col-sm-3">Email ID:<span style="color:red;">*</span></label>
                            <div class="col-sm-9" style="">
                                <div class="input-group">
                                    <div class="input-group-addon">
                                        <i class="fa fa-envelope-o"></i>
                                    </div>
                                    <input type="text" class="form-control" name="email" ng-pattern="/^[a-z]+[a-z0-9._]+@[a-z]+\.[a-z.]{2,5}$/" data-ng-model="PASE_emailid" required />
                                </div>
                                <div class="error-messages" ng-if="interacted(myForm.email)" ng-messages="myForm.email.$error">
                                    <div ng-message="required">Enter a email</div>
                                    <div ng-message="pattern">Please enter valid email which contains '@' and '.'</div>
                                </div>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="control-label col-sm-3">Category:<span style="color:red;">*</span></label>
                            <div class="col-sm-9">
                                <select class="form-control" id="sel1" data-ng-model="AMC_Id" name="cat" required>
                                    <option value="">--Select--</option>
                                    <option ng-repeat="categories in category" value="{{categories.amC_Id}}" ng-selected="{{categories.Selected==true}}">
                                        {{categories.amC_Name}}
                                </select>
                                <div class="error-messages" ng-if="interacted(myForm.cat)" ng-messages="myForm.cat.$error">
                                    <div ng-message="required">Select the Category</div>
                                </div>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="control-label col-sm-3">Enquiry :<span style="color:red;">*</span></label>
                            <div class="col-sm-9 text-right">
                                <textarea class="form-control" rows="3" name="description" data-ng-model="PASE_EnquiryDetails" ng-trim="false" maxlength="200" required></textarea>
                                <span ng-show="PASE_EnquiryDetails">{{200 - PASE_EnquiryDetails.length}} left</span>
                                <div class="error-messages text-left" ng-if="interacted(myForm.description)" ng-messages="myForm.description.$error">
                                    <div ng-message="required">Enter Enquiry details</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <hr />
            <div class="text-center">
                <span ng-show="userPrivileges.ivrmirP_AddFlag===true">
                    <md-button type="submit" class="md-raised md-primary">
                        <i class="fa fa-floppy-o" aria-hidden="true"></i>
                        Save
                    </md-button>
                </span>
                <md-button type="reset" class="md-raised md-warn" data-ng-click="cance()">
                    <i class="fa fa-times" aria-hidden="true"></i>
                    Cancel
                </md-button>
            </div>
        </form>
    </div><!--end ng report-->
    <div class="box box-primary">
        <div class="box-header with-border">
            <h3 class="box-title">ENQUIRY DETAILS</h3>
            <div class="box-tools pull-right">
                <button type="button" ng-click="ShowHide2()" class="btn btn-box-tool" data-widget="collapse" data-placement="bottom" data-toggle="tooltip" title="collapsible"><i class="fa fa-minus"></i></button>
            </div>
        </div>
        <!-- /.box-header -->
        <div class="box-body" ng-show="IsHidden2" style="overflow:scroll" id="style-4">

            <div class="">
                <div class="col-sm-4">
                    <div class="form-group">
                        <label class="control-label">
                            <b> Total Grid Records :</b>
                            <label class="badge">
                                {{presentCountgrid}}
                            </label>
                        </label>
                    </div>
                </div>
                <div class="col-sm-4">
                    <div class="form-group" ng-if="search!=''">
                        <label class="control-label">
                            <b>Total Records Searched : </b>
                            <label class="badge">
                                {{filterValue1.length}}
                            </label>
                        </label>
                    </div>
                </div>
                <div class="col-sm-4">
                    <div class="form-group">
                        <div class="input-group">
                            <span class="input-group-addon">
                                <i class="fa fa-search"></i>
                            </span>

                            <input class="form-control" ng-model="search" type="text" placeholder="search here...">

                        </div>
                    </div>
                </div>
            </div>

            <!--<div class="row">
                <div class="col-sm-4 pull-right">
                    <div class="form-group">
                        <div class="input-group">
                            <span class="input-group-addon">
                                <i class="fa fa-search"></i>
                            </span>
                            <input typeof="text" class="form-control" placeholder="search here" ng-model="search">
                        </div>
                    </div>
                </div>
            </div>

            <table>
                <tr>
                    <td>

                        <b> <label class="control-label " style="font-size:medium;font-weight:600;color:black;">Total Grid Records:<span style="font-size:medium;font-weight:600;color:black;" >{{presentCountgrid}}</span>&nbsp;&nbsp;&nbsp;</label></b>

                    </td>


                </tr>
            </table>-->

            <table class="table table-hover table-responsive table-bordered">
               
                <thead>
                    <tr>
                        <th>
                            <a href="" ng-click="order('sno')">SL.NO</a>
                        </th>
                        <th>
                            <a href="" ng-click="order('pasE_FirstName')">Student Name</a>
                        </th>
                        <!--<th>
                            <a href=""  ng-click="order('pasE_MiddleName')">Middle Name</a>
                        </th>
                        <th>
                            <a href=""  ng-click="order('pasE_LastName')">Last Name</a>
                        </th>-->
                        <th>
                            <a href="" ng-click="order('pasE_Date')">Enquiry Date</a>
                        </th>
                        <th>
                            <a href="" ng-click="order('pasE_EnquiryNo')">Enquiry No</a>
                        </th>
                        <th>
                            <a href="" ng-click="order('pasE_EnquiryDetails')">Enquiry Detail</a>
                        </th>
                        <th>
                            <a href="" ng-click="order('pasE_MobileNo')">Mobile Number.</a>
                        </th>
                        <th>
                            <a href="" ng-click="order('pasE_emailid')">Email-Id</a>
                        </th>
                        <th>
                            <a href="">Action</a>

                        </th>
                        <th hidden="hidden"></th>

                    </tr>
                </thead>
                <tbody>
                    <tr dir-paginate="user in filterValue1=(enqname |filter:filterOnLocation)  |orderBy:sortKey:reverse|itemsPerPage:itemsPerPage" current-page="currentPage" ng-class-odd="'odd'">
                        <td>{{itemsPerPage *(currentPage-1)+$index+1}}</td>
                        <td> {{ user.pasE_FirstName}} <span ng-if="user.pasE_MiddleName !== null" class="lbl padding-8">  {{ user.pasE_MiddleName}} {{ user.pasE_LastName}}</span> </td>
                        <!--<td>{{ user.pasE_MiddleName}}</td>
                         <td>{{ user.pasE_LastName}}</td>-->
                        <td>{{ user.pasE_Date | date:"dd-MM-yyyy" }}</td>
                        <td>{{ user.pasE_EnquiryNo}}</td>
                        <td style="overflow-wrap:break-word;">{{ user.pasE_EnquiryDetails}}</td>
                        <td>{{ user.pasE_MobileNo}}</td>
                        <td>{{ user.pasE_emailid}}</td>
                        <td hidden="hidden">{{user.pasE_Id}}</td>
                        <td class="text-center">
                            <span ng-show="userPrivileges.ivrmirP_UpdateFlag===true">
                                <a href="javascript:void(0)" ng-click="EditDetails(user)" class="text-primary" data-placement="bottom" data-toggle="tooltip" title="Edit">
                                    <i class="fa fa-pencil-square-o" aria-hidden="true"></i>
                                </a>
                            </span>
                            <span ng-show="userPrivileges.ivrmirP_DeleteFlag===true">
                                <a href="javascript:void(0)" ng-click="DeleteEnqDetails(user)"
                                   class="text-danger" data-placement="bottom" data-toggle="tooltip" title="Delete">
                                    <i class="fa fa-trash" aria-hidden="true"></i>
                                </a>
                            </span>
                        </td>
                    </tr>
                </tbody>
            </table>
            <dir-pagination-controls 
                                     direction-links="true"
                                     boundary-links="true">
            </dir-pagination-controls>
        </div>

    </div>

</section>