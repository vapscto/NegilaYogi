

<section class="content" data-ng-init="organi()">
    <!--<div>
        <div class="box box-primary">
            <div class="text-right">
                <md-button type="button" class="md-raised md-primary pull-left" id="save-btn" ng-click="Previous()">
                    <i class="fa fa-chevron-circle-left" aria-hidden="true"></i>
                    Previous
                </md-button>
                <md-button type="button" class="md-raised md-primary" id="save-btn" ng-click="Next()">
                    Next
                    <i class="fa fa-chevron-circle-right" aria-hidden="true"></i>
                </md-button>
                <md-button type="button" class="md-raised md-warn"
                           ng-click="Finish()">
                    Finish
                    <i class="fa fa-thumbs-up" aria-hidden="true"></i>
                </md-button>
            </div>
        </div>
    </div>-->

    <div class="box box-primary">
        <div class="box-header with-border">
            <h3 class="box-title">Master Trust</h3>
            <div class="box-tools pull-right">
                <button type="button" id="first" class="btn btn-box-tool" data-widget="collapse" data-placement="bottom" data-toggle="tooltip" title="collapsible"><i class="fa fa-minus"></i></button>
            </div>
        </div>
        <div class="box-body">
            <form class="form-horizontal" role="form" name="myForm" data-ng-submit="saveorgdata()" method="post" novalidate>
                <div class="row">
                    <div class="col-sm-6">
                        <div class="form-group">
                            <label class="control-label col-sm-3">Trust Name: <span style="color:Red">*</span></label>
                            <div class="col-sm-9">
                                <input type="text" name="name" data-ng-model="MO_Name" class="form-control" required maxlength="150"  allow-pattern="(\s|[a-zA-Z])" />
                                <div class="error-messages" ng-if="interacted(myForm.name)" ng-messages="myForm.name.$error">
                                    <div ng-message="required">Enter the field Trust Name</div>
                                    <div ng-message="pattern">The field contains only alphabets</div>
                                    <div ng-message="maxlength">The field should not exceed more than 150 Characters</div>
                                </div>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="control-label col-sm-3">Trust Type: <span style="color:Red">*</span></label>
                            <div class="col-sm-9">
                                <select class="form-control" id="sel1" data-ng-model="MO_OrganisationType" name="type" required>
                                    <option value=""> Select </option>
                                    <option value="Yearly">Yearly</option>
                                    <option value="Semester">Semester</option>
                                    <option value="Group">Group</option>
                                </select>

                                <div class="error-messages" ng-if="interacted(myForm.type)" ng-messages="myForm.type.$error">

                                    <div ng-message="required">Enter the field Trust Type</div>


                                </div>

                            </div>
                        </div>

                        <div class="form-group">
                            <label class="control-label col-sm-3">Address1 :<span style="color:Red">*</span></label>
                            <div class="col-sm-9 text-right">
                                <textarea class="form-control" rows="2" data-ng-model="MO_Address1" ng-trim="false" maxlength="40" placeholder="Flat no/house no" ng-required="true" name="address"></textarea>
                                <span ng-hide="">{{40 - MO_Address1.length}} left</span>
                            </div>

                            <div class="col-sm-6 col-sm-offset-3 error-messages" ng-if="interacted(myForm.address)" ng-messages="myForm.address.$error">

                                <div ng-message="required">Enter the Address1</div>
                                <div ng-message="minlength">Field must contain atleast 6 characters</div>
                                <div ng-message="maxlength">Field cannot take more than 40 characters</div>


                            </div>

                        </div>
                        <div class="form-group">
                            <label class="control-label col-sm-3">Address2 :<span style="color:Red">*</span></label>
                            <div class="col-sm-9 text-right">
                                <textarea class="form-control" rows="2" data-ng-model="MO_Address2" ng-trim="false" maxlength="40" placeholder="street" ng-required="true" name="address2"></textarea>
                                <span>{{40 - MO_Address2.length}} left</span>
                            </div>
                            <div class="col-sm-6 col-sm-offset-3 error-messages" ng-if="interacted(myForm.address2)" ng-messages="myForm.address2.$error">

                                <div ng-message="required">Enter the Address2</div>
                                <div ng-message="minlength">Field must contain atleast 6 characters</div>
                                <div ng-message="maxlength">Field cannot take more than 40 characters</div>


                            </div>
                        </div>
                        <div class="form-group">
                            <label class="control-label col-sm-3">Address3 :<span style="color:Red">*</span></label>
                            <div class="col-sm-9 text-right">
                                <textarea class="form-control" rows="2" data-ng-model="MO_Address3" ng-trim="false" maxlength="40" placeholder="colony/area/locality" ng-required="true" name="address3"></textarea>
                                <span>{{40 - MO_Address3.length}} left</span>
                            </div>
                            <div class="col-sm-6 col-sm-offset-3 error-messages" ng-if="interacted(myForm.address3)" ng-messages="myForm.address3.$error">

                                <div ng-message="required">Enter the Address3</div>
                                <div ng-message="minlength">Field must contain atleast 6 characters</div>
                                <div ng-message="maxlength">Field cannot take more than 40 characters</div>


                            </div>
                        </div>

                        <div class="form-group">
                            <!--<label class="control-label col-sm-3">City</label>
                            <div class="col-sm-9">
                                <select class="form-control" id="sel1" data-ng-model="IVRMMCT_Id" ng-change="getcurrencydetails(arrlist2)" >
                                    ng-change="onchangecity(arrlist2)"
                                    <option value="" label="Select City"> </option>
                                    <option ng-repeat="option in arrlist2" value="{{option.ivrmmcT_Id}}" ng-selected="{{option.Selected == true}}">
                                        {{option.ivrmmcT_Name}}
                                    </option>
                                </select>
                            </div>-->

                            <label class="control-label col-sm-3">Country:<span style="color:Red">*</span></label>
                            <div class="col-sm-9">

                                <select class="form-control" id="sel1" ng-model="IVRMMC_Id" ng-change="onSelectcountryChangecount(arrlistcoun)" name="country" required>
                                    <option value="" label="Select Country"> Select</option>
                                    <option ng-repeat="option in arrlistcoun" value="{{option.ivrmmC_Id}}" ng-selected="{{option.Selected == true}}">
                                        {{option.ivrmmC_CountryName}}
                                    </option>
                                </select>
                                <div class="error-messages" ng-if="interacted(myForm.country)" ng-messages="myForm.country.$error">

                                    <div ng-message="required">Select Country</div>
                                </div>
                            </div>

                        </div>

                    </div>
                    <div class="col-sm-6">
                        <div class="form-group">
                            <label class="control-label col-sm-3">State:<span style="color:Red">*</span></label>
                            <div class="col-sm-9">
                                <select class="form-control" id="sel1" ng-model="IVRMMS_Id" ng-change="onSelectstateChange(arrliststate)" name="state" required>
                                    <!--ng-change="onSelectstateChange(arrliststate)"-->
                                    <option value="" label="Select State">Select </option>
                                    <option ng-repeat="option in arrliststate" value="{{option.ivrmmS_Id}}" ng-selected="{{option.Selected == true}}">
                                        {{option.ivrmmS_Name}}
                                    </option>
                                </select>
                                <div class="error-messages" ng-if="interacted(myForm.state)" ng-messages="myForm.state.$error">

                                    <div ng-message="required">Select State</div>
                                </div>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="control-label col-sm-3">City <span style="color:Red">*</span> </label>
                            <div class="col-sm-9">
                                <!--<select class="form-control" id="sel1" data-ng-model="IVRMMCT_Name" ng-change="getcurrencydetails(arrlist2)">
                                    ng-change="onchangecity(arrlist2)"
                                    <option value="" label="Select City"> </option>
                                    <option ng-repeat="option in arrlist2" value="{{option.ivrmmcT_Name}}" ng-selected="{{option.Selected == true}}">
                                        {{option.ivrmmcT_Name}}
                                    </option>
                                </select>-->

                                <input type="text" name="city" data-ng-model="IVRMMCT_Name" class="form-control" ng-required="true" maxlength="40" allow-pattern="(\s|[a-zA-Z])" />
                                <div class="error-messages" ng-if="interacted(myForm.city)" ng-messages="myForm.city.$error">

                                    <div ng-message="required">Enter the city</div>
                                </div>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="control-label col-sm-3">Pincode <span style="color:Red">*</span></label>
                            <div class="col-sm-9">
                                <input type="text" class="form-control" data-ng-model="MO_Pincode" name="pincode" maxlength="6" ng-minlength="6" allow-pattern="\d" required>
                                <div class="error-messages" ng-if="interacted(myForm.pincode)" ng-messages="myForm.pincode.$error">

                                    <div ng-message="required">Enter the Pincode</div>
                                    <div ng-message="minlength">Field must contain atleast 6 characters</div>

                                </div>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="control-label col-sm-3">Website:</label>
                            <div class="col-sm-9" style="">
                                <input class="form-control active" id="reservation" type="text" data-ng-model="MO_Website">
                            </div>
                        </div>

                        <div class="form-group" data-ng-repeat="phone in phones track by $index" ng-form="dataForm">
                            <label class="col-sm-3">
                                Phone No:<span style="color:Red">*</span>

                            </label>

                            <div class="col-sm-9 input-group" style="">
                                <div class="input-group-addon">
                                    <i class="fa fa-phone" aria-hidden="true"></i>
                                </div>


                                <input name="pho" type="text" class="form-control" data-ng-model="phones[$index].mopN_PhoneNo" allow-pattern="\d" maxlength="10" ng-minlength="10" required>
                                <span ng-show="$last" ng-disabled="!myForm.$dirty" class="input-group-addon" ng-hide="phones.length > 4">
                                    <a href="" ng-click="addNewPhone(moP_Flag)" style="color:#000;">
                                        <i class="fa fa-plus"></i>
                                    </a>
                                </span>
                                <span ng-hide="$first" class="input-group-addon">
                                    <a href="" ng-click="removeNewPhone($index,phones[$index].moP_Flag);" style="color:#000;">
                                        <i class="fa fa-minus"></i>
                                    </a>
                                </span>

                                <select class="form-control" name="sphn" id="sel1" data-ng-model="phones[$index].moP_Flag" ng-change="defchange(phones[$index].moP_Flag);" required>
                                    <!--ng-change="defchange(curval);"-->
                                    <option value="">Select</option>
                                    <option ng-repeat="i in options" value="{{i.option}}" ng-disabled="disabled[i.option]" ng-selected="{{i.option ==  phone.moP_Flag}}">{{i.option}}</option>
                                </select>
                            </div>


                            <!--<div class="col-sm-6 col-sm-offset-3">
                                <span style="color:Red" ng-show="myForm.pho.$dirty&&myForm.pho.$error.pattern">
                                    Please Enter Valid Phone No

                                </span>
                            </div>-->

                            <div class="col-sm-6  col-sm-offset-3 error-messages" ng-if="interacted(dataForm.pho)" ng-messages="dataForm.pho.$error">
                                <div ng-message="required">Enter Phone number</div>
                                <div ng-message="minlength">Phone number must contain 10 digits</div>
                                <div ng-message="maxlength">Phone number must contain 10 digits</div>
                                <div ng-message="show">both are same</div>
                            </div>
                            <div class="col-sm-6  col-sm-offset-3 error-messages" ng-if="interacted(dataForm.sphn)" ng-messages="dataForm.sphn.$error">
                                <div ng-message="required">Select Phone type</div>
                            </div>
                        </div>

                        <div class="form-group" data-ng-repeat="mobile in mobiles track by $index" ng-form="dataForm">
                            <label class="col-sm-3">
                                Mobile Number:<span style="color:Red">*</span>
                            </label>

                            <div class="col-sm-9 input-group" style="">
                                <div class="input-group-addon">
                                    <i class="fa fa-tablet"></i>
                                </div>
                                <div class="input-group-addon">
                                    {{phonecode}}
                                </div>
                                <input name="mob" type="text" class="form-control" data-ng-model="mobiles[$index].momN_MobileNo" allow-pattern="\d" ng-disabled="dismobile" maxlength={{ccodelength}} ng-minlength={{ccodelength}} required>
                                <span ng-show="$last" ng-disabled="!myForm.$dirty" class="input-group-addon" ng-hide="mobiles.length > 4">
                                    <a href="" ng-click="addNewMobile(moM_Flag)" style="color:#000;">
                                        <i class="fa fa-plus"></i>
                                    </a>
                                </span>
                                <span ng-hide="$first" class="input-group-addon">
                                    <a href="" ng-click="removeNewMobile($index,mobiles[$index].moM_Flag);" style="color:#000;">
                                        <i class="fa fa-minus"></i>
                                    </a>
                                </span>

                                <select class="form-control" name="smob" data-ng-model="mobiles[$index].moM_Flag" ng-change="defchange1(mobiles[$index].moM_Flag);" required>
                                    <!--ng-change="defchange(curval);"-->
                                    <option value="">Select</option>
                                    <option ng-repeat="i in options1" value="{{i.option}}" ng-disabled="disabled1[i.option]" ng-selected="{{i.option ==  mobile.moM_Flag}}">{{i.option}}</option>
                                </select>
                            </div>
                            <div class="col-sm-6  col-sm-offset-3 error-messages" ng-if="interacted(dataForm.mob)" ng-messages="dataForm.mob.$error">
                                <div ng-message="required">Enter mobile number</div>
                                <div ng-message="minlength">Mobile number must contain {{ccodelength}} digits</div>
                                <div ng-message="maxlength">Mobile number must contain {{ccodelength}} digits</div>
                                <!--<div ng-message="validationError">Select Country before Entering Mobile no</div>-->
                            </div>
                            <div class="col-sm-6  col-sm-offset-3 error-messages" ng-if="interacted(dataForm.smob)" ng-messages="dataForm.smob.$error">
                                <div ng-message="required">Select Mobile type</div>
                            </div>
                        </div>

                        <div class="form-group" data-ng-repeat="email in emails track by $index" ng-form="dataForm">
                            <label class="col-sm-3">
                                Email-ID:<span style="color:Red">*</span>
                            </label>

                            <div class="col-sm-9 input-group" style="">
                                <div class="input-group-addon">
                                    <i class="fa fa-envelope"></i>
                                </div>
                                <input name="email" type="text" class="form-control" data-ng-model="emails[$index].moE_EmailId" ng-pattern="/^[^\s@]+@[^\s@]+\.[^\s@]{2,}$/" required>
                                <span ng-show="$last" ng-disabled="!myForm.$dirty" class="input-group-addon" ng-hide="emails.length > 4">
                                    <a href="" ng-click="addNewEmail(moE_Flag)" style="color:#000;">
                                        <i class="fa fa-plus"></i>
                                    </a>
                                </span>
                                <span ng-hide="$first" class="input-group-addon">
                                    <a href="" ng-click="removeNewEmail($index,emails[$index].moE_Flag);" style="color:#000;">
                                        <i class="fa fa-minus"></i>
                                    </a>
                                </span>

                                <select class="form-control" name="semail" data-ng-model="emails[$index].moE_Flag" ng-change="defchange2(emails[$index].moE_Flag);" required>
                                    <!--ng-change="defchange(curval);"-->
                                    <option value="">Select</option>
                                    <option ng-repeat="i in options2" value="{{i.option}}" ng-disabled="disabled2[i.option]" ng-selected="{{i.option ==  email.moE_Flag}}">{{i.option}}</option>
                                </select>

                            </div>


                            <div class="col-sm-6  col-sm-offset-3 error-messages" ng-if="interacted(dataForm.email)" ng-messages="dataForm.email.$error">
                                <div ng-message="required">Enter a email</div>
                                <div ng-message="pattern">Please enter valid email which contains '@' and '.'</div>
                            </div>
                            <div class="col-sm-6  col-sm-offset-3 error-messages" ng-if="interacted(dataForm.semail)" ng-messages="dataForm.semail.$error">
                                <div ng-message="required">Select Email type</div>
                            </div>
                        </div>

                        <div class="form-group">
                            <label class="control-label col-sm-3">Fax</label>
                            <div class="col-sm-9">
                                <input type="text" name="faxno" class="form-control" data-ng-model="MO_FaxNo" maxlength="11" allow-pattern="(\d|,)">

                                <div class="col-sm-6  col-sm-offset-3 error-messages" ng-if="interacted(myForm.faxno)" ng-messages="myForm.faxno.$error">

                                    <div ng-message="pattern"> Pattern does not match </div>

                                </div>

                            </div>
                        </div>
                        <div class="form-group">
                            <label class="control-label col-sm-3">Default Currency</label>
                            <div class="col-sm-9 input-group" style="">
                                <div class="col-sm-9">
                                    <!--<div class="input-group-addon">-->
                                    <!--<i class="fa fa-inr"></i>-->
                                </div>
                                <input class="form-control" type="text" id="defaultcurrency" data-ng-model="MT_Currency" ng-disabled="true">
                                <!--data-ng-model="MO_ActiveFlag"-->
                            </div>
                        </div>

                        <div class="form-group">
                            <label class="control-label col-sm-3">Domain Name <span style="color:Red">*</span></label>
                            <div class="col-sm-9 input-group" style="">
                                <div class="col-sm-9">
                                    <!--<div class="input-group-addon">-->
                                    <!--<i class="fa fa-inr"></i>-->
                                </div>
                                <input class="form-control" name="domainname" type="text" id="domainname" data-ng-model="MT_Domain_name" required>
                                <!--data-ng-model="MO_ActiveFlag"-->
                                <div class="error-messages" ng-if="interacted(myForm.domainname)" ng-messages="myForm.domainname.$error">
                                    <div ng-message="required">Enter the Domain Name</div>
                                </div>
                            </div>



                        </div>

                    </div>
                </div>
                <hr />
                <div class="row">
                    <div class="text-center">
                        <input type="hidden" ng-model="MO_Id" />
                        <span ng-show="userPrivileges.ivrmirP_AddFlag===true">
                            <md-button type="submit" class="md-raised md-primary" id="save-btn">
                                <!--ng-disabled="myForm.$invalid"-->
                                <i class="fa fa-floppy-o" aria-hidden="true"></i>
                                Save
                            </md-button>
                        </span>
                        <md-button type="button" class="md-raised md-warn" ng-click="cance()">
                            <i class="fa fa-hand-paper-o" aria-hidden="true"></i>
                            Clear
                        </md-button>
                    </div>
                </div>
            </form>
        </div>
    </div>
    <div class="box box-primary">
        <div class="box-header with-border">
            <h3 class="box-title">Trust Details</h3>
            <div class="box-tools pull-right">
                <button type="button" class="btn btn-box-tool" data-widget="collapse" data-placement="bottom" data-toggle="tooltip" title="collapsible"><i class="fa fa-minus"></i></button>
            </div>
        </div>
        <!-- /.box-header -->
        <div class="box-body">
            <div class="col-sm-2 pull-right">
                <div class="form-group">
                    <form>
                        <div class="input-group">
                            <span ng-show="userPrivileges.ivrmirP_SearchFlag===true">
                                <input class="form-control" ng-model="search" type="text" placeholder="search here...">
                            </span> <!--ng-model="inst.searchString"-->
                            <!--<span class="input-group-addon">
                                <button type="submit"><i class="fa fa-search"></i></button>
                            </span>
                            <select class="form-control" ng-model="inst.searchType" id="searchType">
                                <option value="">All</option>
                                <option value="mO_Name">Trust Name</option>
                                <option value="mO_OrganisationType">Trust Type</option>
                                <option value="ActiveInactive">Enable/Disable</option>
                            </select>-->
                        </div>
                    </form>
                </div>
            </div>


            <table class="table table-hover table-responsive table-bordered">
                <thead>
                    <tr>
                        <th style="text-align:center">
                            <a href="" ng-click="sort('sno')">SL.NO</a>
                        </th>
                        <th style="text-align:center">
                            <a href="" ng-click="sort('mO_Name')">Trust Name</a>
                        </th>
                        <th style="text-align:center">
                            <a href="" ng-click="sort('mO_OrganisationType')">Trust type</a>
                        </th>

                        <!--<th style="text-align:center">
                            <a href="">Active/InActive</a>
                        </th>-->

                        <th style="text-align:center">Edit/Activate/Deactivate</th>
                    </tr>
                </thead>
                <tbody>

                    <!--<tr>
                        <td> <input type="text" ng-model="search.sno" class="form-control" /></td>
                        <td> <input type="text" ng-model="search.mO_Name" class="form-control" /></td>
                        <td> <input type="text" ng-model="search.mO_OrganisationType" class="form-control" /> </td>
                    </tr>-->
                    <!--<tr ng-repeat="user in orgname | orderBy:predicate:default | filter:paginate| filter:search" ng-class-odd="'odd'">
                    <td>{{ $index + 1}}</td>-->
                    <!--<tr dir-paginate="user in orgname |orderBy:sortKey:reverse |filter:search |itemsPerPage:itemsPerPage" total-items="totalitems" pagination-id="paginate1" current-page="currentPage" ng-class-odd="'odd'">-->
                    <tr dir-paginate="user in orgname |orderBy:sortKey:reverse |filter:search |itemsPerPage:itemsPerPage" current-page="currentPage">
                        <td style="text-align:center">{{itemsPerPage *(currentPage-1)+$index+1}}</td>

                        <td style="overflow-wrap:break-word">{{ user.mO_Name}}</td>
                        <td>{{ user.mO_OrganisationType}}</td>

                        <!--<td ng-if="user.mO_ActiveFlag === 0"> Active </td>
                        <td ng-if="user.mO_ActiveFlag === 1"> InActive </td>-->

                        <td class="text-center" ng-if="user.mO_ActiveFlag === 0">
                            <a href="javascript:void(0)" ng-click="getorgvalue(user)" class="text-primary" data-placement="bottom" data-toggle="tooltip" title="Edit">
                                <i class="fa fa-pencil-square-o" aria-hidden="true"></i>
                            </a> |
                            <a href="javascript:void(0)" ng-click="deletrec(user)"
                               class="text-green" data-placement="bottom" data-toggle="tooltip" title="Activate">
                                Activate
                            </a>
                        </td>

                        <td class="text-center" ng-if="user.mO_ActiveFlag === 1">
                            <a href="javascript:void(0)" ng-click="getorgvalue(user)" class="text-primary" data-placement="bottom" data-toggle="tooltip" title="Edit">
                                <i class="fa fa-pencil-square-o" aria-hidden="true"></i>
                            </a> |
                            <a href="javascript:void(0)" ng-click="deletrec(user)"
                               class="text-danger" data-placement="bottom" data-toggle="tooltip" title="Deactivate">
                                Deactivate
                            </a>
                        </td>

                    </tr>
                </tbody>
            </table>
            <!--<dir-pagination-controls max-size="5" pagination-id="paginate1" direction-links="true" boundary-links="true"></dir-pagination-controls>-->  <!--on-page-change="pageChanged(newPageNumber)"-->

            <dir-pagination-controls max-size="5"
                                     direction-links="true"
                                     boundary-links="true">
            </dir-pagination-controls>

        </div>
    </div>


</section>
